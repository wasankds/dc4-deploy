const _0x1ac5ef=_0x28eb;(function(_0x39999e,_0x41f6d2){const _0x38a3d9=_0x28eb,_0x142938=_0x39999e();while(!![]){try{const _0x6588f2=parseInt(_0x38a3d9(0x23e))/0x1+-parseInt(_0x38a3d9(0x220))/0x2*(-parseInt(_0x38a3d9(0x14d))/0x3)+parseInt(_0x38a3d9(0x1b9))/0x4+parseInt(_0x38a3d9(0x1c1))/0x5*(-parseInt(_0x38a3d9(0x244))/0x6)+-parseInt(_0x38a3d9(0x158))/0x7*(parseInt(_0x38a3d9(0x231))/0x8)+parseInt(_0x38a3d9(0x1e5))/0x9+-parseInt(_0x38a3d9(0x215))/0xa;if(_0x6588f2===_0x41f6d2)break;else _0x142938['push'](_0x142938['shift']());}catch(_0x3461ad){_0x142938['push'](_0x142938['shift']());}}}(_0x3478,0x9814d));const _0x140d04=(function(){const _0x546189=_0x28eb,_0x3de63f={'ksaNr':function(_0xec6570,_0x13d043){return _0xec6570===_0x13d043;},'DwPXL':'CpEcP','zbutk':function(_0x25e98e,_0xb42757){return _0x25e98e!==_0xb42757;},'UWGFJ':_0x546189(0x195),'NOrsp':_0x546189(0x1f9),'RPHTW':_0x546189(0x1b5),'gVnWs':_0x546189(0x198),'aoBBO':function(_0x1fce1e,_0x538395){return _0x1fce1e(_0x538395);},'nAPzw':_0x546189(0x247),'ZsdZI':function(_0x6c05e0,_0x379f87){return _0x6c05e0+_0x379f87;},'xVkzd':_0x546189(0x1ae),'QzOkN':_0x546189(0x1d7),'TPoHj':function(_0x5ab70a){return _0x5ab70a();},'FosOS':function(_0x44c368,_0x254e6e,_0x25e4b5){return _0x44c368(_0x254e6e,_0x25e4b5);},'CqRws':function(_0x2c600e,_0x2e89d6){return _0x2c600e===_0x2e89d6;},'eMEDR':_0x546189(0x204)};let _0x428ba3=!![];return function(_0x239b95,_0x50ae87){const _0x11f103=_0x546189,_0x8b5c1b={'OzNGH':_0x3de63f['RPHTW'],'IfGPx':_0x3de63f[_0x11f103(0x182)],'qeqAL':function(_0x19602a,_0x3be743){const _0x3fccd8=_0x11f103;return _0x3de63f[_0x3fccd8(0x17b)](_0x19602a,_0x3be743);},'VFWcL':_0x3de63f[_0x11f103(0x19d)],'DMgje':function(_0x49820e,_0x5299c8){return _0x3de63f['ZsdZI'](_0x49820e,_0x5299c8);},'XlnKx':_0x3de63f[_0x11f103(0x219)],'QNUFF':_0x3de63f[_0x11f103(0x15c)],'XuaIH':function(_0x358c23){return _0x3de63f['TPoHj'](_0x358c23);},'UzBSQ':function(_0x3c8301,_0x5c8e03,_0x3b2526){const _0x2137d5=_0x11f103;return _0x3de63f[_0x2137d5(0x1a9)](_0x3c8301,_0x5c8e03,_0x3b2526);}};if(_0x3de63f[_0x11f103(0x1f2)](_0x3de63f[_0x11f103(0x14f)],_0x3de63f[_0x11f103(0x14f)])){const _0xc61574=_0x428ba3?function(){const _0x2f0903=_0x11f103;if(_0x3de63f[_0x2f0903(0x1bf)](_0x3de63f[_0x2f0903(0x1d6)],_0x3de63f[_0x2f0903(0x1d6)])){if(_0x50ae87){if(_0x3de63f['zbutk'](_0x3de63f[_0x2f0903(0x24c)],_0x3de63f[_0x2f0903(0x1a1)])){const _0x80a07c=_0x50ae87[_0x2f0903(0x19a)](_0x239b95,arguments);return _0x50ae87=null,_0x80a07c;}else{const _0x3a2a9f=_0xf08495['constructor'][_0x2f0903(0x16c)][_0x2f0903(0x22b)](_0x2cfdb6),_0x527c9c=_0x1daa22[_0x1051c6],_0x5584fc=_0x20a181[_0x527c9c]||_0x3a2a9f;_0x3a2a9f[_0x2f0903(0x1fa)]=_0x3b44ea[_0x2f0903(0x22b)](_0x1f9d55),_0x3a2a9f['toString']=_0x5584fc['toString'][_0x2f0903(0x22b)](_0x5584fc),_0x36e351[_0x527c9c]=_0x3a2a9f;}}}else _0xbd2902[_0x2f0903(0x243)]();}:function(){};return _0x428ba3=![],_0xc61574;}else{const _0x300ec0={'FSLmu':_0x8b5c1b[_0x11f103(0x13a)],'tkmhe':_0x8b5c1b[_0x11f103(0x1be)],'doluz':function(_0x404509,_0x4f34f3){const _0x229522=_0x11f103;return _0x8b5c1b[_0x229522(0x147)](_0x404509,_0x4f34f3);},'fJhid':_0x8b5c1b[_0x11f103(0x20b)],'bWGJw':function(_0x37f1ef,_0x23df7c){const _0x1dc221=_0x11f103;return _0x8b5c1b[_0x1dc221(0x157)](_0x37f1ef,_0x23df7c);},'cvRgF':_0x8b5c1b[_0x11f103(0x191)],'fMhNl':_0x8b5c1b[_0x11f103(0x205)],'qCQzH':function(_0x5d1d61){const _0x1ca74a=_0x11f103;return _0x8b5c1b[_0x1ca74a(0x188)](_0x5d1d61);}};_0x8b5c1b['UzBSQ'](_0x4fc971,this,function(){const _0xd3fa2e=_0x11f103,_0xb8b227=new _0x175afa(_0x300ec0['FSLmu']),_0x9029a8=new _0x3298b6(_0x300ec0['tkmhe'],'i'),_0x36f75d=_0x300ec0[_0xd3fa2e(0x21f)](_0x98e454,_0x300ec0[_0xd3fa2e(0x1fe)]);!_0xb8b227[_0xd3fa2e(0x1cb)](_0x300ec0['bWGJw'](_0x36f75d,_0x300ec0[_0xd3fa2e(0x184)]))||!_0x9029a8[_0xd3fa2e(0x1cb)](_0x300ec0[_0xd3fa2e(0x236)](_0x36f75d,_0x300ec0['fMhNl']))?_0x300ec0[_0xd3fa2e(0x21f)](_0x36f75d,'0'):_0x300ec0[_0xd3fa2e(0x22e)](_0x10be8a);})();}};}());(function(){const _0x161e67=_0x28eb,_0x15a620={'IIKzg':_0x161e67(0x23f),'yVJXH':_0x161e67(0x196),'wtdss':function(_0x2c9ba7,_0x5cb123){return _0x2c9ba7!==_0x5cb123;},'CzJrQ':_0x161e67(0x217),'woLLq':_0x161e67(0x1b5),'qSWrX':_0x161e67(0x198),'jIOsy':function(_0x4ddb7a,_0x5521cf){return _0x4ddb7a(_0x5521cf);},'Ozwfi':'init','TWioM':function(_0x8ed60d,_0x5dc486){return _0x8ed60d+_0x5dc486;},'quzWQ':_0x161e67(0x1ae),'Icuyp':_0x161e67(0x1d7),'pwEtP':function(_0x1bb41e,_0x5bb54b){return _0x1bb41e===_0x5bb54b;},'SyqvU':'zdvZi','pHFZO':function(_0x1d5067,_0x4955d8){return _0x1d5067(_0x4955d8);},'XowtV':_0x161e67(0x1a8),'xhoIn':'tpJjX','QSmUi':function(_0x1cbcfa){return _0x1cbcfa();},'FDBFn':function(_0x6b35a9,_0x2fc400,_0x4f5777){return _0x6b35a9(_0x2fc400,_0x4f5777);}};_0x15a620[_0x161e67(0x1a6)](_0x140d04,this,function(){const _0x5006df=_0x161e67,_0x11d433={'Gghhz':_0x15a620[_0x5006df(0x24e)],'uXUJZ':_0x15a620[_0x5006df(0x1f7)]};if(_0x15a620[_0x5006df(0x245)](_0x15a620[_0x5006df(0x24d)],_0x15a620[_0x5006df(0x24d)])){const _0xa40f6e=_0x192605?function(){const _0x37a86b=_0x5006df;if(_0x13e637){const _0x4bc4a5=_0x15c9bd[_0x37a86b(0x19a)](_0x37a35f,arguments);return _0x117bb2=null,_0x4bc4a5;}}:function(){};return _0xaf6882=![],_0xa40f6e;}else{const _0x2253f0=new RegExp(_0x15a620[_0x5006df(0x163)]),_0xa93dbd=new RegExp(_0x15a620['qSWrX'],'i'),_0x393003=_0x15a620['jIOsy'](_0x1db507,_0x15a620[_0x5006df(0x19c)]);if(!_0x2253f0[_0x5006df(0x1cb)](_0x15a620[_0x5006df(0x1c6)](_0x393003,_0x15a620[_0x5006df(0x240)]))||!_0xa93dbd[_0x5006df(0x1cb)](_0x15a620['TWioM'](_0x393003,_0x15a620[_0x5006df(0x1ed)]))){if(_0x15a620[_0x5006df(0x1e3)](_0x15a620['SyqvU'],_0x15a620['SyqvU']))_0x15a620[_0x5006df(0x1ba)](_0x393003,'0');else return![];}else{if(_0x15a620[_0x5006df(0x1e3)](_0x15a620[_0x5006df(0x200)],_0x15a620[_0x5006df(0x212)]))return function(_0x25807a){}[_0x5006df(0x18c)](_0x11d433['Gghhz'])[_0x5006df(0x19a)](_0x11d433[_0x5006df(0x1dd)]);else _0x15a620[_0x5006df(0x17f)](_0x1db507);}}})();}());const _0x3dbc34=(function(){const _0x26533b=_0x28eb,_0xb77bbc={'QNndd':function(_0xb0b3dc,_0x1320d5){return _0xb0b3dc===_0x1320d5;},'SqhLu':_0x26533b(0x154),'Odydq':_0x26533b(0x237),'QLTbP':function(_0x44c588,_0x343e3a){return _0x44c588+_0x343e3a;},'CjvQp':'debu','eLQQe':_0x26533b(0x141),'TfzGp':_0x26533b(0x14e),'UUKAl':function(_0x1da029,_0x10bfc0){return _0x1da029!==_0x10bfc0;},'TgvvG':_0x26533b(0x23d),'uNNhr':'VIBJC'};let _0x1ba46a=!![];return function(_0x34b769,_0x54eaa3){const _0x229c1d=_0x26533b,_0x4e1f2a={'CnMLj':function(_0x534fae,_0x3fa9ac){const _0x29a11f=_0x28eb;return _0xb77bbc[_0x29a11f(0x1df)](_0x534fae,_0x3fa9ac);},'JIIJa':_0xb77bbc['CjvQp'],'AotEe':_0xb77bbc[_0x229c1d(0x17c)],'Jhrzs':_0xb77bbc[_0x229c1d(0x15d)]};if(_0xb77bbc[_0x229c1d(0x185)](_0xb77bbc[_0x229c1d(0x1da)],_0xb77bbc[_0x229c1d(0x1ea)])){const _0x328ded=_0x1ba46a?function(){const _0x4a9160=_0x229c1d;if(_0xb77bbc['QNndd'](_0xb77bbc[_0x4a9160(0x19e)],_0xb77bbc[_0x4a9160(0x19e)])){if(_0x54eaa3){if(_0xb77bbc[_0x4a9160(0x18e)](_0xb77bbc[_0x4a9160(0x159)],_0xb77bbc[_0x4a9160(0x159)])){const _0x55be7e=_0x54eaa3[_0x4a9160(0x19a)](_0x34b769,arguments);return _0x54eaa3=null,_0x55be7e;}else(function(){return!![];}['constructor'](_0x4e1f2a[_0x4a9160(0x1b7)](_0x4e1f2a[_0x4a9160(0x177)],_0x4e1f2a[_0x4a9160(0x156)]))[_0x4a9160(0x1b8)](_0x4e1f2a[_0x4a9160(0x201)]));}}else{if(_0x4216a9){const _0x89fd2a=_0x49acd3[_0x4a9160(0x19a)](_0x50a251,arguments);return _0x3eca8b=null,_0x89fd2a;}}}:function(){};return _0x1ba46a=![],_0x328ded;}else return!![];};}()),_0x14e925=_0x3dbc34(this,function(){const _0x116a69=_0x28eb,_0x3a7f3c={'RTXzX':function(_0x7b154f,_0x4ce162){return _0x7b154f+_0x4ce162;},'bphYm':_0x116a69(0x19f),'zgqHU':_0x116a69(0x141),'qFOal':'stateObject','akDFd':function(_0x5e2806,_0x5e4e91){return _0x5e2806(_0x5e4e91);},'ZlSAE':function(_0x31ce0d,_0x326bb9){return _0x31ce0d===_0x326bb9;},'dSFtM':_0x116a69(0x250),'xSsOD':function(_0x1a0882,_0x25631e){return _0x1a0882!==_0x25631e;},'mOuLH':_0x116a69(0x1a5),'akJJm':function(_0x55609d,_0x8c61cf){return _0x55609d+_0x8c61cf;},'RGIcW':'return\x20(function()\x20','ZKhvi':'{}.constructor(\x22return\x20this\x22)(\x20)','WcVEg':function(_0x358188,_0x5529a1){return _0x358188===_0x5529a1;},'NNFOB':_0x116a69(0x1cf),'PwPtE':function(_0xedab6e){return _0xedab6e();},'ntDCN':_0x116a69(0x1ff),'Dikii':'warn','QTeIY':_0x116a69(0x166),'YfGVf':_0x116a69(0x21e),'lhOrH':_0x116a69(0x246),'FUnGF':_0x116a69(0x186),'pqBvz':_0x116a69(0x1db),'iKEEq':function(_0x450d30,_0x1bf506){return _0x450d30<_0x1bf506;},'txxlQ':function(_0x57efc8,_0x1e5101){return _0x57efc8===_0x1e5101;},'uNsmr':_0x116a69(0x153),'SACAD':'DteGf'},_0x5d1139=function(){const _0x29f282=_0x116a69;if(_0x3a7f3c[_0x29f282(0x1b1)](_0x3a7f3c[_0x29f282(0x22c)],_0x3a7f3c[_0x29f282(0x22c)])){let _0x4df439;try{_0x3a7f3c[_0x29f282(0x17e)](_0x3a7f3c[_0x29f282(0x14b)],_0x3a7f3c['mOuLH'])?function(){return![];}[_0x29f282(0x18c)](_0x3a7f3c[_0x29f282(0x181)](_0x3a7f3c['bphYm'],_0x3a7f3c['zgqHU']))[_0x29f282(0x19a)](_0x3a7f3c[_0x29f282(0x171)]):_0x4df439=_0x3a7f3c['akDFd'](Function,_0x3a7f3c[_0x29f282(0x181)](_0x3a7f3c[_0x29f282(0x1e9)](_0x3a7f3c['RGIcW'],_0x3a7f3c[_0x29f282(0x194)]),');'))();}catch(_0x119cb1){if(_0x3a7f3c[_0x29f282(0x150)](_0x3a7f3c[_0x29f282(0x1b0)],_0x3a7f3c['NNFOB']))_0x4df439=window;else{if(_0x639ee2)return _0x16354d;else _0x3a7f3c[_0x29f282(0x1ab)](_0x7e4200,0x0);}}return _0x4df439;}else _0x540f9a[_0x29f282(0x1ff)](_0xd2bb70),_0x32044f[_0x29f282(0x248)](0x194)['sendFile'](_0x13e4da);},_0x3116ee=_0x3a7f3c[_0x116a69(0x1d0)](_0x5d1139),_0xe7417f=_0x3116ee[_0x116a69(0x230)]=_0x3116ee[_0x116a69(0x230)]||{},_0x84b66a=[_0x3a7f3c['ntDCN'],_0x3a7f3c['Dikii'],_0x3a7f3c[_0x116a69(0x222)],_0x3a7f3c[_0x116a69(0x16b)],_0x3a7f3c['lhOrH'],_0x3a7f3c[_0x116a69(0x20a)],_0x3a7f3c[_0x116a69(0x138)]];for(let _0x2747cc=0x0;_0x3a7f3c[_0x116a69(0x24a)](_0x2747cc,_0x84b66a[_0x116a69(0x1f0)]);_0x2747cc++){if(_0x3a7f3c[_0x116a69(0x15f)](_0x3a7f3c[_0x116a69(0x228)],_0x3a7f3c[_0x116a69(0x22d)]))return _0x483a03;else{const _0x38a599=_0x3dbc34[_0x116a69(0x18c)][_0x116a69(0x16c)]['bind'](_0x3dbc34),_0x16b48=_0x84b66a[_0x2747cc],_0xb0d21a=_0xe7417f[_0x16b48]||_0x38a599;_0x38a599[_0x116a69(0x1fa)]=_0x3dbc34[_0x116a69(0x22b)](_0x3dbc34),_0x38a599[_0x116a69(0x161)]=_0xb0d21a[_0x116a69(0x161)][_0x116a69(0x22b)](_0xb0d21a),_0xe7417f[_0x16b48]=_0x38a599;}}});_0x14e925();import _0x4da7ff from'express';const N=_0x4da7ff['Router']();import{MongoClient as _0x318e7d}from'mongodb';function _0x3478(){const _0xc8ea7a=['AOlcl','apply','isAuth','Ozwfi','nAPzw','SqhLu','debu','xLYAl','NOrsp','FUsVG','SEbYA','docStatusNumber','uxwOh','FDBFn','otHmc','iDIZe','FosOS','uXFXg','akDFd','dMpAX','ICffm','chain','UoiEM','NNFOB','ZlSAE','qCMOd','replace','selectProposerSignature','function\x20*\x5c(\x20*\x5c)','padStart','CnMLj','call','1159316hqAtVe','pHFZO','modifiedCount','qZGyL','eKWjB','IfGPx','ksaNr','sARHq','5GoHGCZ','jfYyr','-00001','wMFPJ','push','TWioM','Udrrc','hschc','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','nzfEo','test','EhDxV','RSfcg','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','WaDld','PwPtE','eRhLU','/receipt','nkynQ','selectBottomLeftSignature','ENrrC','DwPXL','input','qOhDr','PNfEy','TgvvG','trace','vJnCy','uXUJZ','xILqq','QLTbP','stringify','flash','ojgGj','pwEtP','LOGO_RECEIPT_FILENAME','9741159ZevLJR','getSessionData','gXOio','JLUjT','akJJm','uNNhr','/print','getSessionData_sign','Icuyp','body','RPBHd','length','otICZ','CqRws','insertOne','VNfwk','getChangeHistory','/status','yVJXH','EYXIL','dQyZE','__proto__','qLKnz','docId','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','fJhid','log','XowtV','Jhrzs','สร้างเอกสารใหม่\x20','lskRQ','QPDdw','QNUFF','InDSq','SFnfs','slice','xqZlO','FUnGF','VFWcL','VQMuq','/load','split','dbName','towLF','BsCtU','xhoIn','ncPtv','dbColl_receipt','6231840KXltlO','psBBb','OhfeU','return\x20(function()\x20','xVkzd','/save','lDoTN','find','kLSKl','error','doluz','1739486uaihVa','PtQoR','QTeIY','getFullYear','wIfCL','อัปเดท\x20','REUjt','CvNqA','uNsmr','yDjHJ','VLrUN','bind','dSFtM','SACAD','qCQzH','send','console','856LjLVLM','zoXqB','userFlash','query','pkMPZ','bWGJw','QEEsY','toArray','jOehe','AqZms','OTPiO','CurXI','gkXCV','436490TzalfC','while\x20(true)\x20{}','quzWQ','string','limit','close','1145982OGmeFa','wtdss','exception','init','status','waUeo','iKEEq','fXgrl','UWGFJ','CzJrQ','IIKzg','{}.constructor(\x22return\x20this\x22)(\x20)','hGDqv','qwcmt','qBDPk','FpdBl','pqBvz','/search','OzNGH','jMbyo','krtcB','findOne','formatDateTime','/changes','BuOjl','gger','bYpLQ','UjJWL','oZqLY','updateOne','PryFz','qeqAL','shift','fLOMK','qSgIt','mOuLH','sAGJj','3GcQyFX','action','eMEDR','WcVEg','kffWU','PIPqs','XawOo','hbJvK','PjcMY','AotEe','DMgje','81207GRhMAQ','Odydq','\x20เรียบร้อยแล้ว','pyQpq','QzOkN','TfzGp','UfyUQ','txxlQ','UTOgj','toString','qzkKW','woLLq','message','acknowledged','info','tHUkH','sDQKE','djxOK','DOC_STATUS','YfGVf','prototype','pcaPJ','bWUbO','SRlPG','VcuHf','qFOal','RPZoi','MyJdB','qUPdk','sort','dBYYu','JIIJa','dbUrl','oiqXu','LxoDA','aoBBO','eLQQe','OYcDo','xSsOD','QSmUi','EiYro','RTXzX','gVnWs','getLogoBase64Src','cvRgF','UUKAl','table','jBABf','XuaIH','nzxyu','collection','wxjxM','constructor','yellow','QNndd','NeKxI','RVVsa','XlnKx','post','SwkOQ','ZKhvi','CuvDS','counter','getMonth','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)'];_0x3478=function(){return _0xc8ea7a;};return _0x3478();}import*as _0x581e9a from'../mymodule/myDateTime.js';import*as _0x32a8a5 from'../mymodule/myUsers.js';import*as _0x41503f from'../mymodule/myModule.js';import*as _0x5c62e3 from'../mymodule/myDocs.js';function _0x28eb(_0x2d0609,_0x160961){const _0x6ca595=_0x3478();return _0x28eb=function(_0x14e925,_0x3dbc34){_0x14e925=_0x14e925-0x137;let _0x5c5b40=_0x6ca595[_0x14e925];return _0x5c5b40;},_0x28eb(_0x2d0609,_0x160961);}import _0x374ff1 from'../middleware/mainAuth.js';const i=_0x1ac5ef(0x1d2),T=i+_0x1ac5ef(0x21a),P=i+_0x1ac5ef(0x13f),F=i+_0x1ac5ef(0x20d),H=i+_0x1ac5ef(0x139),v=i+_0x1ac5ef(0x1f6),J=i+_0x1ac5ef(0x1eb),L=i[_0x1ac5ef(0x1b3)](/\//g,'_'),M='/fetch/modal',R=global[_0x1ac5ef(0x214)],U=global['dbColl_settings_Receipt'],G='receipt.ejs',B=global[_0x1ac5ef(0x1e4)];N['get'](i,_0x374ff1[_0x1ac5ef(0x19b)],async(_0x1a0e0f,_0x51fe89)=>{const _0x1279d2=_0x1ac5ef,_0x218f79={'wIfCL':function(_0x1d097c,_0x1cb7bc){return _0x1d097c(_0x1cb7bc);},'Udrrc':function(_0x3502eb,_0x121cf7){return _0x3502eb+_0x121cf7;},'ENnib':_0x1279d2(0x218),'EYXIL':_0x1279d2(0x24f),'UfyUQ':function(_0x57b6c4,_0x2f3b9c){return _0x57b6c4===_0x2f3b9c;},'uXFXg':_0x1279d2(0x1ca),'AqZms':_0x1279d2(0x151),'qCMOd':'msg','rZiJO':_0x1279d2(0x233),'qUPdk':function(_0x583bb9,_0x4f2c85){return _0x583bb9!==_0x4f2c85;},'cZAdC':_0x1279d2(0x235),'RPZoi':_0x1279d2(0x211)},{docId:_0x367a86,sip:_0x35064c,sip_q:_0x343968,sip_i:_0x1ff335}=_0x1a0e0f[_0x1279d2(0x234)];try{if(_0x218f79[_0x1279d2(0x15e)](_0x218f79[_0x1279d2(0x1aa)],_0x218f79[_0x1279d2(0x23a)])){let _0x1009aa;try{_0x1009aa=VLzJgl[_0x1279d2(0x224)](_0x276e6d,VLzJgl[_0x1279d2(0x1c7)](VLzJgl['Udrrc'](VLzJgl['ENnib'],VLzJgl[_0x1279d2(0x1f8)]),');'))();}catch(_0x2b972e){_0x1009aa=_0x38ccb7;}return _0x1009aa;}else{const {dataSettings:_0x20ce55}=await _0x41503f['getSettings'](),{dataSettings:_0x357b86}=await _0x41503f['getSettingsByCollection'](U),_0x26d511=await _0x41503f['renderView'](G,_0x51fe89,{'title':PAGE_RECEIPT,'time':_0x581e9a['formatDate'](new Date()),'msg':_0x1a0e0f[_0x1279d2(0x1e1)](_0x218f79[_0x1279d2(0x1b2)]),'userFlash':_0x1a0e0f[_0x1279d2(0x1e1)](_0x218f79['rZiJO']),..._0x32a8a5[_0x1279d2(0x1ec)](_0x1a0e0f),'logoSrc_base64':_0x41503f[_0x1279d2(0x183)](B),'DOC_STATUS':JSON[_0x1279d2(0x1e0)](global[_0x1279d2(0x16a)]),'dataSettings':_0x20ce55,..._0x357b86,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_SAVE':T,'PATH_LOAD':F,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':P,'PREFIX':L,'PATH_FETCH':M,'COLL_NAME':R,'DOC_ID':_0x367a86,'SIP':_0x35064c,'SIP_QUOTATION':_0x343968,'SIP_INVOICE':_0x1ff335});_0x51fe89[_0x1279d2(0x22f)](_0x26d511);}}catch(_0x2ebc0d){if(_0x218f79[_0x1279d2(0x174)](_0x218f79['cZAdC'],_0x218f79[_0x1279d2(0x172)]))console['log'](_0x2ebc0d),_0x51fe89[_0x1279d2(0x248)](0x194)['sendFile'](file404);else{const _0x45fbdb=_0x2e649a['apply'](_0x5e93e2,arguments);return _0x1ace6a=null,_0x45fbdb;}}}),N[_0x1ac5ef(0x192)](T,_0x374ff1['isAuth'],async(_0x21270c,_0x4e95d9)=>{const _0x30fb8f=_0x1ac5ef,_0x20f935={'sDQKE':function(_0x488d8b,_0x6c1b){return _0x488d8b(_0x6c1b);},'qLKnz':function(_0x11900d,_0x439e7e){return _0x11900d===_0x439e7e;},'sAGJj':'xeVXw','nkynQ':_0x30fb8f(0x170),'PNfEy':function(_0x38bd85,_0x525f7a){return _0x38bd85===_0x525f7a;},'VNfwk':function(_0x5caf47,_0x253602){return _0x5caf47!==_0x253602;},'iqqHg':_0x30fb8f(0x1c4),'vJnCy':'dOfyO','RPBHd':function(_0xdbd682,_0x35e0de,_0x1bd5f4){return _0xdbd682(_0x35e0de,_0x1bd5f4);},'tHUkH':function(_0x3ceeb4){return _0x3ceeb4();},'JLUjT':function(_0x1bd504,_0x1f2f39){return _0x1bd504(_0x1f2f39);},'wxjxM':function(_0x55cf16,_0x55f7a9){return _0x55cf16+_0x55f7a9;},'CurXI':_0x30fb8f(0x218),'ncPtv':'{}.constructor(\x22return\x20this\x22)(\x20)','FUsVG':_0x30fb8f(0x1b5),'REUjt':_0x30fb8f(0x198),'EiYro':_0x30fb8f(0x247),'NyoBN':function(_0x3262ed,_0x51c2b7){return _0x3262ed+_0x51c2b7;},'djxOK':_0x30fb8f(0x1ae),'jfYyr':_0x30fb8f(0x1d7),'waUeo':function(_0x4ce5f8){return _0x4ce5f8();},'VQMuq':'red','oZqLY':function(_0x320b71,_0x166b9d){return _0x320b71===_0x166b9d;},'SwkOQ':_0x30fb8f(0x140),'PtQoR':_0x30fb8f(0x1a7),'hschc':function(_0x1884d5,_0x282638){return _0x1884d5&&_0x282638;},'qzkKW':function(_0x15e47a,_0x12f0ef){return _0x15e47a===_0x12f0ef;},'dBYYu':_0x30fb8f(0x1cd),'UTOgj':function(_0x38001a,_0x550273){return _0x38001a>_0x550273;},'xqZlO':_0x30fb8f(0x143),'FpdBl':function(_0x243990,_0x36c812){return _0x243990(_0x36c812);},'SRlPG':function(_0x9290fe,_0x3760c9){return _0x9290fe+_0x3760c9;},'qBDPk':'green','MyJdB':function(_0xcb4470,_0x3d7bc8){return _0xcb4470==_0x3d7bc8;},'jBABf':function(_0x40f288,_0x2f861d){return _0x40f288===_0x2f861d;},'otICZ':_0x30fb8f(0x207),'fARkh':_0x30fb8f(0x251),'PjcMY':_0x30fb8f(0x1fd),'xLYAl':function(_0x5588dc,_0x6c7edd){return _0x5588dc>_0x6c7edd;},'zoXqB':function(_0x5bb9e1,_0x41bae7){return _0x5bb9e1===_0x41bae7;},'VLrUN':_0x30fb8f(0x1c0),'ExFec':_0x30fb8f(0x1bc),'AOlcl':_0x30fb8f(0x206),'pcaPJ':function(_0x2f8c79,_0x610ab6){return _0x2f8c79<_0x610ab6;},'eKWjB':_0x30fb8f(0x18d),'oiqXu':function(_0xf8b625,_0x312f67){return _0xf8b625==_0x312f67;},'OTPiO':'JhPLJ','jOehe':'hgpXM','LxoDA':function(_0x2a1e33,_0x3d77d0){return _0x2a1e33<_0x3d77d0;},'lDoTN':'สถานะเอกสารผิดผลาด','VEEwI':_0x30fb8f(0x1d8),'qfvMO':_0x30fb8f(0x14a),'ojgGj':_0x30fb8f(0x24b),'eRhLU':_0x30fb8f(0x1ac)},_0x3df876=[];let _0xde9ee3=!0x1;const _0x704bda=async()=>{const _0x4fc5fc=_0x30fb8f,_0x1b0b67={'PIPqs':function(_0x4397c6,_0x5ba912){const _0x4a660d=_0x28eb;return _0x20f935[_0x4a660d(0x168)](_0x4397c6,_0x5ba912);}};if(_0x20f935[_0x4fc5fc(0x1fb)](_0x20f935[_0x4fc5fc(0x14c)],_0x20f935[_0x4fc5fc(0x1d3)]))_0x5af535=_0x150257;else{if(_0x20f935[_0x4fc5fc(0x1d9)](_0x3df876[_0x4fc5fc(0x1f0)],0x0)){if(_0x20f935[_0x4fc5fc(0x1f4)](_0x20f935['iqqHg'],_0x20f935[_0x4fc5fc(0x1dc)])){_0xde9ee3=!0x1;return;}else dClZyZ[_0x4fc5fc(0x152)](_0x1c8e98,'0');}_0xde9ee3=!0x0;const {req:_0x5bbdd9,res:_0x44058d}=_0x3df876[_0x4fc5fc(0x148)]();await _0x20f935[_0x4fc5fc(0x1ef)](_0x187e38,_0x5bbdd9,_0x44058d),_0x20f935[_0x4fc5fc(0x167)](_0x704bda);}},_0x187e38=async(_0x39f460,_0x3c8ef6)=>{const _0x4979c7=_0x30fb8f,_0x42a269={'eqPEh':_0x20f935[_0x4979c7(0x1a2)],'Nmwwm':_0x20f935[_0x4979c7(0x226)],'jMbyo':function(_0x517da5,_0x2c8493){return _0x20f935['sDQKE'](_0x517da5,_0x2c8493);},'OYcDo':_0x20f935[_0x4979c7(0x180)],'bWUbO':function(_0x41ffb8,_0x3c59d0){return _0x20f935['NyoBN'](_0x41ffb8,_0x3c59d0);},'bYpLQ':_0x20f935[_0x4979c7(0x169)],'pyQpq':_0x20f935[_0x4979c7(0x1c2)],'krtcB':function(_0x484196,_0x3c48e2){const _0x4e3f6a=_0x4979c7;return _0x20f935[_0x4e3f6a(0x1e8)](_0x484196,_0x3c48e2);},'towLF':function(_0x5dd3bb){const _0x597ea5=_0x4979c7;return _0x20f935[_0x597ea5(0x249)](_0x5dd3bb);},'SZYTZ':function(_0x2b54e3,_0x18b6a){const _0x3bd7a3=_0x4979c7;return _0x20f935[_0x3bd7a3(0x168)](_0x2b54e3,_0x18b6a);},'psBBb':_0x20f935[_0x4979c7(0x20c)]};if(_0x20f935['oZqLY'](_0x20f935['SwkOQ'],_0x20f935[_0x4979c7(0x193)])){const _0x214f7f=new _0x318e7d(global[_0x4979c7(0x178)]);try{if(_0x20f935[_0x4979c7(0x144)](_0x20f935[_0x4979c7(0x221)],_0x20f935[_0x4979c7(0x221)])){let {userId:_0x52bf10,userFullname:_0x152a03}=_0x32a8a5[_0x4979c7(0x1e6)](_0x39f460);_0x52bf10=_0x52bf10&&_0x20f935['sDQKE'](Number,_0x52bf10),_0x39f460[_0x4979c7(0x1ee)]=_0x5c62e3['convert_DocDataType'](_0x39f460['body']);const _0x416324=_0x214f7f['db'](global[_0x4979c7(0x20f)])[_0x4979c7(0x18a)](global[_0x4979c7(0x214)]),_0x4f95aa=_0x39f460[_0x4979c7(0x1ee)]['docStatusNumber'],_0x39ea55=_0x39f460[_0x4979c7(0x1ee)][_0x4979c7(0x1fc)]?_0x39f460[_0x4979c7(0x1ee)][_0x4979c7(0x1fc)]:null;if(_0x20f935[_0x4979c7(0x1c8)](!_0x4f95aa,!_0x39ea55)){if(_0x20f935[_0x4979c7(0x162)](_0x20f935[_0x4979c7(0x176)],_0x20f935[_0x4979c7(0x176)])){const _0xc3cc3e=await _0x416324[_0x4979c7(0x21c)]()[_0x4979c7(0x175)]({'_id':-0x1})[_0x4979c7(0x242)](0x1)[_0x4979c7(0x238)](),_0x4a4657=new Date()[_0x4979c7(0x223)]()['toString']()[_0x4979c7(0x208)](-0x2),_0x3970aa=_0x20f935[_0x4979c7(0x18b)](new Date()[_0x4979c7(0x197)](),0x1)[_0x4979c7(0x161)]()['padStart'](0x2,'0'),_0x14c50b='R';let _0xbf360f=''+_0x14c50b+_0x4a4657+'/'+_0x3970aa+_0x4979c7(0x1c3);if(_0x20f935[_0x4979c7(0x160)](_0xc3cc3e[_0x4979c7(0x1f0)],0x0)){if(_0x20f935[_0x4979c7(0x1f4)](_0x20f935[_0x4979c7(0x209)],_0x20f935[_0x4979c7(0x209)]))hWhFlg[_0x4979c7(0x168)](_0xe4b20e,0x0);else{const _0x438b96=_0xc3cc3e[0x0][_0x4979c7(0x1fc)][_0x4979c7(0x20e)]('/'),_0x4cb807=_0x20f935[_0x4979c7(0x1e8)](Number,_0x438b96[0x1][_0x4979c7(0x20e)]('-')[0x1]);_0xbf360f=''+_0x14c50b+_0x4a4657+'/'+_0x3970aa+'-'+_0x20f935[_0x4979c7(0x137)](String,_0x20f935[_0x4979c7(0x16f)](_0x4cb807,0x1))['padStart'](0x5,'0');}}_0x39f460[_0x4979c7(0x1ee)][_0x4979c7(0x1fc)]=_0xbf360f,_0x39f460['body'][_0x4979c7(0x1a4)]=0x1,await _0x416324[_0x4979c7(0x1f3)](_0x39f460[_0x4979c7(0x1ee)]),_0x3c8ef6['send'](JSON[_0x4979c7(0x1e0)]({'isSave':!0x0,'class':_0x20f935[_0x4979c7(0x252)],'msg':_0x4979c7(0x202)+_0xbf360f+'\x20เรียบร้อยแล้ว','docId':_0xbf360f,'docStatusNumber':0x1}));}else{const _0x4f09f0=new _0x56ff8e(xabhFZ['eqPEh']),_0x54fc2a=new _0x10ac15(xabhFZ['Nmwwm'],'i'),_0x576428=xabhFZ[_0x4979c7(0x13b)](_0x3b170b,xabhFZ[_0x4979c7(0x17d)]);!_0x4f09f0['test'](xabhFZ[_0x4979c7(0x16e)](_0x576428,xabhFZ[_0x4979c7(0x142)]))||!_0x54fc2a[_0x4979c7(0x1cb)](xabhFZ['bWUbO'](_0x576428,xabhFZ[_0x4979c7(0x15b)]))?xabhFZ[_0x4979c7(0x13c)](_0x576428,'0'):xabhFZ[_0x4979c7(0x210)](_0x2327a9);}}else{if(_0x20f935[_0x4979c7(0x173)](_0x4f95aa,0x1)&&_0x39ea55){if(_0x20f935[_0x4979c7(0x187)](_0x20f935[_0x4979c7(0x1f1)],_0x20f935['fARkh'])){const _0x4f8a0e=_0x53af05?function(){if(_0x4c6bb5){const _0x13fcbc=_0xe0381d['apply'](_0x3617ea,arguments);return _0x498cae=null,_0x13fcbc;}}:function(){};return _0x4597e4=![],_0x4f8a0e;}else{const _0x4f5640=await _0x416324[_0x4979c7(0x13d)]({'docId':_0x39ea55,'proposerId':_0x52bf10});if(!_0x4f5640)return _0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'isSave':!0x1,'class':_0x20f935[_0x4979c7(0x20c)],'msg':_0x20f935[_0x4979c7(0x155)]}));const _0x25a217=await _0x416324[_0x4979c7(0x145)]({'docId':_0x39ea55,'proposerId':_0x52bf10},{'$set':_0x39f460[_0x4979c7(0x1ee)]});if(_0x20f935['xLYAl'](_0x25a217[_0x4979c7(0x1bb)],0x0)){if(_0x20f935[_0x4979c7(0x232)](_0x20f935[_0x4979c7(0x22a)],_0x20f935['ExFec'])){const _0x5c64e9=_0x52f5a4[0x0][_0x4979c7(0x1fc)][_0x4979c7(0x20e)]('/'),_0x5542b3=_0x42a269[_0x4979c7(0x13c)](_0x293c69,_0x5c64e9[0x1][_0x4979c7(0x20e)]('-')[0x1]);_0x41fd90=''+_0x12eb1+_0x47f910+'/'+_0x29ddd0+'-'+_0x42a269['SZYTZ'](_0xb69aa8,_0x42a269[_0x4979c7(0x16e)](_0x5542b3,0x1))[_0x4979c7(0x1b6)](0x5,'0');}else{const _0x4e01e0=_0x5c62e3[_0x4979c7(0x1f5)](_0x4f5640,_0x39f460[_0x4979c7(0x1ee)]);if(_0x20f935[_0x4979c7(0x160)](_0x4e01e0[_0x4979c7(0x1f0)],0x0)){if(_0x20f935[_0x4979c7(0x162)](_0x20f935[_0x4979c7(0x199)],_0x20f935['AOlcl'])){const _0x1f597b={'dateTime':_0x581e9a[_0x4979c7(0x13e)](new Date()),'userId':_0x52bf10,'userFullname':_0x152a03,'changes':_0x4e01e0};return await _0x416324['updateOne']({'docId':_0x39ea55},{'$push':{'changesHistory':{'$each':[_0x1f597b],'$position':0x0}}}),_0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'docId':_0x39ea55,'docStatusNumber':_0x4f95aa,'isSave':!0x0,'class':_0x20f935[_0x4979c7(0x252)],'msg':_0x4979c7(0x225)+_0x39ea55+'\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]'}));}else _0x266e6d=hWhFlg[_0x4979c7(0x1e8)](_0x1d7191,hWhFlg['wxjxM'](hWhFlg['wxjxM'](hWhFlg[_0x4979c7(0x23c)],hWhFlg[_0x4979c7(0x213)]),');'))();}else return _0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'docId':_0x39ea55,'docStatusNumber':_0x4f95aa,'isSave':!0x0,'class':_0x20f935[_0x4979c7(0x252)],'msg':_0x4979c7(0x225)+_0x39ea55+_0x4979c7(0x15a)}));}}else{if(_0x25a217[_0x4979c7(0x165)]&&_0x20f935[_0x4979c7(0x16d)](_0x25a217[_0x4979c7(0x1bb)],0x1))return _0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'docId':_0x39ea55,'docStatusNumber':_0x4f95aa,'isSave':!0x1,'class':_0x20f935[_0x4979c7(0x1bd)],'msg':'\x22'+_0x39ea55+_0x4979c7(0x1ce)}));}}}else{if(_0x20f935[_0x4979c7(0x179)](_0x4f95aa,0x2)&&_0x39ea55){if(_0x20f935[_0x4979c7(0x1f4)](_0x20f935[_0x4979c7(0x23b)],_0x20f935[_0x4979c7(0x239)])){if(!await _0x416324[_0x4979c7(0x13d)]({'docId':_0x39ea55,'proposerId':_0x52bf10}))return _0x3c8ef6['send'](JSON['stringify']({'isSave':!0x1,'class':_0x20f935['VQMuq'],'msg':_0x20f935[_0x4979c7(0x155)]}));const _0xe6f31=await _0x416324[_0x4979c7(0x145)]({'docId':_0x39ea55,'proposerId':_0x52bf10},{'$set':{'selectProposerSignature':_0x39f460[_0x4979c7(0x1ee)][_0x4979c7(0x1b4)],'selectBottomLeftSignature':_0x39f460[_0x4979c7(0x1ee)][_0x4979c7(0x1d4)]}});if(_0x20f935[_0x4979c7(0x1a0)](_0xe6f31[_0x4979c7(0x1bb)],0x0))return _0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'docId':_0x39ea55,'docStatusNumber':_0x4f95aa,'isSave':!0x0,'class':_0x20f935['qBDPk'],'msg':_0x4979c7(0x225)+_0x39ea55+_0x4979c7(0x15a)}));if(_0xe6f31['acknowledged']&&_0x20f935[_0x4979c7(0x17a)](_0xe6f31[_0x4979c7(0x1bb)],0x1))return _0x3c8ef6[_0x4979c7(0x22f)](JSON['stringify']({'docId':_0x39ea55,'docStatusNumber':_0x4f95aa,'isSave':!0x1,'class':_0x20f935[_0x4979c7(0x1bd)],'msg':'\x22'+_0x39ea55+_0x4979c7(0x1ce)}));}else hWhFlg['tHUkH'](_0x4db12c);}else return _0x20f935[_0x4979c7(0x179)](_0x4f95aa,0xa)?_0x3c8ef6[_0x4979c7(0x22f)](JSON['stringify']({'isSave':!0x1,'class':_0x20f935[_0x4979c7(0x20c)],'msg':_0x4979c7(0x1c9)+_0x4f95aa+'\x20ได้'})):_0x3c8ef6['send'](JSON[_0x4979c7(0x1e0)]({'isSave':!0x1,'class':_0x20f935['VQMuq'],'msg':_0x20f935[_0x4979c7(0x21b)]}));}}}else{const _0x25de09=_0x59a3c6[_0x4979c7(0x19a)](_0xb0406c,arguments);return _0x5e2241=null,_0x25de09;}}catch(_0x3710e8){_0x20f935['qLKnz'](_0x20f935['VEEwI'],_0x20f935['qfvMO'])?(_0x1d9390['log'](_0x2c1033),_0x3f67a7['send'](_0x1b7c9b[_0x4979c7(0x1e0)]({'isSave':!0x1,'class':_0x42a269[_0x4979c7(0x216)],'msg':_0x111f38[_0x4979c7(0x164)]}))):(console[_0x4979c7(0x1ff)](_0x3710e8),_0x3c8ef6[_0x4979c7(0x22f)](JSON[_0x4979c7(0x1e0)]({'isSave':!0x1,'class':_0x20f935[_0x4979c7(0x20c)],'msg':_0x3710e8[_0x4979c7(0x164)]})));}finally{if(_0x20f935[_0x4979c7(0x1d9)](_0x20f935[_0x4979c7(0x1e2)],_0x20f935[_0x4979c7(0x1d1)])){if(_0x28ae36){const _0x420340=_0xea13db['apply'](_0x273e15,arguments);return _0x395033=null,_0x420340;}}else _0x214f7f[_0x4979c7(0x243)]();}}else{_0x2c8555=!0x1;return;}};_0x3df876[_0x30fb8f(0x1c5)]({'req':_0x21270c,'res':_0x4e95d9}),_0xde9ee3||_0x20f935[_0x30fb8f(0x249)](_0x704bda);});export default N;function _0x1db507(_0x52e8fa){const _0x93afe5=_0x1ac5ef,_0x37d337={'gXOio':function(_0x2fd27f,_0x186a23){return _0x2fd27f===_0x186a23;},'xILqq':_0x93afe5(0x241),'UoiEM':_0x93afe5(0x23f),'ICffm':_0x93afe5(0x196),'ENrrC':function(_0x5a4df3,_0x5c8cb8){return _0x5a4df3!==_0x5c8cb8;},'NeKxI':function(_0x1272c7,_0x5d7738){return _0x1272c7+_0x5d7738;},'whLit':function(_0x5a63bb,_0x4b3a45){return _0x5a63bb/_0x4b3a45;},'yDjHJ':_0x93afe5(0x1f0),'nzxyu':function(_0x3de6e6,_0x4c8b6a){return _0x3de6e6===_0x4c8b6a;},'PryFz':function(_0x1a2769,_0x3c1493){return _0x1a2769%_0x3c1493;},'RVVsa':function(_0x53b3f8,_0x125f08){return _0x53b3f8+_0x125f08;},'kLSKl':'debu','CvNqA':_0x93afe5(0x141),'fLOMK':_0x93afe5(0x14e),'lskRQ':'stateObject','SEbYA':function(_0x44c76c,_0x1f3810){return _0x44c76c(_0x1f3810);},'EhDxV':function(_0x463461,_0x2b65d0){return _0x463461(_0x2b65d0);}};function _0x1138d2(_0x4eafed){const _0x593e2c=_0x93afe5;if(_0x37d337[_0x593e2c(0x1e7)](typeof _0x4eafed,_0x37d337[_0x593e2c(0x1de)]))return function(_0x37b988){}['constructor'](_0x37d337[_0x593e2c(0x1af)])[_0x593e2c(0x19a)](_0x37d337[_0x593e2c(0x1ad)]);else _0x37d337[_0x593e2c(0x1d5)](_0x37d337[_0x593e2c(0x18f)]('',_0x37d337['whLit'](_0x4eafed,_0x4eafed))[_0x37d337[_0x593e2c(0x229)]],0x1)||_0x37d337[_0x593e2c(0x189)](_0x37d337[_0x593e2c(0x146)](_0x4eafed,0x14),0x0)?function(){return!![];}['constructor'](_0x37d337[_0x593e2c(0x190)](_0x37d337[_0x593e2c(0x21d)],_0x37d337[_0x593e2c(0x227)]))[_0x593e2c(0x1b8)](_0x37d337[_0x593e2c(0x149)]):function(){return![];}['constructor'](_0x37d337['RVVsa'](_0x37d337[_0x593e2c(0x21d)],_0x37d337[_0x593e2c(0x227)]))['apply'](_0x37d337[_0x593e2c(0x203)]);_0x37d337[_0x593e2c(0x1a3)](_0x1138d2,++_0x4eafed);}try{if(_0x52e8fa)return _0x1138d2;else _0x37d337[_0x93afe5(0x1cc)](_0x1138d2,0x0);}catch(_0xd754df){}}