const _0xb1d59c=_0x738e;(function(_0x130ed5,_0x1a8f61){const _0x9122f5=_0x738e,_0x21772a=_0x130ed5();while(!![]){try{const _0x3bae6e=-parseInt(_0x9122f5(0x226))/0x1+parseInt(_0x9122f5(0x2a5))/0x2+-parseInt(_0x9122f5(0x22f))/0x3*(-parseInt(_0x9122f5(0x1c5))/0x4)+-parseInt(_0x9122f5(0x258))/0x5*(parseInt(_0x9122f5(0x1cf))/0x6)+-parseInt(_0x9122f5(0x28c))/0x7+parseInt(_0x9122f5(0x1f3))/0x8+parseInt(_0x9122f5(0x1f0))/0x9;if(_0x3bae6e===_0x1a8f61)break;else _0x21772a['push'](_0x21772a['shift']());}catch(_0x13126d){_0x21772a['push'](_0x21772a['shift']());}}}(_0x21c0,0x2c106));const _0x3ac95f=(function(){const _0x28c5d5=_0x738e,_0x4c7f1e={'qpCCr':function(_0x14aea9){return _0x14aea9();},'KnfpD':function(_0x5181f2,_0x5e5dd6){return _0x5181f2===_0x5e5dd6;},'zmCxb':'zxztr','iuDjI':function(_0x1ff1a8,_0x50f0ac){return _0x1ff1a8!==_0x50f0ac;},'zodhr':_0x28c5d5(0x249),'UZyEd':_0x28c5d5(0x1ff),'inVrr':_0x28c5d5(0x1c8)};let _0x45e6cc=!![];return function(_0xdb4be4,_0xeb8c43){const _0x1b016f=_0x28c5d5;if(_0x4c7f1e[_0x1b016f(0x1fb)](_0x4c7f1e[_0x1b016f(0x1d5)],_0x4c7f1e[_0x1b016f(0x1c3)])){const _0x14eba5=_0x45e6cc?function(){const _0x46ec0b=_0x1b016f,_0x8a1097={'LUsFE':function(_0x10d1dd){return _0x4c7f1e['qpCCr'](_0x10d1dd);}};if(_0x4c7f1e['KnfpD'](_0x4c7f1e[_0x46ec0b(0x1d0)],_0x4c7f1e[_0x46ec0b(0x1d0)])){if(_0xeb8c43){if(_0x4c7f1e[_0x46ec0b(0x1fb)](_0x4c7f1e['zodhr'],_0x4c7f1e[_0x46ec0b(0x1cb)])){if(_0x41f771){const _0x112d8e=_0x4b43e8[_0x46ec0b(0x23e)](_0x4d7a94,arguments);return _0x22a9b3=null,_0x112d8e;}}else{const _0x1d3029=_0xeb8c43[_0x46ec0b(0x23e)](_0xdb4be4,arguments);return _0xeb8c43=null,_0x1d3029;}}}else _0x8a1097['LUsFE'](_0x1bdeb6);}:function(){};return _0x45e6cc=![],_0x14eba5;}else{if(_0x583321)throw _0x19cfc4;_0x52d158[_0x1b016f(0x291)](_0x536b28);}};}());(function(){const _0x5e0728=_0x738e,_0x63fcdb={'oHnUa':'Error\x20===>\x20','Xdsuq':_0x5e0728(0x203),'bhwod':_0x5e0728(0x20d),'pUDTD':'while\x20(true)\x20{}','zTZYn':_0x5e0728(0x22b),'Dfmwb':function(_0x3c2ac4,_0x2f0085){return _0x3c2ac4!==_0x2f0085;},'nMgmA':_0x5e0728(0x265),'jilmS':'function\x20*\x5c(\x20*\x5c)','MODSB':_0x5e0728(0x1e3),'ortXT':function(_0x109b3a,_0x3eba7c){return _0x109b3a(_0x3eba7c);},'bbgfK':'init','fFJHW':function(_0x35293b,_0x5373a9){return _0x35293b+_0x5373a9;},'aBADG':_0x5e0728(0x224),'QdpjS':_0x5e0728(0x28b),'awzTU':function(_0x15600c,_0x6a0612){return _0x15600c!==_0x6a0612;},'rpGJQ':'fJdDn','GlbEV':_0x5e0728(0x281),'sYtFf':function(_0x37d103,_0x57d33f){return _0x37d103===_0x57d33f;},'mmeGA':'hkFrZ','vgrCd':function(_0x3b33cf){return _0x3b33cf();},'cYNJB':function(_0x24c2ee,_0xcc1cfb,_0x2051b3){return _0x24c2ee(_0xcc1cfb,_0x2051b3);}};_0x63fcdb[_0x5e0728(0x206)](_0x3ac95f,this,function(){const _0x389638=_0x5e0728,_0x14d124={'UjHAd':_0x63fcdb['pUDTD'],'hrWly':_0x63fcdb['zTZYn']};if(_0x63fcdb[_0x389638(0x1ce)](_0x63fcdb['nMgmA'],_0x63fcdb['nMgmA']))return function(_0x4f4a8e){}[_0x389638(0x1c6)](_0x14d124[_0x389638(0x1e8)])[_0x389638(0x23e)](_0x14d124[_0x389638(0x204)]);else{const _0x5101f0=new RegExp(_0x63fcdb[_0x389638(0x27c)]),_0x1f325f=new RegExp(_0x63fcdb[_0x389638(0x22d)],'i'),_0x57e6ef=_0x63fcdb['ortXT'](_0x3f0930,_0x63fcdb['bbgfK']);if(!_0x5101f0[_0x389638(0x234)](_0x63fcdb[_0x389638(0x241)](_0x57e6ef,_0x63fcdb[_0x389638(0x284)]))||!_0x1f325f[_0x389638(0x234)](_0x63fcdb['fFJHW'](_0x57e6ef,_0x63fcdb[_0x389638(0x2a4)]))){if(_0x63fcdb[_0x389638(0x255)](_0x63fcdb['rpGJQ'],_0x63fcdb['GlbEV']))_0x63fcdb[_0x389638(0x1ea)](_0x57e6ef,'0');else return _0x2b2585[_0x389638(0x1ee)](_0x63fcdb['oHnUa'],_0x42fabc['message']),_0x596d98[_0x389638(0x2a6)](_0x63fcdb[_0x389638(0x252)],{'class':_0x63fcdb[_0x389638(0x2a8)],'text':_0x14e5b4[_0x389638(0x256)]}),_0xbee196[_0x389638(0x291)](_0x20b668);}else{if(_0x63fcdb['sYtFf'](_0x63fcdb[_0x389638(0x2a9)],_0x63fcdb['mmeGA']))_0x63fcdb['vgrCd'](_0x3f0930);else return![];}}})();}());function _0x738e(_0x298b88,_0x4de3f4){const _0x1039a6=_0x21c0();return _0x738e=function(_0x2f4378,_0x4dd2a5){_0x2f4378=_0x2f4378-0x1bf;let _0x1576cf=_0x1039a6[_0x2f4378];return _0x1576cf;},_0x738e(_0x298b88,_0x4de3f4);}const _0x4dd2a5=(function(){const _0x182ee7=_0x738e,_0x5e3c0c={'Setqs':function(_0x1d0f52,_0x19536e){return _0x1d0f52!==_0x19536e;},'YtddH':_0x182ee7(0x29a),'mcfHy':_0x182ee7(0x1e9),'CKWFw':function(_0x571a9e,_0x6e7201){return _0x571a9e===_0x6e7201;},'PTqxL':_0x182ee7(0x23a),'FfYfk':_0x182ee7(0x1e4),'cJmiK':function(_0x5d57a9,_0x301093){return _0x5d57a9+_0x301093;},'QhQwX':_0x182ee7(0x20a),'otDtv':_0x182ee7(0x289),'rFrKy':_0x182ee7(0x273),'rAugK':function(_0x51980a,_0x4a24bd){return _0x51980a(_0x4a24bd);},'ASyYM':_0x182ee7(0x1c4),'bvPiM':'XmhNg'};let _0xc0b65c=!![];return function(_0x569107,_0x1da25c){const _0x23799b=_0x182ee7,_0x1c9b19={'pDZFj':function(_0x4d9137,_0x1a6827){const _0x483d57=_0x738e;return _0x5e3c0c[_0x483d57(0x259)](_0x4d9137,_0x1a6827);},'Itpdf':_0x5e3c0c[_0x23799b(0x290)],'OWOlt':_0x5e3c0c['otDtv'],'jtrPl':_0x5e3c0c['rFrKy'],'rHEfP':function(_0x262718,_0x369613){const _0x338ba6=_0x23799b;return _0x5e3c0c[_0x338ba6(0x1f2)](_0x262718,_0x369613);}};if(_0x5e3c0c[_0x23799b(0x1e7)](_0x5e3c0c[_0x23799b(0x29c)],_0x5e3c0c[_0x23799b(0x1d6)]))(function(){return![];}['constructor'](_0x1c9b19[_0x23799b(0x248)](_0x1c9b19['Itpdf'],_0x1c9b19[_0x23799b(0x287)]))[_0x23799b(0x23e)](_0x1c9b19[_0x23799b(0x1cd)]));else{const _0x24e03f=_0xc0b65c?function(){const _0x167b26=_0x23799b;if(_0x5e3c0c[_0x167b26(0x22a)](_0x5e3c0c[_0x167b26(0x293)],_0x5e3c0c['mcfHy'])){if(_0x1da25c){if(_0x5e3c0c['CKWFw'](_0x5e3c0c[_0x167b26(0x20e)],_0x5e3c0c['FfYfk'])){if(_0x4f20d4){const _0x2418e5=_0x19dac7[_0x167b26(0x23e)](_0x526952,arguments);return _0x489495=null,_0x2418e5;}}else{const _0x44b43a=_0x1da25c[_0x167b26(0x23e)](_0x569107,arguments);return _0x1da25c=null,_0x44b43a;}}}else _0x1c9b19[_0x167b26(0x1f6)](_0x59b4c5,'0');}:function(){};return _0xc0b65c=![],_0x24e03f;}};}()),_0x2f4378=_0x4dd2a5(this,function(){const _0x28b82f=_0x738e,_0x3bbd56={'klZlr':_0x28b82f(0x247),'knQnm':_0x28b82f(0x1e3),'EINkl':function(_0x117b15,_0x4d0525){return _0x117b15(_0x4d0525);},'RnyAX':_0x28b82f(0x28a),'DAgZu':function(_0x1e9676,_0x245f6a){return _0x1e9676+_0x245f6a;},'kUuFo':_0x28b82f(0x224),'FFvTk':_0x28b82f(0x28b),'UuuGC':function(_0x14bc4c){return _0x14bc4c();},'apBei':function(_0x46c42c,_0x2f078b){return _0x46c42c!==_0x2f078b;},'bOfQN':_0x28b82f(0x205),'jbSmG':_0x28b82f(0x23d),'jxPJH':_0x28b82f(0x1dc),'wAgHG':'{}.constructor(\x22return\x20this\x22)(\x20)','SZZSN':function(_0x2bc43a){return _0x2bc43a();},'rNlnq':_0x28b82f(0x1f9),'QYdpo':_0x28b82f(0x1e2),'uSuNc':_0x28b82f(0x1ee),'MlPVD':'warn','Iwvmp':'info','wzPbi':'error','XpuyE':_0x28b82f(0x1c2),'EPDMp':_0x28b82f(0x236),'mYRqK':'trace','eQDBj':function(_0x25032e,_0x3eec94){return _0x25032e<_0x3eec94;},'oUCdT':_0x28b82f(0x1f8),'SREkf':'QHygi'};let _0x4b62fd;try{if(_0x3bbd56['apBei'](_0x3bbd56[_0x28b82f(0x25e)],_0x3bbd56[_0x28b82f(0x297)])){const _0x5725b4=_0x3bbd56['EINkl'](Function,_0x3bbd56[_0x28b82f(0x298)](_0x3bbd56[_0x28b82f(0x298)](_0x3bbd56[_0x28b82f(0x222)],_0x3bbd56['wAgHG']),');'));_0x4b62fd=_0x3bbd56[_0x28b82f(0x26a)](_0x5725b4);}else _0x3e7384[_0x28b82f(0x1ee)](_0x424fc9[_0x28b82f(0x256)]),_0x39f864[_0x28b82f(0x286)](0x194)[_0x28b82f(0x285)](_0x3d9d2f);}catch(_0xc4da20){if(_0x3bbd56['apBei'](_0x3bbd56[_0x28b82f(0x244)],_0x3bbd56['QYdpo']))_0x4b62fd=window;else{const _0xda1d8f=_0x561170?function(){const _0x20a12b=_0x28b82f;if(_0x220fec){const _0x3efcd0=_0x29c6b8[_0x20a12b(0x23e)](_0x23a2f3,arguments);return _0x1e1c7c=null,_0x3efcd0;}}:function(){};return _0x3ff30b=![],_0xda1d8f;}}const _0x3ad842=_0x4b62fd[_0x28b82f(0x21f)]=_0x4b62fd[_0x28b82f(0x21f)]||{},_0xaac64f=[_0x3bbd56['uSuNc'],_0x3bbd56[_0x28b82f(0x21e)],_0x3bbd56[_0x28b82f(0x1f5)],_0x3bbd56['wzPbi'],_0x3bbd56[_0x28b82f(0x27b)],_0x3bbd56[_0x28b82f(0x1de)],_0x3bbd56[_0x28b82f(0x288)]];for(let _0x3a4fd2=0x0;_0x3bbd56[_0x28b82f(0x1f4)](_0x3a4fd2,_0xaac64f[_0x28b82f(0x1e0)]);_0x3a4fd2++){if(_0x3bbd56['apBei'](_0x3bbd56[_0x28b82f(0x200)],_0x3bbd56[_0x28b82f(0x1e6)])){const _0x4e6a0a=_0x4dd2a5[_0x28b82f(0x1c6)][_0x28b82f(0x24b)]['bind'](_0x4dd2a5),_0x445237=_0xaac64f[_0x3a4fd2],_0x259a83=_0x3ad842[_0x445237]||_0x4e6a0a;_0x4e6a0a[_0x28b82f(0x24f)]=_0x4dd2a5[_0x28b82f(0x217)](_0x4dd2a5),_0x4e6a0a[_0x28b82f(0x21b)]=_0x259a83[_0x28b82f(0x21b)]['bind'](_0x259a83),_0x3ad842[_0x445237]=_0x4e6a0a;}else{const _0x5dd4f8=new _0x4eec80(_0x3bbd56[_0x28b82f(0x201)]),_0xab4ada=new _0xf92fe0(_0x3bbd56[_0x28b82f(0x292)],'i'),_0x1ac5b3=_0x3bbd56[_0x28b82f(0x215)](_0x170f67,_0x3bbd56['RnyAX']);!_0x5dd4f8[_0x28b82f(0x234)](_0x3bbd56[_0x28b82f(0x298)](_0x1ac5b3,_0x3bbd56[_0x28b82f(0x271)]))||!_0xab4ada[_0x28b82f(0x234)](_0x3bbd56[_0x28b82f(0x298)](_0x1ac5b3,_0x3bbd56[_0x28b82f(0x1d4)]))?_0x3bbd56[_0x28b82f(0x215)](_0x1ac5b3,'0'):_0x3bbd56[_0x28b82f(0x24d)](_0x3a90ef);}}});_0x2f4378();import _0x159209 from'express';const a=_0x159209[_0xb1d59c(0x1ec)]();import{MongoClient as _0x32df8a}from'mongodb';import _0x3db91d from'bcrypt';function _0x21c0(){const _0x376c01=['aiJnN','XWAqi','QhQwX','redirect','knQnm','YtddH','jYpdn','oyfTk','CQYfx','jbSmG','DAgZu','XOTbt','QPzBC','isgLj','ASyYM','warn','bnUQq','get','OPFYI','Iqbyd','swXfr','OmiuA','QdpjS','169128XKvxgu','flash','trim','bhwod','mmeGA','formatDate','isAuth','UbHLA','exception','inVrr','iCkVr','704848YfBtpT','constructor','suQYi','ltwnG','getSessionData','userLastname','zodhr','gGWcx','jtrPl','Dfmwb','174150iNRjuf','zmCxb','green','aAzCP','renderView','FFvTk','UZyEd','bvPiM','OjlzU','GNwXz','isLogged','userId','OWzrX','return\x20(function()\x20','VlSXH','EPDMp','SNBSE','length','MFezs','pVvrj','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','GrQMA','ywCbU','SREkf','CKWFw','UjHAd','JQRCF','ortXT','gyLKZ','Router','PHypr','log','username','2365884BBUION','LKxBJ','rAugK','1419104RhFSol','eQDBj','Iwvmp','rHEfP','arEci','cutGD','ylvzx','xkhsN','iuDjI','userFlash','userPrefix','WpMtI','TgrXd','oUCdT','klZlr','compare','msg','hrWly','zcQvS','cYNJB','userAuthority','kaErs','pjMBC','debu','_id','RpVQg','red','PTqxL','bHZVC','destroy','VaLDi','YOWsr','xJNbg','epNUp','EINkl','active','bind','{}.constructor(\x22return\x20this\x22)(\x20)','AkrvL','rwmJJ','toString','gAxuT','tNHrg','MlPVD','console','zabhi','jXyeC','jxPJH','RzZle','chain','NjYJJ','182987UvNxxN','XQIOU','userFirstname','string','Setqs','counter','bblhc','MODSB','OCzuc','3doqFQr','lWNbt','KRBrk','session','GrBNV','test','trace','table','VxCLU','HhQvc','formatDateTime','xFhvV','NLeEU','JhpaS','cJQYk','apply','hfsXG','action','fFJHW','kNBnC','Qtyqf','rNlnq','wGLpq','sUtao','function\x20*\x5c(\x20*\x5c)','pDZFj','CFoSE','NShxg','prototype','DoFit','UuuGC','ywhLE','__proto__','BxfUQ','rnXgj','Xdsuq','btQAN','LmDlH','awzTU','message','MHezy','30GDZflI','cJmiK','UbrGm','hKyJh','BWruQ','close','bOfQN','HyeTE','updateOne','BxdVK','afpEB','DUhEC','GSEsO','sRVtN','asTnO','qZjsG','jtCpt','jCgAJ','SZZSN','info','rELcg','yCxfF','UfWpc','pcmOT','DiRGp','kUuFo','ebzuD','stateObject','Ocxtd','IQNxh','JXfUk','YFTrC','findOne','send','PjlCv','XpuyE','jilmS','RKbjh','YOzqW','userFullname','RlBgb','JZOuR','HDSUy','PAGE_LOGIN','aBADG','sendFile','status','OWOlt','mYRqK','gger','init','input','1143919HwZCwA','VUbXM'];_0x21c0=function(){return _0x376c01;};return _0x21c0();}import*as _0x190064 from'../mymodule/myDateTime.js';import*as _0x5c3ffb from'../mymodule/myUsers.js';import*as _0x3f694d from'../mymodule/myModule.js';import _0x3ad5f4 from'../middleware/mainAuth.js';const o='/login',_='/logout',b='/password';a[_0xb1d59c(0x29f)](o,_0x3ad5f4[_0xb1d59c(0x1d9)],async(_0x1447a7,_0x4af19e)=>{const _0x5445ab=_0xb1d59c,_0x483f0c={'afpEB':function(_0x2d3cbb,_0x3dd325){return _0x2d3cbb(_0x3dd325);},'gAxuT':function(_0x54adbb,_0x24911){return _0x54adbb+_0x24911;},'cLfBP':function(_0x11ca82,_0x2c4bb2){return _0x11ca82+_0x2c4bb2;},'VxCLU':_0x5445ab(0x1dc),'Qtyqf':'{}.constructor(\x22return\x20this\x22)(\x20)','XWAqi':function(_0xd13a96){return _0xd13a96();},'rnXgj':'log','zabhi':_0x5445ab(0x29d),'RzZle':_0x5445ab(0x26b),'HDSUy':'error','OCzuc':_0x5445ab(0x1c2),'VUbXM':'table','DoFit':_0x5445ab(0x235),'NjYJJ':function(_0x26a8a1,_0x5e420c){return _0x26a8a1<_0x5e420c;},'oyfTk':function(_0x4600f0,_0x23ddb0){return _0x4600f0!==_0x23ddb0;},'Iqbyd':_0x5445ab(0x221),'yCxfF':'SnoOh','GNwXz':'login','qcmRo':_0x5445ab(0x203),'aSgRr':_0x5445ab(0x1fc),'hMjPe':function(_0x57b8d3,_0xee6b77){return _0x57b8d3!==_0xee6b77;},'ywCbU':_0x5445ab(0x26e)};try{if(_0x483f0c[_0x5445ab(0x295)](_0x483f0c[_0x5445ab(0x2a1)],_0x483f0c[_0x5445ab(0x26d)])){const _0x32c61f=await _0x3f694d[_0x5445ab(0x1d3)](_0x483f0c[_0x5445ab(0x1d8)],_0x4af19e,{'title':global[_0x5445ab(0x283)],'time':_0x190064[_0x5445ab(0x1bf)](new Date()),'msg':_0x1447a7['flash'](_0x483f0c['qcmRo']),..._0x5c3ffb[_0x5445ab(0x1c9)](_0x1447a7),'userFlash':_0x1447a7[_0x5445ab(0x2a6)](_0x483f0c['aSgRr']),'PATH_LOGIN':o,'PATH_FORGOT_PASSWORD':b});return _0x4af19e[_0x5445ab(0x279)](_0x32c61f);}else{let _0x73ba76;try{const _0x37a793=aWzLpD[_0x5445ab(0x262)](_0x23eab7,aWzLpD[_0x5445ab(0x21c)](aWzLpD['cLfBP'](aWzLpD[_0x5445ab(0x237)],aWzLpD[_0x5445ab(0x243)]),');'));_0x73ba76=aWzLpD[_0x5445ab(0x28f)](_0x37a793);}catch(_0x304836){_0x73ba76=_0x11a56a;}const _0x4a034b=_0x73ba76['console']=_0x73ba76[_0x5445ab(0x21f)]||{},_0x436983=[aWzLpD[_0x5445ab(0x251)],aWzLpD[_0x5445ab(0x220)],aWzLpD[_0x5445ab(0x223)],aWzLpD[_0x5445ab(0x282)],aWzLpD[_0x5445ab(0x22e)],aWzLpD[_0x5445ab(0x28d)],aWzLpD[_0x5445ab(0x24c)]];for(let _0x54f493=0x0;aWzLpD[_0x5445ab(0x225)](_0x54f493,_0x436983[_0x5445ab(0x1e0)]);_0x54f493++){const _0x5f0eaa=_0x4ca68d[_0x5445ab(0x1c6)]['prototype'][_0x5445ab(0x217)](_0x285468),_0x14ebcd=_0x436983[_0x54f493],_0x3aa9c0=_0x4a034b[_0x14ebcd]||_0x5f0eaa;_0x5f0eaa[_0x5445ab(0x24f)]=_0x3d026b['bind'](_0x2f0e51),_0x5f0eaa[_0x5445ab(0x21b)]=_0x3aa9c0['toString'][_0x5445ab(0x217)](_0x3aa9c0),_0x4a034b[_0x14ebcd]=_0x5f0eaa;}}}catch(_0x33c89b){if(_0x483f0c['hMjPe'](_0x483f0c[_0x5445ab(0x1e5)],_0x483f0c[_0x5445ab(0x1e5)])){const _0x52386a=_0x3b6743[_0x5445ab(0x23e)](_0x642bb0,arguments);return _0x3e97b7=null,_0x52386a;}else console[_0x5445ab(0x1ee)](_0x33c89b['message']),_0x4af19e[_0x5445ab(0x286)](0x194)['sendFile'](file404);}}),a['post'](o,_0x3ad5f4['isLogged'],async(_0x257e4e,_0x1850de)=>{const _0x5bb5a7=_0xb1d59c,_0x2a9aca={'VJeGQ':function(_0x2f9718,_0x4caaf9){return _0x2f9718(_0x4caaf9);},'wGLpq':function(_0x1aae4c,_0x5bd4e9){return _0x1aae4c!==_0x5bd4e9;},'GHZtH':_0x5bb5a7(0x22c),'KRBrk':_0x5bb5a7(0x272),'bHZVC':_0x5bb5a7(0x216),'xkhsN':_0x5bb5a7(0x203),'RlBgb':'red','YOWsr':'ไม่พบผู้ใช้\x20หรือ\x20ผู้ใช้ไม่ได้เปิดใช้งาน','Ocxtd':'user','hfsXG':'รหัสผ่านไม่ถูกต้อง','swXfr':_0x5bb5a7(0x1d1),'YFTrC':'เข้าสู่ระบบสำเร็จ','CQYfx':function(_0x308726,_0x394b33){return _0x308726===_0x394b33;},'BxfUQ':_0x5bb5a7(0x263),'uUboS':'Error\x20===>\x20','gGWcx':_0x5bb5a7(0x1c7),'IQNxh':_0x5bb5a7(0x246)},{userNameEmail:_0x43cda5,userPassword:_0x3c013e}=_0x257e4e['body'],_0x1f22a9=await _0x32df8a['connect'](dbUrl),_0x387c09=_0x1f22a9['db'](dbName)['collection'](dbColl_users);try{if(_0x2a9aca[_0x5bb5a7(0x245)](_0x2a9aca['GHZtH'],_0x2a9aca[_0x5bb5a7(0x231)])){const _0x57b2c9=await _0x387c09[_0x5bb5a7(0x278)]({'$and':[{'$or':[{'userEmail':_0x43cda5},{'username':_0x43cda5}]},{'userIsActive':_0x2a9aca[_0x5bb5a7(0x20f)]}]});if(!_0x57b2c9)return _0x257e4e[_0x5bb5a7(0x2a6)](_0x2a9aca['xkhsN'],{'class':_0x2a9aca['RlBgb'],'text':_0x2a9aca[_0x5bb5a7(0x212)]}),_0x257e4e['flash'](_0x2a9aca[_0x5bb5a7(0x274)],{'userNameEmail':_0x43cda5,'userPassword':_0x3c013e}),_0x1850de[_0x5bb5a7(0x291)](o);if(!await _0x3db91d[_0x5bb5a7(0x202)](_0x3c013e,_0x57b2c9['userPassword']))return _0x257e4e[_0x5bb5a7(0x2a6)](_0x2a9aca[_0x5bb5a7(0x1fa)],{'class':_0x2a9aca[_0x5bb5a7(0x280)],'text':_0x2a9aca[_0x5bb5a7(0x23f)]}),_0x257e4e[_0x5bb5a7(0x2a6)](_0x2a9aca[_0x5bb5a7(0x274)],{'userNameEmail':_0x43cda5,'userPassword':_0x3c013e}),_0x1850de['redirect'](o);await _0x387c09[_0x5bb5a7(0x260)]({'_id':_0x57b2c9[_0x5bb5a7(0x20b)]},{'$set':{'userLastLogin':_0x190064[_0x5bb5a7(0x239)](new Date())},'$inc':{'userNormalLoginCount':0x1}});const _0x4270fe=_0x57b2c9['_id'],_0xe1aaf6=_0x57b2c9[_0x5bb5a7(0x1da)],_0x3ca6f1=_0x57b2c9[_0x5bb5a7(0x207)],_0xec7860=_0x57b2c9[_0x5bb5a7(0x1ef)],_0xd21354=(_0x57b2c9[_0x5bb5a7(0x1fd)]+'\x20'+_0x57b2c9[_0x5bb5a7(0x228)]+'\x20'+_0x57b2c9[_0x5bb5a7(0x1ca)])[_0x5bb5a7(0x2a7)]();return _0x257e4e[_0x5bb5a7(0x232)][_0x5bb5a7(0x1c0)]=!0x0,_0x257e4e[_0x5bb5a7(0x232)]['user_id']=_0x4270fe['toString'](),_0x257e4e[_0x5bb5a7(0x232)][_0x5bb5a7(0x1da)]=_0xe1aaf6,_0x257e4e[_0x5bb5a7(0x232)]['userAuthority']=_0x3ca6f1,_0x257e4e[_0x5bb5a7(0x232)][_0x5bb5a7(0x1ef)]=_0xec7860,_0x257e4e[_0x5bb5a7(0x232)][_0x5bb5a7(0x27f)]=_0xd21354,_0x257e4e[_0x5bb5a7(0x2a6)](_0x2a9aca['xkhsN'],{'class':_0x2a9aca[_0x5bb5a7(0x2a2)],'text':_0x2a9aca[_0x5bb5a7(0x277)]}),_0x1850de[_0x5bb5a7(0x291)]('/');}else return!![];}catch(_0x6e960d){if(_0x2a9aca[_0x5bb5a7(0x296)](_0x2a9aca[_0x5bb5a7(0x250)],_0x2a9aca[_0x5bb5a7(0x250)]))return console[_0x5bb5a7(0x1ee)](_0x2a9aca['uUboS'],_0x6e960d[_0x5bb5a7(0x256)]),_0x257e4e[_0x5bb5a7(0x2a6)](_0x2a9aca['xkhsN'],{'class':_0x2a9aca[_0x5bb5a7(0x280)],'text':_0x6e960d['message']}),_0x1850de[_0x5bb5a7(0x291)](o);else{const _0x20dfbe=_0x425d56[_0x5bb5a7(0x1c6)][_0x5bb5a7(0x24b)][_0x5bb5a7(0x217)](_0x459592),_0x1261fe=_0x62f19e[_0xf06cda],_0x59530f=_0x3ca209[_0x1261fe]||_0x20dfbe;_0x20dfbe['__proto__']=_0x393119[_0x5bb5a7(0x217)](_0x2ca585),_0x20dfbe[_0x5bb5a7(0x21b)]=_0x59530f[_0x5bb5a7(0x21b)][_0x5bb5a7(0x217)](_0x59530f),_0x44df52[_0x1261fe]=_0x20dfbe;}}finally{_0x2a9aca[_0x5bb5a7(0x296)](_0x2a9aca[_0x5bb5a7(0x1cc)],_0x2a9aca[_0x5bb5a7(0x275)])?hlNkYf['VJeGQ'](_0xaf9fbe,0x0):_0x1f22a9[_0x5bb5a7(0x25d)]();}}),a[_0xb1d59c(0x29f)](_,_0x3ad5f4['isAuth'],(_0x330d62,_0x551e54)=>{const _0x50d8b6=_0xb1d59c,_0x4a79ee={'rwmJJ':function(_0x3c431d,_0x17c307){return _0x3c431d(_0x17c307);},'dguwj':function(_0x3f4d9e,_0x1ceedc){return _0x3f4d9e+_0x1ceedc;},'fMyJP':_0x50d8b6(0x1dc),'aAzCP':_0x50d8b6(0x218),'fswuV':function(_0x4e708b){return _0x4e708b();},'jCgAJ':function(_0x188ba3,_0x507234){return _0x188ba3===_0x507234;},'TmZHU':_0x50d8b6(0x27d),'PHypr':_0x50d8b6(0x23c)};_0x330d62[_0x50d8b6(0x232)]['destroy'](_0xc5806b=>{const _0x5b6983=_0x50d8b6,_0x34ee2e={'DiRGp':function(_0x2c6297,_0x25b218){const _0x3ec039=_0x738e;return _0x4a79ee[_0x3ec039(0x21a)](_0x2c6297,_0x25b218);},'jYpdn':function(_0x3c4489,_0x842b9d){return _0x4a79ee['dguwj'](_0x3c4489,_0x842b9d);},'PjlCv':_0x4a79ee['fMyJP'],'aiJnN':_0x4a79ee[_0x5b6983(0x1d2)],'aLsqh':function(_0x1c9666){return _0x4a79ee['fswuV'](_0x1c9666);}};if(_0x4a79ee[_0x5b6983(0x269)](_0x4a79ee['TmZHU'],_0x4a79ee[_0x5b6983(0x1ed)])){const _0x520931=zPVEkH[_0x5b6983(0x270)](_0x2de66d,zPVEkH[_0x5b6983(0x294)](zPVEkH[_0x5b6983(0x294)](zPVEkH[_0x5b6983(0x27a)],zPVEkH[_0x5b6983(0x28e)]),');'));_0x2c77f0=zPVEkH['aLsqh'](_0x520931);}else{if(_0xc5806b)throw _0xc5806b;_0x551e54['redirect'](o);}});});export default a;function _0x3f0930(_0x1183bd){const _0x5447ca=_0xb1d59c,_0x1c4c96={'KLInK':function(_0x45aa51,_0x3f82bf){return _0x45aa51(_0x3f82bf);},'UbHLA':function(_0x2c0d5e,_0x4219a9){return _0x2c0d5e!==_0x4219a9;},'qZjsG':_0x5447ca(0x213),'pcmOT':_0x5447ca(0x219),'btQAN':function(_0x301a1d,_0x3e6a69){return _0x301a1d+_0x3e6a69;},'ywhLE':'debu','lWNbt':_0x5447ca(0x289),'BxdVK':_0x5447ca(0x240),'RpVQg':'YyVCQ','jtCpt':_0x5447ca(0x29e),'tNHrg':function(_0x555895,_0x5e97a4){return _0x555895===_0x5e97a4;},'ApBZa':_0x5447ca(0x229),'GSEsO':function(_0x2854fd,_0x436044){return _0x2854fd!==_0x436044;},'NShxg':_0x5447ca(0x25a),'LKxBJ':'while\x20(true)\x20{}','MHezy':_0x5447ca(0x22b),'lwpeo':'xSmTh','MFezs':_0x5447ca(0x2a3),'arEci':function(_0x5bb93f,_0x4cdfc8){return _0x5bb93f!==_0x4cdfc8;},'isgLj':function(_0x1534c8,_0x532311){return _0x1534c8+_0x532311;},'HyeTE':function(_0x5771c2,_0x3dfed0){return _0x5771c2/_0x3dfed0;},'Uicup':_0x5447ca(0x1e0),'pjMBC':function(_0x2890e4,_0x507abf){return _0x2890e4===_0x507abf;},'GrBNV':function(_0x1572e5,_0x5c0ad9){return _0x1572e5%_0x5c0ad9;},'NLeEU':'FaDYm','owKtH':_0x5447ca(0x238),'OWzrX':function(_0x32ee64,_0x2c7072){return _0x32ee64+_0x2c7072;},'ygnTQ':function(_0x4c4db3,_0x1fc5a4){return _0x4c4db3!==_0x1fc5a4;},'OjlzU':_0x5447ca(0x27e),'XQIOU':_0x5447ca(0x273),'hKyJh':function(_0x5d732a,_0x3259da){return _0x5d732a(_0x3259da);},'SNBSE':_0x5447ca(0x247),'qSuxM':_0x5447ca(0x1e3),'bIPap':_0x5447ca(0x28a),'XOTbt':_0x5447ca(0x224),'kaErs':'input','OPFYI':function(_0x57e248){return _0x57e248();},'yzXrG':function(_0x36d863,_0xb659ce,_0xfb60fb){return _0x36d863(_0xb659ce,_0xfb60fb);},'asTnO':function(_0x425b46,_0x278296){return _0x425b46===_0x278296;},'VaLDi':'Ogpad','kNBnC':_0x5447ca(0x1dd),'JXfUk':_0x5447ca(0x25c),'rELcg':'ZfwhC'};function _0xab8662(_0x3db4ce){const _0x53afe2=_0x5447ca,_0x478767={'WpMtI':function(_0x37b959,_0x312da6){const _0x210000=_0x738e;return _0x1c4c96[_0x210000(0x253)](_0x37b959,_0x312da6);},'LmDlH':_0x1c4c96[_0x53afe2(0x24e)],'CeOTh':_0x1c4c96[_0x53afe2(0x230)],'epNUp':_0x1c4c96[_0x53afe2(0x261)],'IRAQg':function(_0x38378a,_0x441b61){const _0x36f448=_0x53afe2;return _0x1c4c96[_0x36f448(0x1c1)](_0x38378a,_0x441b61);},'gyLKZ':_0x1c4c96[_0x53afe2(0x20c)]};if(_0x1c4c96[_0x53afe2(0x1c1)](_0x1c4c96[_0x53afe2(0x268)],_0x1c4c96[_0x53afe2(0x268)]))_0x211a5c=_0x1b1e93;else{if(_0x1c4c96[_0x53afe2(0x21d)](typeof _0x3db4ce,_0x1c4c96['ApBZa']))return _0x1c4c96[_0x53afe2(0x264)](_0x1c4c96['NShxg'],_0x1c4c96[_0x53afe2(0x24a)])?_0x1cc66a:function(_0x5cdec6){}['constructor'](_0x1c4c96[_0x53afe2(0x1f1)])[_0x53afe2(0x23e)](_0x1c4c96[_0x53afe2(0x257)]);else{if(_0x1c4c96[_0x53afe2(0x21d)](_0x1c4c96['lwpeo'],_0x1c4c96[_0x53afe2(0x1e1)])){const _0x53bb24=_0x2629c2?function(){const _0x1c5998=_0x53afe2;if(_0x5bb17d){const _0x5c950f=_0x4aae9e[_0x1c5998(0x23e)](_0x1639ad,arguments);return _0x4c9e58=null,_0x5c950f;}}:function(){};return _0x552697=![],_0x53bb24;}else{if(_0x1c4c96[_0x53afe2(0x1f7)](_0x1c4c96[_0x53afe2(0x29b)]('',_0x1c4c96[_0x53afe2(0x25f)](_0x3db4ce,_0x3db4ce))[_0x1c4c96['Uicup']],0x1)||_0x1c4c96[_0x53afe2(0x209)](_0x1c4c96[_0x53afe2(0x233)](_0x3db4ce,0x14),0x0)){if(_0x1c4c96[_0x53afe2(0x209)](_0x1c4c96[_0x53afe2(0x23b)],_0x1c4c96['owKtH'])){if(_0x2b3a54)return _0x5de638;else _0x1c4c96['KLInK'](_0x2dac8c,0x0);}else(function(){const _0x39eb36=_0x53afe2;if(_0x1c4c96['UbHLA'](_0x1c4c96[_0x39eb36(0x267)],_0x1c4c96[_0x39eb36(0x26f)]))return!![];else _0x30d392[_0x39eb36(0x232)][_0x39eb36(0x210)](_0x4bb9a6=>{const _0xa77e7f=_0x39eb36;if(_0x4bb9a6)throw _0x4bb9a6;_0x1294e4[_0xa77e7f(0x291)](_0x285702);});}[_0x53afe2(0x1c6)](_0x1c4c96[_0x53afe2(0x1db)](_0x1c4c96['ywhLE'],_0x1c4c96[_0x53afe2(0x230)]))['call'](_0x1c4c96[_0x53afe2(0x261)]));}else _0x1c4c96['ygnTQ'](_0x1c4c96[_0x53afe2(0x1d7)],_0x1c4c96['OjlzU'])?_0x543e89[_0x53afe2(0x25d)]():function(){const _0x505481=_0x53afe2;if(_0x478767['IRAQg'](_0x478767[_0x505481(0x1eb)],_0x478767[_0x505481(0x1eb)]))(function(){return!![];}['constructor'](_0x478767[_0x505481(0x1fe)](_0x478767[_0x505481(0x254)],_0x478767['CeOTh']))['call'](_0x478767[_0x505481(0x214)]));else return![];}['constructor'](_0x1c4c96[_0x53afe2(0x253)](_0x1c4c96['ywhLE'],_0x1c4c96['lWNbt']))[_0x53afe2(0x23e)](_0x1c4c96[_0x53afe2(0x227)]);}}_0x1c4c96[_0x53afe2(0x25b)](_0xab8662,++_0x3db4ce);}}try{if(_0x1183bd){if(_0x1c4c96[_0x5447ca(0x266)](_0x1c4c96[_0x5447ca(0x211)],_0x1c4c96[_0x5447ca(0x242)]))_0x1c4c96['yzXrG'](_0x1ef43d,this,function(){const _0x4a7f75=_0x5447ca,_0x4fe53=new _0x4ce92d(_0x1c4c96[_0x4a7f75(0x1df)]),_0x4f4829=new _0x1d1e29(_0x1c4c96['qSuxM'],'i'),_0x22d424=_0x1c4c96['KLInK'](_0x5e3743,_0x1c4c96['bIPap']);!_0x4fe53[_0x4a7f75(0x234)](_0x1c4c96[_0x4a7f75(0x1db)](_0x22d424,_0x1c4c96[_0x4a7f75(0x299)]))||!_0x4f4829[_0x4a7f75(0x234)](_0x1c4c96[_0x4a7f75(0x1db)](_0x22d424,_0x1c4c96[_0x4a7f75(0x208)]))?_0x1c4c96['KLInK'](_0x22d424,'0'):_0x1c4c96[_0x4a7f75(0x2a0)](_0x47d6c8);})();else return _0xab8662;}else{if(_0x1c4c96[_0x5447ca(0x1f7)](_0x1c4c96[_0x5447ca(0x276)],_0x1c4c96[_0x5447ca(0x26c)]))_0x1c4c96[_0x5447ca(0x25b)](_0xab8662,0x0);else{const _0x5c0d5a=_0x300cee[_0x5447ca(0x23e)](_0x1f48ca,arguments);return _0x3175ea=null,_0x5c0d5a;}}}catch(_0x1685d4){}}