const _0x40dbd6=_0x3e56;(function(_0x5f2e10,_0x5d7090){const _0x4c37e4=_0x3e56,_0x53ff15=_0x5f2e10();while(!![]){try{const _0x42a72b=parseInt(_0x4c37e4(0x1c2))/0x1+parseInt(_0x4c37e4(0x169))/0x2+parseInt(_0x4c37e4(0x166))/0x3*(-parseInt(_0x4c37e4(0x195))/0x4)+-parseInt(_0x4c37e4(0x132))/0x5*(parseInt(_0x4c37e4(0x1d9))/0x6)+parseInt(_0x4c37e4(0x1e1))/0x7*(parseInt(_0x4c37e4(0x20d))/0x8)+-parseInt(_0x4c37e4(0x12e))/0x9+parseInt(_0x4c37e4(0x1c8))/0xa*(parseInt(_0x4c37e4(0x237))/0xb);if(_0x42a72b===_0x5d7090)break;else _0x53ff15['push'](_0x53ff15['shift']());}catch(_0x47fc95){_0x53ff15['push'](_0x53ff15['shift']());}}}(_0x4779,0xc610d));const _0x17f25b=(function(){const _0x30c606=_0x3e56,_0x39fc16={'nPLYi':function(_0xe60505,_0x317aee){return _0xe60505===_0x317aee;},'hCOMP':'sBYHX','JXynG':_0x30c606(0x164),'ZqICL':function(_0x374bcf,_0x2d650f){return _0x374bcf!==_0x2d650f;},'XixZR':'SOKFb','eiHjb':function(_0x3a5cd5,_0x4247cc){return _0x3a5cd5(_0x4247cc);},'FmyiS':function(_0x30c294,_0x3462d5){return _0x30c294!==_0x3462d5;},'zNmJg':_0x30c606(0x224),'wKUjZ':'Cnslb'};let _0x1bc572=!![];return function(_0x81c7dd,_0x519664){const _0x396496=_0x30c606,_0x4a3947={'qQTwq':function(_0x3f8eda,_0x3e3c2d){const _0x104400=_0x3e56;return _0x39fc16[_0x104400(0x21e)](_0x3f8eda,_0x3e3c2d);}};if(_0x39fc16[_0x396496(0x1dd)](_0x39fc16['zNmJg'],_0x39fc16[_0x396496(0x172)])){const _0x1345a4=_0x1bc572?function(){const _0x4d005b=_0x396496;if(_0x39fc16['nPLYi'](_0x39fc16[_0x4d005b(0x20c)],_0x39fc16[_0x4d005b(0x1db)]))_0x8a426f=_0x463402;else{if(_0x519664){if(_0x39fc16[_0x4d005b(0x191)](_0x39fc16['XixZR'],_0x39fc16[_0x4d005b(0x1b8)]))_0x4a3947[_0x4d005b(0x1b1)](_0x827144,0x0);else{const _0x67ad47=_0x519664[_0x4d005b(0x113)](_0x81c7dd,arguments);return _0x519664=null,_0x67ad47;}}}}:function(){};return _0x1bc572=![],_0x1345a4;}else{const _0x4c3716=_0xbc234[_0x396496(0x113)](_0x3a5170,arguments);return _0x10bd5f=null,_0x4c3716;}};}());(function(){const _0xf2f015=_0x3e56,_0x482c4b={'DNvtV':function(_0x53db77,_0x15b6bb){return _0x53db77!==_0x15b6bb;},'SVcZd':_0xf2f015(0x19b),'kswmA':_0xf2f015(0x1b3),'fBJlG':_0xf2f015(0x167),'KYRZQ':function(_0x27bdfd,_0x25c1c6){return _0x27bdfd(_0x25c1c6);},'mJtQp':'init','CcHdR':function(_0x506bac,_0x3155d2){return _0x506bac+_0x3155d2;},'lnyzg':'chain','AedGr':_0xf2f015(0x236),'Xjoto':_0xf2f015(0x203),'epYqJ':_0xf2f015(0x249),'yxfnR':function(_0x381a48,_0xa5e24c){return _0x381a48===_0xa5e24c;},'GcRCw':_0xf2f015(0x133),'kYQPr':_0xf2f015(0x15f),'olFlU':function(_0x4073c8){return _0x4073c8();},'qqohp':function(_0x37fed4,_0x2f30c2,_0x1ac613){return _0x37fed4(_0x2f30c2,_0x1ac613);}};_0x482c4b[_0xf2f015(0x1f3)](_0x17f25b,this,function(){const _0x6c4067=_0xf2f015;if(_0x482c4b[_0x6c4067(0x114)](_0x482c4b[_0x6c4067(0x257)],_0x482c4b[_0x6c4067(0x257)]))_0x394eb8['log'](_0x271905),_0x2a1d65[_0x6c4067(0x197)](0x194)['sendFile'](_0x20da14);else{const _0x517ae3=new RegExp(_0x482c4b[_0x6c4067(0x1f9)]),_0x491cdf=new RegExp(_0x482c4b['fBJlG'],'i'),_0x1c5714=_0x482c4b[_0x6c4067(0x14c)](_0xfc2b7a,_0x482c4b[_0x6c4067(0x153)]);if(!_0x517ae3[_0x6c4067(0x135)](_0x482c4b[_0x6c4067(0x23f)](_0x1c5714,_0x482c4b['lnyzg']))||!_0x491cdf['test'](_0x482c4b[_0x6c4067(0x23f)](_0x1c5714,_0x482c4b[_0x6c4067(0x17d)]))){if(_0x482c4b['DNvtV'](_0x482c4b[_0x6c4067(0x22d)],_0x482c4b[_0x6c4067(0x148)]))_0x482c4b['KYRZQ'](_0x1c5714,'0');else return![];}else{if(_0x482c4b[_0x6c4067(0x155)](_0x482c4b[_0x6c4067(0x138)],_0x482c4b[_0x6c4067(0x179)])){if(_0x4a5d28){const _0x242e13=_0x4c0d2c[_0x6c4067(0x113)](_0x55a4b2,arguments);return _0xef84e1=null,_0x242e13;}}else _0x482c4b[_0x6c4067(0x19f)](_0xfc2b7a);}}})();}());const _0x526e80=(function(){const _0x9df270=_0x3e56,_0x23b4e5={'MriCP':function(_0x3a05db,_0x5954c3){return _0x3a05db===_0x5954c3;},'TXERw':_0x9df270(0x1bd),'GmpiA':_0x9df270(0x21f),'Lsoty':_0x9df270(0x245),'eGnzs':'rUEZc'};let _0x1b8785=!![];return function(_0x118a1f,_0x4830ae){const _0x236089=_0x9df270,_0xae048e={'ZVcdm':function(_0x3dc27c,_0x43df2a){const _0x3e60cb=_0x3e56;return _0x23b4e5[_0x3e60cb(0x246)](_0x3dc27c,_0x43df2a);},'HrMJR':_0x23b4e5[_0x236089(0x1c5)],'gLsOV':_0x23b4e5['GmpiA']};if(_0x23b4e5['MriCP'](_0x23b4e5['Lsoty'],_0x23b4e5[_0x236089(0x136)])){const _0x35f264=_0x247c81?new _0x3ee721(''+_0x5e1cb5,'i'):new _0x12293b('.*');_0x304e68[_0x236089(0x127)]({'$match':{'$or':[{'customerId':{'$regex':_0x35f264}},{'customerName':{'$regex':_0x35f264}}]}});}else{const _0x568fd9=_0x1b8785?function(){const _0x42ab48=_0x236089;if(_0xae048e[_0x42ab48(0x212)](_0xae048e['HrMJR'],_0xae048e[_0x42ab48(0x134)])){if(_0x4830ae){if(_0xae048e[_0x42ab48(0x212)](_0xae048e[_0x42ab48(0x1b2)],_0xae048e[_0x42ab48(0x1b2)])){const _0x4515c8=_0x4830ae['apply'](_0x118a1f,arguments);return _0x4830ae=null,_0x4515c8;}else _0x251c46[_0x42ab48(0x120)]();}}else{const _0xfe0ec5=_0xb4500e[_0x42ab48(0x113)](_0x238e59,arguments);return _0x3f61ef=null,_0xfe0ec5;}}:function(){};return _0x1b8785=![],_0x568fd9;}};}()),_0xfff5d0=_0x526e80(this,function(){const _0x50bd44=_0x3e56,_0x597ca8={'zSuGb':function(_0x146b3e,_0x2312c2){return _0x146b3e(_0x2312c2);},'lGatl':function(_0x145a4a,_0x5c2dc8){return _0x145a4a+_0x5c2dc8;},'QVRSU':function(_0x1bbda2,_0x3bc984){return _0x1bbda2+_0x3bc984;},'cmXNs':'return\x20(function()\x20','qTWse':'{}.constructor(\x22return\x20this\x22)(\x20)','HxKiy':_0x50bd44(0x12d),'EVIIl':_0x50bd44(0x13b),'hPJyt':_0x50bd44(0x1b3),'jlPwi':_0x50bd44(0x167),'fyCLm':'init','jfUzo':function(_0x317b1d,_0x382fc6){return _0x317b1d+_0x382fc6;},'Phbjs':_0x50bd44(0x157),'rmfYf':_0x50bd44(0x236),'XoOcV':function(_0x1cfc3d){return _0x1cfc3d();},'aojQw':function(_0x21c01a,_0x23da47){return _0x21c01a===_0x23da47;},'luEAj':_0x50bd44(0x24d),'NYgHT':'ZSAzg','Omixf':function(_0x1fb2b5,_0x3ca594){return _0x1fb2b5!==_0x3ca594;},'OOefI':_0x50bd44(0x251),'kEgiJ':'YbFli','LpVww':function(_0x63800a,_0x46ad38){return _0x63800a(_0x46ad38);},'eReGj':function(_0x54b0f1,_0x35386a){return _0x54b0f1+_0x35386a;},'JwnUv':function(_0x358175,_0x534e5d){return _0x358175+_0x534e5d;},'Ypvcp':'Kxhrz','jTByv':_0x50bd44(0x121),'Jknfw':function(_0x33af79){return _0x33af79();},'POATx':'log','XpLIv':'warn','BmFTA':'info','KunDg':_0x50bd44(0x15c),'bczsE':_0x50bd44(0x146),'dylWg':_0x50bd44(0x1aa),'XiVIC':_0x50bd44(0x162),'fKgSZ':function(_0x270384,_0x1cbe70){return _0x270384<_0x1cbe70;},'GpdvD':function(_0x5cbf56,_0x5b1730){return _0x5cbf56!==_0x5b1730;},'ZHbYI':_0x50bd44(0x210)},_0x23b161=function(){const _0x383d88=_0x50bd44,_0x244eb9={'hvLSm':_0x597ca8[_0x383d88(0x141)],'VFXSy':_0x597ca8[_0x383d88(0x128)],'TuwZh':function(_0x27d599,_0x5ea1a6){return _0x597ca8['zSuGb'](_0x27d599,_0x5ea1a6);},'TpodO':_0x597ca8[_0x383d88(0x232)],'pOpwQ':function(_0x87e864,_0x1e6a8e){const _0x8ac264=_0x383d88;return _0x597ca8[_0x8ac264(0x14a)](_0x87e864,_0x1e6a8e);},'qhIUA':_0x597ca8['Phbjs'],'xWUit':_0x597ca8['rmfYf'],'EZUzc':function(_0x487e6f){const _0x400565=_0x383d88;return _0x597ca8[_0x400565(0x12f)](_0x487e6f);}};if(_0x597ca8[_0x383d88(0x1da)](_0x597ca8[_0x383d88(0x1af)],_0x597ca8[_0x383d88(0x171)])){const _0x2a872d=new _0x47fc7f(_0x244eb9[_0x383d88(0x1a6)]),_0x1abbba=new _0x3ff61d(_0x244eb9[_0x383d88(0x1fe)],'i'),_0x4a5dd9=_0x244eb9['TuwZh'](_0x467b4f,_0x244eb9[_0x383d88(0x225)]);!_0x2a872d['test'](_0x244eb9[_0x383d88(0x1c3)](_0x4a5dd9,_0x244eb9['qhIUA']))||!_0x1abbba['test'](_0x244eb9[_0x383d88(0x1c3)](_0x4a5dd9,_0x244eb9[_0x383d88(0x202)]))?_0x244eb9['TuwZh'](_0x4a5dd9,'0'):_0x244eb9['EZUzc'](_0x567b1a);}else{let _0x19ff5b;try{_0x597ca8[_0x383d88(0x227)](_0x597ca8[_0x383d88(0x1de)],_0x597ca8[_0x383d88(0x1d2)])?_0x19ff5b=_0x597ca8['LpVww'](Function,_0x597ca8[_0x383d88(0x1ec)](_0x597ca8[_0x383d88(0x1b6)](_0x597ca8[_0x383d88(0x13e)],_0x597ca8[_0x383d88(0x198)]),');'))():_0x503e38=_0x597ca8[_0x383d88(0x177)](_0x5c4552,_0x597ca8[_0x383d88(0x213)](_0x597ca8['QVRSU'](_0x597ca8['cmXNs'],_0x597ca8[_0x383d88(0x198)]),');'))();}catch(_0x4920fb){_0x597ca8[_0x383d88(0x227)](_0x597ca8['Ypvcp'],_0x597ca8[_0x383d88(0x256)])?_0x19ff5b=window:(_0x3818eb[_0x383d88(0x25e)](_0x1b057d),_0x5df549[_0x383d88(0x154)](_0x597ca8[_0x383d88(0x1fd)],{'class':_0x597ca8['EVIIl'],'text':''+_0xeeeaa6[_0x383d88(0x150)]}),_0x1b606e[_0x383d88(0x197)](0x194)[_0x383d88(0x117)](_0xdd5a23));}return _0x19ff5b;}},_0x5ba0bc=_0x597ca8[_0x50bd44(0x261)](_0x23b161),_0x7372c8=_0x5ba0bc[_0x50bd44(0x15d)]=_0x5ba0bc[_0x50bd44(0x15d)]||{},_0x17d105=[_0x597ca8['POATx'],_0x597ca8['XpLIv'],_0x597ca8[_0x50bd44(0x11e)],_0x597ca8[_0x50bd44(0x24c)],_0x597ca8[_0x50bd44(0x192)],_0x597ca8['dylWg'],_0x597ca8[_0x50bd44(0x149)]];for(let _0x3704f0=0x0;_0x597ca8[_0x50bd44(0x147)](_0x3704f0,_0x17d105[_0x50bd44(0x158)]);_0x3704f0++){if(_0x597ca8[_0x50bd44(0x1ad)](_0x597ca8[_0x50bd44(0x229)],_0x597ca8['ZHbYI'])){const _0x11ad1b=_0x1b9ba9?function(){const _0x24743a=_0x50bd44;if(_0x3a238a){const _0x254ca4=_0x509802[_0x24743a(0x113)](_0x1546a9,arguments);return _0x14176f=null,_0x254ca4;}}:function(){};return _0x80369b=![],_0x11ad1b;}else{const _0x21c069=_0x526e80[_0x50bd44(0x25f)][_0x50bd44(0x1a9)][_0x50bd44(0x187)](_0x526e80),_0x2cbbcf=_0x17d105[_0x3704f0],_0x3181c2=_0x7372c8[_0x2cbbcf]||_0x21c069;_0x21c069[_0x50bd44(0x139)]=_0x526e80[_0x50bd44(0x187)](_0x526e80),_0x21c069[_0x50bd44(0x14e)]=_0x3181c2[_0x50bd44(0x14e)][_0x50bd44(0x187)](_0x3181c2),_0x7372c8[_0x2cbbcf]=_0x21c069;}}});_0xfff5d0();import _0x789df2 from'express';function _0x3e56(_0xf033b9,_0xcc7d00){const _0x38b7a7=_0x4779();return _0x3e56=function(_0xfff5d0,_0x526e80){_0xfff5d0=_0xfff5d0-0x113;let _0x40938c=_0x38b7a7[_0xfff5d0];return _0x40938c;},_0x3e56(_0xf033b9,_0xcc7d00);}const f=_0x789df2[_0x40dbd6(0x24a)]();import{MongoClient as _0x592404,ObjectId as _0xaa206d}from'mongodb';import _0x5c7fe6 from'ejs';function _0x4779(){const _0x1ca484=['unshift','jlPwi','GVrVd','&load_id=','/myModule.js','load_id','msg','6424884nlrVet','XoOcV','EVMSp','dateTimeCanDelete','4750NUiEmG','yJlED','HrMJR','test','eGnzs','teIir','GcRCw','__proto__','FEWQk','red','jPnJV','lIjQM','cmXNs','DxAVP','renderView','hPJyt','pStsH','replace','\x22\x20เรียบร้อยแล้ว','Ijrev','exception','fKgSZ','epYqJ','XiVIC','jfUzo','ลูกค้า','KYRZQ','dbColl_quotation','toString','yPsgm','message','query','olrzK','mJtQp','flash','yxfnR','green','chain','length','EemZt','modifiedCount','PVOvs','error','console','findOne','hVQNT','ลูกค้า\x20\x22','?sip=','trace','oTddb','uRbil','bauhj','366rYLAjU','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','Jrgpg','1173180rjpNRu','post','dbColl_receipt','Tkszl','pPyxT','ylRbO','connect','JkKrT','NYgHT','wKUjZ','gNYfX','stringify','xwpgn','TCXZu','zSuGb','bRSdD','kYQPr','bPiAh','wtClG','getDateTime','AedGr','niRwn','uFiXq','LiKAg','../','lfAQJ','kuLIN','dtapF','setDate','FPRmQ','bind','nowLocal','aiROI','/load','insertedId','uZhDu','$customerId','gUJfo','ไม่มีข้อมูลที่จะพิมพ์','deleteOne','ZqICL','bczsE','DZljD','เกิดข้อผิดพลาดขณะลบ\x20\x22','51948WiJZXD','เพิ่ม\x20\x22','status','qTWse','counter','_id','mlEbE','error\x20===>\x20','Tcrkx','fCINS','olFlU','vdfzw','call','RmkCP','uLQBh','XfwPM','bVRim','hvLSm','getSettings','xxqty','prototype','table','Dcowj','collection','GpdvD','isOA','luEAj','AQJPe','qQTwq','gLsOV','function\x20*\x5c(\x20*\x5c)','string','HDyNL','JwnUv','yellow','XixZR','KICWA','print_customers.ejs','rrJoh','VLLnH','wLfey','find','lKcGA','{}.constructor(\x22return\x20this\x22)(\x20)','HIKgl','1593786DHnlUO','pOpwQ','wCwsp','TXERw','rRLEX','chlsf','10vfEwZm','userFlash','AjUOW','OUcaP','lWbaC','action','fzUvH','ExESP','gabJU','newDateTimeLocal','kEgiJ','minute','khrkI','send','nFIkY','/customers','ลบ\x20\x22','8238vMelTr','aojQw','JXynG','sort','FmyiS','OOefI','render','/print','1064YLSyNk','dbColl_customers','$dateTimeCanDelete','Print\x20','gNbPR','เลขที่งาน\x20\x22','QfEwT','/myDateTime.js','JFwSz','body','Tzxxe','eReGj','nuOta','JzJGw','countDocuments','gqPFL','mSQML','dbName','qqohp','trim','dgmRR','get','Pmyfu','updateOne','kswmA','zVndA','iGNKY','&page=','HxKiy','VFXSy','XqltU','\x22\x20ซ้ำ{{sep}}\x20โปรดติดต่อผู้ดูแลระบบ','bSWUs','xWUit','wrben','hxRXv','{{sep}}\x22','toISOString','\x22\x20มีอยู่ในเอกสาร\x20','getSessionData','QreSy','&rpp=','UqDRq','hCOMP','30936ASBFid','sip','QNmMK','zDevI','GFhlC','ZVcdm','lGatl','zIqKQ','HFyPK','acknowledged','mVcgj','TekTn','nKdYt','RtoPJ','page','Yjmfi','/save','eiHjb','uVUvV','onrOP','utf8','ZXCpk','aAZhR','TAhSi','TpodO','SBwWO','Omixf','OWGrg','ZHbYI','MCQQx','gger','KVmQW','Xjoto','lfaVj','ffIxo','Not\x20Found','JxOBq','fyCLm','toXlu','tctIC','qsBGI','input','18103327JmFxTf','readFileSync','zCsuu','KuABr','QIRqs','nkoxu','qxqNr','deletedCount','CcHdR','taXoP','LcRJW','HgURC','toArray','slice','wyPOU','MriCP','debu','while\x20(true)\x20{}','XDeqq','Router','AXsXh','KunDg','PdYKX','limit','customerId','anEyQ','ekTBd','MPsYz','KGRFw','Error\x20while\x20deleting','vfIdz','jTByv','SVcZd','ZQqEn','TamrF','RnbSl','dbColl_invoice','rVVlR','Pusmz','log','constructor','redirect','Jknfw','gTZoX','Jtkpx','RtVNj','apply','DNvtV','XCgBv','fzMyD','sendFile','customers','MkYVB','bASls','BDuhg','Btzvd','rpp','BmFTA','okYln','close','izYXK','sLKER','FZJqK','ไม่พบ\x20\x22','stateObject','Dykdx'];_0x4779=function(){return _0x1ca484;};return _0x4779();}import _0x79ceae from'fs';import _0xa28e27 from'path';import _0x4d77cb from'../middleware/mainAuth.js';const O=await import(_0x40dbd6(0x181)+mymoduleFolder+_0x40dbd6(0x12b)),I=await import(_0x40dbd6(0x181)+mymoduleFolder+_0x40dbd6(0x1e8)),L=await import(_0x40dbd6(0x181)+mymoduleFolder+'/myUsers.js'),n=_0x40dbd6(0x1d7),T=n+_0x40dbd6(0x21d),P=n+_0x40dbd6(0x18a),F=n+'/delete',M=n+'/import',E=n+_0x40dbd6(0x1e0),H=n[_0x40dbd6(0x143)](/\//g,'_');f[_0x40dbd6(0x1f6)](n,_0x4d77cb[_0x40dbd6(0x1ae)],async(_0x47097e,_0xaec1df)=>{const _0x37e7a5=_0x40dbd6,_0x4654eb={'dgmRR':_0x37e7a5(0x12d),'DEyIi':_0x37e7a5(0x13b),'qsBGI':_0x37e7a5(0x1b3),'TCXZu':_0x37e7a5(0x167),'lfaVj':function(_0x4137d2,_0xeb3f9f){return _0x4137d2(_0xeb3f9f);},'RtVNj':'init','KuABr':function(_0x2de6cd,_0x134a52){return _0x2de6cd+_0x134a52;},'mssSe':_0x37e7a5(0x157),'Tkszl':_0x37e7a5(0x236),'pStsH':function(_0x258a8d){return _0x258a8d();},'ecUQK':function(_0x526837,_0x106f74,_0x166c5c){return _0x526837(_0x106f74,_0x166c5c);},'HFyPK':function(_0x1824f5,_0x11aec1){return _0x1824f5(_0x11aec1);},'KGRFw':function(_0xf8fb05,_0x3d654a){return _0xf8fb05(_0x3d654a);},'Taywl':function(_0xb51860,_0x4a7045){return _0xb51860(_0x4a7045);},'RtoPJ':function(_0x1076d3,_0x16c539){return _0x1076d3*_0x16c539;},'hxRXv':function(_0x2c1d00,_0x2a4be6){return _0x2c1d00-_0x2a4be6;},'bASls':function(_0x55cd3c,_0x1410ea){return _0x55cd3c!==_0x1410ea;},'gabJU':'KfLbB','fzUvH':_0x37e7a5(0x1e3),'fCINS':_0x37e7a5(0x1d3),'UdSVI':function(_0x907cb9,_0xda5f57){return _0x907cb9===_0xda5f57;},'rrJoh':'lDvQB','XqltU':'\x5c$&','qiiLp':function(_0x484463,_0x3f15b4){return _0x484463/_0x3f15b4;},'aAZhR':function(_0x2ff738,_0x5cace4){return _0x2ff738<_0x5cace4;},'nFIkY':function(_0x59add7,_0x4d7514){return _0x59add7-_0x4d7514;},'daPyc':function(_0x2d76fc,_0x41ec06){return _0x2d76fc(_0x41ec06);},'EemZt':function(_0x52dc2b,_0x31ead6){return _0x52dc2b-_0x31ead6;},'lKcGA':function(_0x312edf,_0x2448ea){return _0x312edf(_0x2448ea);},'aegZp':function(_0x1cb954,_0x48a313){return _0x1cb954>_0x48a313;},'AikXo':function(_0x1acbf1,_0x29ef06){return _0x1acbf1+_0x29ef06;},'lcuDV':function(_0x34ad6b,_0x566df7){return _0x34ad6b(_0x566df7);},'ZQqEn':function(_0x5b97cf,_0x353ada){return _0x5b97cf+_0x353ada;},'ffIxo':function(_0x43296b,_0x374221){return _0x43296b===_0x374221;},'uFiXq':_0x37e7a5(0x115),'olrzK':_0x37e7a5(0x1b9),'BDuhg':function(_0x498ae0,_0x5c6689){return _0x498ae0===_0x5c6689;},'kuLIN':'qCvaP','okYln':function(_0x2de9cd,_0x2bb4a3){return _0x2de9cd>_0x2bb4a3;},'zCsuu':_0x37e7a5(0x118),'QIRqs':_0x37e7a5(0x1c9),'aiROI':function(_0x300614,_0x494370){return _0x300614===_0x494370;},'mVcgj':_0x37e7a5(0x168),'OWGrg':function(_0x2bd933,_0x1acc93){return _0x2bd933!==_0x1acc93;},'ZXCpk':_0x37e7a5(0x1c7),'FZJqK':_0x37e7a5(0x145)},_0x11f57c=_0x47097e['query'][_0x37e7a5(0x20e)]?.[_0x37e7a5(0x1f4)]()[_0x37e7a5(0x143)](/[$.*?]/g,'\x20')||'',_0x34274b=_0x4654eb[_0x37e7a5(0x215)](Number,_0x47097e[_0x37e7a5(0x151)][_0x37e7a5(0x11d)])||0x14,_0x23237f=_0x4654eb[_0x37e7a5(0x253)](Number,_0x47097e[_0x37e7a5(0x151)][_0x37e7a5(0x21b)])||0x1,_0x88bd07=_0x47097e['query'][_0x37e7a5(0x12c)]||'',_0x576fff=_0x4654eb['Taywl'](Number,_0x4654eb[_0x37e7a5(0x21a)](_0x4654eb[_0x37e7a5(0x204)](_0x23237f,0x1),_0x34274b)),_0x18583d=new _0x592404(dbUrl);try{if(_0x4654eb[_0x37e7a5(0x11a)](_0x4654eb[_0x37e7a5(0x1d0)],_0x4654eb['gabJU']))return _0x3ff56d[_0x37e7a5(0x154)](_0x4654eb['dgmRR'],{'class':_0x4654eb['DEyIi'],'text':_0x36d5df['message']}),_0x62f87c['redirect'](_0x20da84);else{const _0x361277={'_id':0x1,'customerId':0x1,'customerStatus':0x1,'customerType':0x1,'customerName':0x1,'customerAddress1':0x1,'customerAddress2':0x1,'customerPhone':0x1,'customerWebsite':0x1,'customerEmail':0x1,'customerIdentityId':0x1,'customerTaxId':0x1,'customerContactPerson':0x1,'canDelete':0x1,'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':I[_0x37e7a5(0x188)]()[_0x37e7a5(0x244)](0x0,0x10)[_0x37e7a5(0x143)]('T','\x20')},'endDate':{'$toDate':_0x4654eb[_0x37e7a5(0x1ce)]},'unit':_0x4654eb[_0x37e7a5(0x19e)]}},0x0]},'then':!0x0,'else':!0x1}}};await _0x18583d[_0x37e7a5(0x16f)]();const _0x978f52=_0x18583d['db'](dbName)['collection'](global['dbColl_customers']);if(_0x11f57c){if(_0x4654eb['UdSVI'](_0x4654eb[_0x37e7a5(0x1bb)],_0x4654eb[_0x37e7a5(0x1bb)])){const _0x5c38f3=new RegExp(_0x11f57c['replace'](/[.*+?^${}()|[\]\\]/g,_0x4654eb[_0x37e7a5(0x1ff)]),'i');var _0x441fc5=await _0x978f52[_0x37e7a5(0x1ef)]({'$or':[{'customerId':{'$regex':_0x5c38f3}},{'customerName':{'$regex':_0x5c38f3}}]});}else _0x25fa02[_0x37e7a5(0x120)]();}else var _0x441fc5=await _0x978f52[_0x37e7a5(0x1ef)]({});const _0xf83e0f=Math['ceil'](_0x4654eb['qiiLp'](_0x441fc5,_0x34274b)),_0x1e8921=_0x4654eb[_0x37e7a5(0x223)](_0x4654eb[_0x37e7a5(0x1d6)](_0x4654eb['daPyc'](Number,_0x23237f),0x1),0x1)?'-':_0x4654eb[_0x37e7a5(0x159)](_0x4654eb['lKcGA'](Number,_0x23237f),0x1),_0x4d4af2=_0x4654eb[_0x37e7a5(0x1bf)](Number,_0x23237f),_0x5ea144=_0x4654eb['aegZp'](_0x4654eb['AikXo'](_0x4654eb['lcuDV'](Number,_0x23237f),0x1),_0xf83e0f)?'-':_0x4654eb[_0x37e7a5(0x258)](_0x4654eb[_0x37e7a5(0x22e)](Number,_0x23237f),0x1),_0x4d3dad=[{'$project':_0x361277},{'$sort':{'customerId':0x1}},{'$skip':_0x576fff},{'$limit':_0x34274b}];if(_0x11f57c){if(_0x4654eb[_0x37e7a5(0x22f)](_0x4654eb[_0x37e7a5(0x17f)],_0x4654eb[_0x37e7a5(0x152)]))_0x1d2ed3[_0x37e7a5(0x120)]();else{const _0x77f8ea=_0x11f57c?new RegExp(''+_0x11f57c,'i'):new RegExp('.*');_0x4d3dad[_0x37e7a5(0x127)]({'$match':{'$or':[{'customerId':{'$regex':_0x77f8ea}},{'customerName':{'$regex':_0x77f8ea}}]}});}}const _0x30fc24=await _0x978f52['aggregate'](_0x4d3dad)['toArray']();if(_0x88bd07){if(_0x4654eb[_0x37e7a5(0x11b)](_0x4654eb[_0x37e7a5(0x183)],_0x4654eb[_0x37e7a5(0x183)])){var _0x3a557d=_0x30fc24['filter'](_0x38507f=>_0x38507f[_0x37e7a5(0x19a)]==_0x88bd07);if(_0x4654eb[_0x37e7a5(0x11f)](_0x3a557d[_0x37e7a5(0x158)],0x0))var _0x2c3de2=_0x3a557d[0x0];else var _0x2c3de2=await _0x978f52[_0x37e7a5(0x15e)]({'_id':new _0xaa206d(_0x88bd07)});}else iRkeyw['ecUQK'](_0x5ae4a0,this,function(){const _0x1aff11=_0x37e7a5,_0x400f2f=new _0x209f88(iRkeyw[_0x1aff11(0x235)]),_0x31c602=new _0x2cb051(iRkeyw[_0x1aff11(0x176)],'i'),_0xf55909=iRkeyw['lfaVj'](_0x551097,iRkeyw[_0x1aff11(0x264)]);!_0x400f2f['test'](iRkeyw[_0x1aff11(0x23a)](_0xf55909,iRkeyw['mssSe']))||!_0x31c602[_0x1aff11(0x135)](iRkeyw[_0x1aff11(0x23a)](_0xf55909,iRkeyw[_0x1aff11(0x16c)]))?iRkeyw['lfaVj'](_0xf55909,'0'):iRkeyw[_0x1aff11(0x142)](_0x394ac8);})();}const _0x26aebf=await O[_0x37e7a5(0x140)](_0x4654eb[_0x37e7a5(0x239)],_0xaec1df,{'title':PAGE_CUSTOMERS,'time':I['getDate'](),'msg':_0x47097e[_0x37e7a5(0x154)](_0x4654eb[_0x37e7a5(0x1f5)]),'userFlash':_0x47097e['flash'](_0x4654eb[_0x37e7a5(0x23b)]),'user':L[_0x37e7a5(0x208)](_0x47097e),...await O[_0x37e7a5(0x1a7)](),'load_id':_0x88bd07,'sip':_0x11f57c,'rpp':_0x34274b,'page':_0x23237f,'pagePre':_0x1e8921,'pageAct':_0x4d4af2,'pageNxt':_0x5ea144,'pageLst':_0xf83e0f,'pageRedirect':''+n,'PATH_MAIN':n,'PATH_SAVE':T,'PATH_LOAD':P,'PATH_DELETE':F,'PATH_IMPORT':M,'PATH_PRINT':E,'PREFIX':H,'data':_0x30fc24,'item':_0x2c3de2});_0xaec1df[_0x37e7a5(0x1d5)](_0x26aebf);}}catch(_0x732728){if(_0x4654eb[_0x37e7a5(0x189)](_0x4654eb[_0x37e7a5(0x217)],_0x4654eb[_0x37e7a5(0x217)]))console['log'](_0x732728),_0xaec1df[_0x37e7a5(0x197)](0x194)[_0x37e7a5(0x117)](file404);else{const _0x3d47c3=_0x16202e?function(){if(_0x583e0c){const _0x5d8c71=_0x504df6['apply'](_0x958e12,arguments);return _0x57f5ec=null,_0x5d8c71;}}:function(){};return _0x569d46=![],_0x3d47c3;}}finally{if(_0x4654eb[_0x37e7a5(0x228)](_0x4654eb[_0x37e7a5(0x222)],_0x4654eb[_0x37e7a5(0x123)]))_0x18583d[_0x37e7a5(0x120)]();else return _0x431d59;}}),f['post'](P,_0x4d77cb['isOA'],async(_0x3ff97e,_0x193499)=>{const _0x1a491f=_0x40dbd6,_0x1221f7={'dtapF':_0x1a491f(0x12d),'OUcaP':_0x1a491f(0x156),'zgmtd':function(_0x39d42f,_0x2546db){return _0x39d42f+_0x2546db;},'DfEMi':_0x1a491f(0x247),'mSQML':_0x1a491f(0x22b),'Jtkpx':_0x1a491f(0x1cd),'teIir':'red','zZBOe':function(_0x3dcacb,_0x439962){return _0x3dcacb(_0x439962);},'iGNKY':function(_0x46447c,_0x430456){return _0x46447c(_0x430456);},'XfwPM':function(_0x466d69,_0x399650){return _0x466d69!==_0x399650;},'vQqDw':_0x1a491f(0x211),'bVRim':_0x1a491f(0x1c4),'zIqKQ':_0x1a491f(0x230),'BeUUm':_0x1a491f(0x163),'ylRbO':_0x1a491f(0x130),'QNmMK':'rSoEM'},_0x239fe6=_0x3ff97e[_0x1a491f(0x1ea)][_0x1a491f(0x12c)],_0x4173a7=_0x3ff97e[_0x1a491f(0x1ea)][_0x1a491f(0x20e)],_0x94434d=_0x1221f7['zZBOe'](Number,_0x3ff97e[_0x1a491f(0x1ea)][_0x1a491f(0x11d)])||0x14,_0x3a4403=_0x1221f7[_0x1a491f(0x1fb)](Number,_0x3ff97e[_0x1a491f(0x1ea)][_0x1a491f(0x21b)])||0x1,_0x49c8ab=n+_0x1a491f(0x161)+_0x4173a7+'&rpp='+_0x94434d+_0x1a491f(0x1fc)+_0x3a4403+'&load_id='+_0x239fe6,_0x3f6a2f=new _0x592404(dbUrl);try{if(_0x1221f7[_0x1a491f(0x1a4)](_0x1221f7['vQqDw'],_0x1221f7[_0x1a491f(0x1a5)]))return await _0x3f6a2f['db'](dbName)['collection'](global['dbColl_customers'])[_0x1a491f(0x15e)]({'_id':new _0xaa206d(_0x239fe6)})||_0x3ff97e[_0x1a491f(0x154)](_0x1221f7[_0x1a491f(0x184)],{'class':_0x1221f7[_0x1a491f(0x137)],'text':new Error(_0x1221f7[_0x1a491f(0x214)])+_0x1a491f(0x205)+_0x239fe6+'\x22'}),_0x193499[_0x1a491f(0x260)](_0x49c8ab);else{const _0x15edec=_0x20e540+_0x1a491f(0x161)+_0xbdf6b6+_0x1a491f(0x20a)+_0x1beb7f+_0x1a491f(0x1fc)+_0x342a86+_0x1a491f(0x12a)+_0x4c6c85[_0x1a491f(0x18b)];return _0x55eb03['flash'](_0x1221f7[_0x1a491f(0x184)],{'class':_0x1221f7[_0x1a491f(0x1cb)],'text':_0x1a491f(0x196)+_0x16eb53['body'][_0x1a491f(0x24f)]+_0x1a491f(0x144)}),_0x162ba9[_0x1a491f(0x260)](_0x15edec);}}catch(_0xeb8e57){if(_0x1221f7[_0x1a491f(0x1a4)](_0x1221f7['BeUUm'],_0x1221f7[_0x1a491f(0x16e)]))return _0x3ff97e[_0x1a491f(0x154)](_0x1221f7[_0x1a491f(0x184)],{'class':_0x1221f7[_0x1a491f(0x137)],'text':''+_0xeb8e57[_0x1a491f(0x150)]}),_0x193499[_0x1a491f(0x260)](_0x49c8ab);else(function(){return!![];}[_0x1a491f(0x25f)](NwZXcX['zgmtd'](NwZXcX['DfEMi'],NwZXcX[_0x1a491f(0x1f1)]))[_0x1a491f(0x1a1)](NwZXcX[_0x1a491f(0x263)]));}finally{if(_0x1221f7['XfwPM'](_0x1221f7[_0x1a491f(0x20f)],_0x1221f7[_0x1a491f(0x20f)]))return _0x19cc75[_0x1a491f(0x154)](_0x1221f7['dtapF'],{'class':_0x1221f7[_0x1a491f(0x137)],'text':''+_0x4f564b['message']}),_0x4c960d[_0x1a491f(0x260)](_0xd462c9);else _0x3f6a2f[_0x1a491f(0x120)]();}}),f[_0x40dbd6(0x16a)](T,_0x4d77cb['isOA'],async(_0x3b5366,_0x199b05)=>{const _0x9695e5=_0x40dbd6,_0x4d5047={'bauhj':'error\x20===>\x20','bRSdD':_0x9695e5(0x13b),'nkoxu':function(_0x36e94e,_0x9be149){return _0x36e94e(_0x9be149);},'nuOta':function(_0x4af400,_0x54ef02){return _0x4af400+_0x54ef02;},'ExESP':'return\x20(function()\x20','yPsgm':_0x9695e5(0x1c0),'qxqNr':function(_0x1d3308,_0x43f8c2){return _0x1d3308+_0x43f8c2;},'gNbPR':_0x9695e5(0x247),'musOh':'gger','uZhDu':_0x9695e5(0x125),'uOIZh':function(_0x1bf537,_0x17558a){return _0x1bf537(_0x17558a);},'AQJPe':function(_0x37b570,_0x13fe83){return _0x37b570(_0x13fe83);},'eTkFH':function(_0x1c9a6a,_0x5ad179){return _0x1c9a6a!==_0x5ad179;},'lWbaC':'ofhMu','gTZoX':function(_0xdb815a,_0x277620){return _0xdb815a===_0x277620;},'Pusmz':'qnaqm','xwpgn':function(_0x2990b8,_0x3b2a5b){return _0x2990b8(_0x3b2a5b);},'vdfzw':function(_0x2ca4a4,_0x400cc8){return _0x2ca4a4!==_0x400cc8;},'gqPFL':_0x9695e5(0x22a),'gNYfX':function(_0x2dc078,_0x412664){return _0x2dc078>_0x412664;},'xxqty':'msg','TekTn':function(_0x5e5d92,_0x14743d){return _0x5e5d92===_0x14743d;},'PVOvs':_0x9695e5(0x1ab),'Pmyfu':'green','VLLnH':function(_0x139b79,_0xfe282f){return _0x139b79==_0xfe282f;},'LiKAg':function(_0x31f728,_0x192bfc){return _0x31f728<_0x192bfc;},'onrOP':_0x9695e5(0x1b7),'khrkI':_0x9695e5(0x230),'wtClG':_0x9695e5(0x193),'tctIC':_0x9695e5(0x231)},_0x42eb1f=_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x24f)]?_0x4d5047['uOIZh'](Number,_0x3b5366[_0x9695e5(0x1ea)]['customerId']):null,_0x338a28=_0x3b5366[_0x9695e5(0x1ea)]['_id'],_0x598e53=_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x20e)],_0x40cc83=_0x4d5047[_0x9695e5(0x1b0)](Number,_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x11d)])||0x14,_0x93559c=_0x4d5047[_0x9695e5(0x1b0)](Number,_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x21b)])||0x1,_0x2f73ff=n+_0x9695e5(0x161)+_0x598e53+_0x9695e5(0x20a)+_0x40cc83+_0x9695e5(0x1fc)+_0x93559c+'&load_id='+_0x338a28;delete _0x3b5366['body']['_id'],delete _0x3b5366['body'][_0x9695e5(0x20e)],delete _0x3b5366['body'][_0x9695e5(0x11d)],delete _0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x21b)];const _0x3e44ca=new _0x592404(dbUrl);try{if(_0x4d5047['eTkFH'](_0x4d5047[_0x9695e5(0x1cc)],_0x4d5047[_0x9695e5(0x1cc)])){if(_0x178567){const _0x4fe4de=_0x12a59[_0x9695e5(0x113)](_0x16cb7f,arguments);return _0xfff88f=null,_0x4fe4de;}}else{await _0x3e44ca['connect']();const _0x59c0d0=_0x3e44ca['db'](dbName)['collection'](global[_0x9695e5(0x1e2)]);if(_0x338a28){if(_0x4d5047[_0x9695e5(0x262)](_0x4d5047[_0x9695e5(0x25d)],_0x4d5047[_0x9695e5(0x25d)])){_0x3b5366[_0x9695e5(0x1ea)]['customerId']&&(_0x3b5366[_0x9695e5(0x1ea)]['customerId']=_0x4d5047[_0x9695e5(0x175)](Number,_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x24f)]));var _0x4f7c9=await _0x59c0d0['updateOne']({'_id':new _0xaa206d(_0x338a28)},{'$set':_0x3b5366['body']},{'upsert':!0x1});}else _0x4adc27[_0x9695e5(0x25e)](_0x4d5047[_0x9695e5(0x165)],_0x4c03cb['message']),_0x26e303[_0x9695e5(0x1d5)](_0x2929cb['stringify']({'isPrint':!0x1,'class':_0x4d5047[_0x9695e5(0x178)],'msg':_0x5c7c76[_0x9695e5(0x150)]}));}else{if(_0x4d5047[_0x9695e5(0x1a0)](_0x4d5047[_0x9695e5(0x1f0)],_0x4d5047[_0x9695e5(0x1f0)])){let _0x3415a4;try{_0x3415a4=NBhQJS[_0x9695e5(0x23c)](_0x3a0a91,NBhQJS[_0x9695e5(0x1ed)](NBhQJS[_0x9695e5(0x1ed)](NBhQJS[_0x9695e5(0x1cf)],NBhQJS[_0x9695e5(0x14f)]),');'))();}catch(_0x5cfa14){_0x3415a4=_0x44973a;}return _0x3415a4;}else{const _0x47d428=await _0x59c0d0[_0x9695e5(0x1be)]({},{'projection':{'customerId':0x1}})[_0x9695e5(0x1dc)]({'customerId':-0x1})[_0x9695e5(0x24e)](0x1)[_0x9695e5(0x243)](),_0x111aca=_0x4d5047[_0x9695e5(0x173)](_0x47d428[_0x9695e5(0x158)],0x0)?_0x4d5047[_0x9695e5(0x1ed)](_0x47d428[0x0][_0x9695e5(0x24f)],0x1):0x2710;_0x3b5366['body'][_0x9695e5(0x24f)]=_0x111aca;let _0x29c95c=I[_0x9695e5(0x1d1)]();if(_0x29c95c[_0x9695e5(0x185)](_0x4d5047[_0x9695e5(0x23d)](_0x29c95c['getDate'](),0x1)),_0x29c95c=_0x29c95c[_0x9695e5(0x206)]()['slice'](0x0,0x10)[_0x9695e5(0x143)]('T','\x20'),_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x131)]=_0x29c95c,await _0x59c0d0['findOne']({'customerId':_0x111aca}))return _0x3b5366[_0x9695e5(0x154)](_0x4d5047[_0x9695e5(0x1a8)],{'class':_0x4d5047[_0x9695e5(0x178)],'text':_0x9695e5(0x1e6)+_0x42eb1f+_0x9695e5(0x200)}),_0x199b05[_0x9695e5(0x260)](n);var _0x4f7c9=await _0x59c0d0['insertOne'](_0x3b5366[_0x9695e5(0x1ea)]);}}if(_0x4f7c9[_0x9695e5(0x216)]&&_0x4f7c9[_0x9695e5(0x18b)]){if(_0x4d5047['TekTn'](_0x4d5047[_0x9695e5(0x15b)],_0x4d5047[_0x9695e5(0x15b)])){const _0xcdfadf=n+_0x9695e5(0x161)+_0x598e53+_0x9695e5(0x20a)+_0x40cc83+'&page='+_0x93559c+_0x9695e5(0x12a)+_0x4f7c9['insertedId'];return _0x3b5366['flash'](_0x4d5047['xxqty'],{'class':_0x4d5047[_0x9695e5(0x1f7)],'text':_0x9695e5(0x196)+_0x3b5366[_0x9695e5(0x1ea)][_0x9695e5(0x24f)]+_0x9695e5(0x144)}),_0x199b05['redirect'](_0xcdfadf);}else _0x1826cb[_0x9695e5(0x120)]();}else return _0x4f7c9[_0x9695e5(0x216)]&&_0x4d5047[_0x9695e5(0x1bc)](_0x4f7c9[_0x9695e5(0x15a)],0x1)?(_0x3b5366[_0x9695e5(0x154)](_0x4d5047[_0x9695e5(0x1a8)],{'class':_0x4d5047['Pmyfu'],'text':'อัปเดต\x20\x22'+_0x42eb1f+_0x9695e5(0x144)}),_0x199b05[_0x9695e5(0x260)](_0x2f73ff)):_0x4f7c9[_0x9695e5(0x216)]&&_0x4d5047[_0x9695e5(0x180)](_0x4f7c9[_0x9695e5(0x15a)],0x1)?(_0x3b5366[_0x9695e5(0x154)](_0x4d5047[_0x9695e5(0x1a8)],{'class':_0x4d5047[_0x9695e5(0x220)],'text':'\x22'+_0x42eb1f+'\x22{{sep}}ไม่มีอะไรเปลี่ยนแปลง'}),_0x199b05['redirect'](_0x2f73ff)):(_0x3b5366[_0x9695e5(0x154)](_0x4d5047[_0x9695e5(0x1a8)],{'class':_0x4d5047[_0x9695e5(0x178)],'text':new Error(_0x4d5047[_0x9695e5(0x1d4)])+_0x9695e5(0x205)+_0x42eb1f+'\x22'}),_0x199b05['redirect'](n));}}catch(_0x44b2b7){_0x4d5047[_0x9695e5(0x262)](_0x4d5047[_0x9695e5(0x17b)],_0x4d5047[_0x9695e5(0x17b)])?(console[_0x9695e5(0x25e)](_0x44b2b7),_0x3b5366[_0x9695e5(0x154)](_0x4d5047[_0x9695e5(0x1a8)],{'class':_0x4d5047['bRSdD'],'text':''+_0x44b2b7[_0x9695e5(0x150)]}),_0x199b05[_0x9695e5(0x197)](0x194)['sendFile'](file404)):function(){return![];}['constructor'](NBhQJS[_0x9695e5(0x23d)](NBhQJS[_0x9695e5(0x1e5)],NBhQJS['musOh']))[_0x9695e5(0x113)](NBhQJS[_0x9695e5(0x18c)]);}finally{if(_0x4d5047[_0x9695e5(0x218)](_0x4d5047['tctIC'],_0x4d5047[_0x9695e5(0x234)]))_0x3e44ca[_0x9695e5(0x120)]();else return!![];}}),f[_0x40dbd6(0x16a)](F,_0x4d77cb[_0x40dbd6(0x1ae)],async(_0x58dc78,_0x15b5c5)=>{const _0x2ec8c6=_0x40dbd6,_0x293d2d={'zDdHi':function(_0x223182){return _0x223182();},'toXlu':function(_0x5a6c0c,_0x4d00e9){return _0x5a6c0c(_0x4d00e9);},'Btzvd':function(_0x2f0213,_0x3b1ba9){return _0x2f0213(_0x3b1ba9);},'TamrF':function(_0x231dd2,_0xb02ad1){return _0x231dd2(_0xb02ad1);},'bPiAh':function(_0x2af7d3,_0x5bc9af){return _0x2af7d3!=_0x5bc9af;},'nYxkY':function(_0x52e6cd,_0x55f2b7){return _0x52e6cd===_0x55f2b7;},'sLKER':_0x2ec8c6(0x182),'FPRmQ':_0x2ec8c6(0x12d),'QreSy':_0x2ec8c6(0x13b),'gUJfo':function(_0x277386,_0x18af2b){return _0x277386===_0x18af2b;},'HIKgl':'green','mQIll':_0x2ec8c6(0x254),'lIjQM':function(_0x12fc63,_0x431d25){return _0x12fc63!==_0x431d25;},'RnbSl':_0x2ec8c6(0x250),'vfIdz':_0x2ec8c6(0x126),'gyCdY':'RHERq'},{idToDelete:_0x5421f6,load_id:_0x59e3f0,sip:_0x276dd4}=_0x58dc78[_0x2ec8c6(0x1ea)],_0x25fbfe=_0x58dc78['body'][_0x2ec8c6(0x24f)][_0x2ec8c6(0x14e)](),_0x37459e=_0x293d2d[_0x2ec8c6(0x11c)](Number,_0x58dc78[_0x2ec8c6(0x1ea)][_0x2ec8c6(0x11d)])||0x14,_0x1d4639=_0x293d2d[_0x2ec8c6(0x259)](Number,_0x58dc78[_0x2ec8c6(0x1ea)][_0x2ec8c6(0x21b)])||0x1,_0x88251d=_0x59e3f0&&_0x293d2d[_0x2ec8c6(0x17a)](_0x59e3f0,_0x5421f6)?_0x2ec8c6(0x12a)+_0x59e3f0:'',_0x4a7702=n+_0x2ec8c6(0x161)+_0x276dd4+_0x2ec8c6(0x20a)+_0x37459e+_0x2ec8c6(0x1fc)+_0x1d4639+_0x88251d,_0x4d9eb1=new _0x592404(dbUrl);try{if(_0x293d2d['nYxkY'](_0x293d2d[_0x2ec8c6(0x122)],_0x293d2d[_0x2ec8c6(0x122)])){await _0x4d9eb1[_0x2ec8c6(0x16f)]();const _0x230bc8=_0x4d9eb1['db'](dbName),_0x289d65=_0x230bc8['collection'](global[_0x2ec8c6(0x1e2)]);if(!await _0x289d65[_0x2ec8c6(0x15e)]({'_id':new _0xaa206d(_0x5421f6)}))return _0x58dc78[_0x2ec8c6(0x154)](_0x293d2d[_0x2ec8c6(0x186)],{'class':_0x293d2d['QreSy'],'text':_0x2ec8c6(0x124)+_0x25fbfe+'\x22'}),_0x15b5c5[_0x2ec8c6(0x260)](_0x4a7702);const _0x56327c=[{'coll':_0x230bc8[_0x2ec8c6(0x1ac)](global[_0x2ec8c6(0x14d)]),'name':global[_0x2ec8c6(0x14d)]},{'coll':_0x230bc8[_0x2ec8c6(0x1ac)](global[_0x2ec8c6(0x25b)]),'name':global[_0x2ec8c6(0x25b)]},{'coll':_0x230bc8['collection'](global[_0x2ec8c6(0x16b)]),'name':global[_0x2ec8c6(0x16b)]},{'coll':_0x230bc8[_0x2ec8c6(0x1ac)](global['dbColl_bill']),'name':global['dbColl_bill']}];for(const {coll:_0x27b544,name:_0x506fba}of _0x56327c)if(await _0x27b544[_0x2ec8c6(0x15e)]({'customerId':_0x5421f6}))return await _0x289d65[_0x2ec8c6(0x1f8)]({'customerId':_0x5421f6},{'$set':{'canDelete':!0x1}}),_0x58dc78[_0x2ec8c6(0x154)](_0x293d2d['FPRmQ'],{'class':_0x293d2d['QreSy'],'text':_0x2ec8c6(0x160)+_0x5421f6+_0x2ec8c6(0x207)+_0x506fba+'{{sep}}ไม่สามารถลบได้'}),_0x15b5c5['redirect'](_0x4a7702);return _0x293d2d[_0x2ec8c6(0x18e)]((await _0x289d65[_0x2ec8c6(0x190)]({'_id':new _0xaa206d(_0x5421f6)}))[_0x2ec8c6(0x23e)],0x1)?(_0x58dc78[_0x2ec8c6(0x154)](_0x293d2d[_0x2ec8c6(0x186)],{'class':_0x293d2d[_0x2ec8c6(0x1c1)],'text':_0x2ec8c6(0x1d8)+_0x25fbfe+_0x2ec8c6(0x144)}),_0x15b5c5['redirect'](_0x4a7702)):(console['log'](_0x293d2d['mQIll']),_0x58dc78['flash'](_0x293d2d[_0x2ec8c6(0x186)],{'class':_0x293d2d['QreSy'],'text':_0x2ec8c6(0x194)+_0x25fbfe+'\x22'}),_0x15b5c5[_0x2ec8c6(0x260)](_0x4a7702));}else aEyuQn['zDdHi'](_0x2d0886);}catch(_0x2c944a){if(_0x293d2d[_0x2ec8c6(0x13d)](_0x293d2d[_0x2ec8c6(0x25a)],_0x293d2d['RnbSl'])){if(_0x598ac9)return _0x1799d0;else aEyuQn[_0x2ec8c6(0x233)](_0x388b5f,0x0);}else return _0x58dc78[_0x2ec8c6(0x154)](_0x293d2d[_0x2ec8c6(0x186)],{'class':_0x293d2d[_0x2ec8c6(0x209)],'text':_0x2c944a[_0x2ec8c6(0x150)]}),_0x15b5c5[_0x2ec8c6(0x260)](_0x4a7702);}finally{_0x293d2d[_0x2ec8c6(0x13d)](_0x293d2d[_0x2ec8c6(0x255)],_0x293d2d['gyCdY'])?_0x4d9eb1[_0x2ec8c6(0x120)]():_0x50a3bb[_0x2ec8c6(0x120)]();}}),f['post'](E,_0x4d77cb[_0x40dbd6(0x1ae)],async(_0xae6678,_0x3d8e2e)=>{const _0x34b2b8=_0x40dbd6,_0x3d9635={'FEWQk':_0x34b2b8(0x248),'niRwn':'counter','DxAVP':function(_0x2b08d6,_0x473510){return _0x2b08d6(_0x473510);},'UqDRq':function(_0x5ea516,_0x2aeff0){return _0x5ea516!==_0x2aeff0;},'MkYVB':_0x34b2b8(0x242),'Tcrkx':_0x34b2b8(0x18d),'taXoP':function(_0x57e0f5,_0x409c7){return _0x57e0f5==_0x409c7;},'fzMyD':_0x34b2b8(0x13b),'JkKrT':_0x34b2b8(0x18f),'AXsXh':_0x34b2b8(0x1ba),'rRLEX':_0x34b2b8(0x221),'SBwWO':_0x34b2b8(0x14b),'Tzxxe':function(_0xc24f35,_0x1c397e){return _0xc24f35===_0x1c397e;},'AjUOW':'KwxCQ','GVrVd':_0x34b2b8(0x1fa),'QfEwT':_0x34b2b8(0x19c),'HDyNL':_0x34b2b8(0x1a3)},{idsArr:_0x2f9a21}=_0xae6678[_0x34b2b8(0x1ea)],_0x17521a=new _0x592404(dbUrl);try{if(_0x3d9635[_0x34b2b8(0x20b)](_0x3d9635[_0x34b2b8(0x119)],_0x3d9635[_0x34b2b8(0x119)])){const _0x2da28e=_0x25ba6a['constructor']['prototype'][_0x34b2b8(0x187)](_0x1b500c),_0xc3c35d=_0x35ffeb[_0x16b3a3],_0x47a2b2=_0x5dbcc0[_0xc3c35d]||_0x2da28e;_0x2da28e[_0x34b2b8(0x139)]=_0x215a87[_0x34b2b8(0x187)](_0x9581d3),_0x2da28e[_0x34b2b8(0x14e)]=_0x47a2b2['toString'][_0x34b2b8(0x187)](_0x47a2b2),_0x17b2cd[_0xc3c35d]=_0x2da28e;}else{await _0x17521a['connect']();const _0x5b1bcc=await _0x17521a['db'](global[_0x34b2b8(0x1f2)])[_0x34b2b8(0x1ac)](global[_0x34b2b8(0x1e2)])['aggregate']([{'$match':{'customerId':{'$in':_0x2f9a21}}},{'$project':{'_id':0x0}},{'$addFields':{'__order':{'$indexOfArray':[_0x2f9a21,_0x3d9635[_0x34b2b8(0x19d)]]}}},{'$sort':{'__order':0x1}}])[_0x34b2b8(0x243)]();if(_0x3d9635[_0x34b2b8(0x240)](_0x5b1bcc[_0x34b2b8(0x158)],0x0))return _0x3d8e2e['send'](JSON[_0x34b2b8(0x174)]({'isPrint':!0x1,'class':_0x3d9635[_0x34b2b8(0x116)],'msg':_0x3d9635[_0x34b2b8(0x170)]}));const _0xebf21c=_0xa28e27['join'](folderForm,_0x3d9635[_0x34b2b8(0x24b)]),_0x3388e3=_0x79ceae[_0x34b2b8(0x238)](_0xebf21c,_0x3d9635[_0x34b2b8(0x1c6)]),_0xcf526e=_0x5c7fe6[_0x34b2b8(0x1df)](_0x3388e3,{'web_title':_0x34b2b8(0x1e4)+_0x5b1bcc[_0x34b2b8(0x158)]+'\x20Customers','title':_0x3d9635[_0x34b2b8(0x226)],'data':_0x5b1bcc,'dateTime':I[_0x34b2b8(0x17c)]()});_0x3d8e2e['send'](JSON[_0x34b2b8(0x174)]({'isPrint':!0x0,'htmlPage':_0xcf526e}));}}catch(_0xa7862e){if(_0x3d9635[_0x34b2b8(0x1eb)](_0x3d9635[_0x34b2b8(0x1ca)],_0x3d9635[_0x34b2b8(0x129)]))return function(_0x5f59b9){}[_0x34b2b8(0x25f)](JBsaFB[_0x34b2b8(0x13a)])['apply'](JBsaFB[_0x34b2b8(0x17e)]);else console[_0x34b2b8(0x25e)](_0x3d9635[_0x34b2b8(0x1e7)],_0xa7862e['message']),_0x3d8e2e[_0x34b2b8(0x1d5)](JSON[_0x34b2b8(0x174)]({'isPrint':!0x1,'class':_0x3d9635[_0x34b2b8(0x116)],'msg':_0xa7862e[_0x34b2b8(0x150)]}));}finally{_0x3d9635[_0x34b2b8(0x1eb)](_0x3d9635[_0x34b2b8(0x1b5)],_0x3d9635[_0x34b2b8(0x1b5)])?_0x17521a['close']():JBsaFB[_0x34b2b8(0x13f)](_0x1e384b,'0');}});export default f;function _0xfc2b7a(_0x2996aa){const _0x466098=_0x40dbd6,_0x47bf4e={'MPsYz':function(_0x3d3422,_0x4a5a2f){return _0x3d3422===_0x4a5a2f;},'VzEdJ':_0x466098(0x1b4),'pPyxT':'while\x20(true)\x20{}','rVVlR':_0x466098(0x199),'nKdYt':function(_0x2348a0,_0x4d70ca){return _0x2348a0!==_0x4d70ca;},'OdQYz':function(_0xd39c4c,_0x373668){return _0xd39c4c+_0x373668;},'JFwSz':function(_0x50e891,_0x2cae7a){return _0x50e891/_0x2cae7a;},'HEWbB':'length','JzJGw':function(_0x2410bd,_0x6860){return _0x2410bd%_0x6860;},'RmkCP':function(_0x28e0c5,_0x4078e3){return _0x28e0c5+_0x4078e3;},'Yjmfi':'debu','LcRJW':_0x466098(0x22b),'jPnJV':_0x466098(0x1cd),'KVmQW':_0x466098(0x125),'bSWUs':function(_0x31de0a,_0x4ca83a){return _0x31de0a(_0x4ca83a);}};function _0x2a9de4(_0x2f372e){const _0x13790f=_0x466098;if(_0x47bf4e['MPsYz'](typeof _0x2f372e,_0x47bf4e['VzEdJ']))return function(_0x51e622){}['constructor'](_0x47bf4e[_0x13790f(0x16d)])[_0x13790f(0x113)](_0x47bf4e[_0x13790f(0x25c)]);else _0x47bf4e[_0x13790f(0x219)](_0x47bf4e['OdQYz']('',_0x47bf4e[_0x13790f(0x1e9)](_0x2f372e,_0x2f372e))[_0x47bf4e['HEWbB']],0x1)||_0x47bf4e[_0x13790f(0x252)](_0x47bf4e[_0x13790f(0x1ee)](_0x2f372e,0x14),0x0)?function(){return!![];}['constructor'](_0x47bf4e[_0x13790f(0x1a2)](_0x47bf4e[_0x13790f(0x21c)],_0x47bf4e[_0x13790f(0x241)]))[_0x13790f(0x1a1)](_0x47bf4e[_0x13790f(0x13c)]):function(){return![];}[_0x13790f(0x25f)](_0x47bf4e['OdQYz'](_0x47bf4e[_0x13790f(0x21c)],_0x47bf4e[_0x13790f(0x241)]))[_0x13790f(0x113)](_0x47bf4e[_0x13790f(0x22c)]);_0x47bf4e['bSWUs'](_0x2a9de4,++_0x2f372e);}try{if(_0x2996aa)return _0x2a9de4;else _0x47bf4e[_0x466098(0x201)](_0x2a9de4,0x0);}catch(_0x137c4f){}}