const _0x3b3135=_0x87a7;function _0x2d05(){const _0x306f41=['\x20ได้','pTYkQ','puEkB','stringify','docId','{}.constructor(\x22return\x20this\x22)(\x20)','fdGww','PleZq','yorLR','getDateTime','cayow','acknowledged','UGyGH','xxrJM','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','gTRJd','สถานะเอกสารผิดผลาด','FstZV','convert_DocDataType','gunXv','zkoaA','EGgDC','renderView','MNTOw','LpsIr','vZTpc','jiJby','gYqqw','babXh','esmbY','BrQri','vUuNr','wqKQP','replace','ZByns','uKvrd','insertOne','send','qqzxT','/search','RRqyP','red','ySKlr','console','owOtk','yLdEM','chain','5499ZIIZBI','debu','RweHt','eWQyL','OxXmn','vtQcp','FONtb','PmBYw','dbName','zvAjZ','BKDHg','table','FUOhR','vTZjC','pPHXF','VexNm','counter','init','uBcDi','mWjXs','get','zouIU','KcCJt','string','SKUHt','yzJVK','wiwAw','GVZBJ','pGook','msg','wmGZH','ayAOk','body','stateObject','XqrWu','XTBBY','dbColl_settings_Receipt','CcmTF','vYzLq','gAllm','collection','KEcdP','kwQww','lAqVt','DOC_STATUS','TJRav','AmYBn','length','LnQDz','SaFjt','action','rRBrz','gger','tEVdC','tahWi','8312HUkrHe','return\x20(function()\x20','QkfFc','miefW','IECyr','NjXjS','-----------------','green','gnOXh','CVZPB','Iprgo','/status','constructor','close','test','udGlh','XRnVL','RsOPy','197DRZzRD','mIcop','EDvwG','SxNlj','jFMDC','oSwUt','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','oxHey','input','apply','gQjLa','1660011jWCxlP','UIRVU','preCH','/myDocs.js','__proto__','isAuth','vBHmH','call','jydCO','wPmeF','error','Rqhts','wAMci','KTPEm','getDate','2212308sFxGBf','guwmG','wpwSB','query','xUjIi','function\x20*\x5c(\x20*\x5c)','vhNHZ','hQWYx','toString','bDZiq','BzFtW','dbUrl','NJdJF','ByneS','padStart','MhFZy','ChUlo','VGHQA','trace','UOJXR','ymLgd','BvlPC','Gchss','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','sort','bind','/changes','KjXXG','mCUyV','fFcAj','bXUIi','WkTeb','ZpGLZ','Qfmcb','hWjJG','shift','Kwhlt','EvBsW','QiuXm','hfSjN','JZaYq','message','\x20เรียบร้อยแล้ว','../','whRid','hMLse','tUzsq','BDtkr','/load','modifiedCount','userFlash','xSeJQ','XlYhP','EDZcz','5844EffevS','QgEGh','/myModule.js','Obnkj','อัปเดท\x20','HySvw','KifVp','NDjdf','sendFile','LOGO_RECEIPT_FILENAME','PSFiy','5004960VSjWMx','JAPoN','status','WrZet','CZMJT','iWveb','ItWpZ','findOne','QinMm','23910470DhNXuT','eiKZS','xkaZA','gIGKK','FcJYK','Tyhuy','LlkcJ','UtxIg','kVMNv','zDKHz','7BvAvZn','zuoyb','BhZUp','PusgW','HneIo','LgQRC','WRyhB','lABaG','zNzpD','/print','log','LboML','zMUIg','getSettings','zAFKZ','originalUrl','hVZRB','YVbeF','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','/fetch/modal','Ivjhh','qVVSe','/myDateTime.js','RdWTf','fnUsA','slice','while\x20(true)\x20{}','EFYJk','selectBottomLeftSignature','iaFDK','selectProposerSignature','zPogZ','updateOne','CNjfh','/receipt','ITUoW','CKLON','2193800LIeuES','getSettingsByCollection','docStatusNumber','siGXg','RFsfX','gzzNi','find','getChangeHistory','ciWug','yellow','WrukC','info','Router','zxRLA','flash','push','-00001','dbColl_receipt','gwPUb','LOZNP','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','post','VSMHn','split'];_0x2d05=function(){return _0x306f41;};return _0x2d05();}(function(_0xcb852e,_0x462fb7){const _0x2f6386=_0x87a7,_0x512ca9=_0xcb852e();while(!![]){try{const _0x577baa=parseInt(_0x2f6386(0x21a))/0x1*(parseInt(_0x2f6386(0x147))/0x2)+parseInt(_0x2f6386(0x225))/0x3+parseInt(_0x2f6386(0x18a))/0x4+parseInt(_0x2f6386(0x152))/0x5+-parseInt(_0x2f6386(0x234))/0x6*(parseInt(_0x2f6386(0x165))/0x7)+parseInt(_0x2f6386(0x208))/0x8*(parseInt(_0x2f6386(0x1d1))/0x9)+-parseInt(_0x2f6386(0x15b))/0xa;if(_0x577baa===_0x462fb7)break;else _0x512ca9['push'](_0x512ca9['shift']());}catch(_0x504eab){_0x512ca9['push'](_0x512ca9['shift']());}}}(_0x2d05,0x87205));const _0x141f0b=(function(){const _0x4b12e5=_0x87a7,_0x4aa0c4={'PmBYw':function(_0x6a7c90,_0x1041f0){return _0x6a7c90(_0x1041f0);},'GucZe':_0x4b12e5(0x1cb),'Ivjhh':function(_0x291b38,_0x277852){return _0x291b38===_0x277852;},'ySKlr':_0x4b12e5(0x169),'hMLse':'bvNTS','ymLgd':_0x4b12e5(0x202),'ByneS':function(_0x183ba4,_0x9ce0ff){return _0x183ba4!==_0x9ce0ff;},'oxHey':_0x4b12e5(0x207)};let _0x565ec6=!![];return function(_0x191b26,_0x2f44d3){const _0x205df5=_0x4b12e5,_0x2b20bf={'RvViN':function(_0x5a154a,_0xa8c03c){const _0x2cd2b3=_0x87a7;return _0x4aa0c4[_0x2cd2b3(0x1d8)](_0x5a154a,_0xa8c03c);},'EGgDC':_0x4aa0c4['GucZe'],'eWQyL':function(_0x453315,_0x5bfa4f){const _0x3feb3f=_0x87a7;return _0x4aa0c4[_0x3feb3f(0x179)](_0x453315,_0x5bfa4f);},'FcJYK':_0x4aa0c4[_0x205df5(0x1cc)],'JAPoN':_0x4aa0c4[_0x205df5(0x261)],'EDZcz':_0x4aa0c4[_0x205df5(0x248)]};if(_0x4aa0c4[_0x205df5(0x241)](_0x4aa0c4[_0x205df5(0x221)],_0x4aa0c4[_0x205df5(0x221)])){const _0x43bc27=_0x53ce91[_0x205df5(0x223)](_0x4fcf44,arguments);return _0x26cdc5=null,_0x43bc27;}else{const _0x44b149=_0x565ec6?function(){const _0x1ff7e2=_0x205df5;if(_0x2b20bf[_0x1ff7e2(0x1d4)](_0x2b20bf[_0x1ff7e2(0x15f)],_0x2b20bf[_0x1ff7e2(0x153)])){if(_0x59e3c3)return _0x31cfb8;else _0x2b20bf['RvViN'](_0x4f3b8e,0x0);}else{if(_0x2f44d3){if(_0x2b20bf[_0x1ff7e2(0x1d4)](_0x2b20bf[_0x1ff7e2(0x146)],_0x2b20bf[_0x1ff7e2(0x146)])){const _0xeb2077=_0x2f44d3[_0x1ff7e2(0x223)](_0x191b26,arguments);return _0x2f44d3=null,_0xeb2077;}else _0x2e92d8[_0x1ff7e2(0x16f)](_0x28e30f),_0x37a688[_0x1ff7e2(0x1c7)](_0x4047dc[_0x1ff7e2(0x1a5)]({'isSave':!0x1,'class':_0x2b20bf[_0x1ff7e2(0x1b7)],'msg':_0x40dedc[_0x1ff7e2(0x25d)]}));}}}:function(){};return _0x565ec6=![],_0x44b149;}};}());(function(){const _0x4b8dea=_0x87a7,_0x43dcc1={'LgQRC':function(_0x1b0fc1,_0x2a214c){return _0x1b0fc1(_0x2a214c);},'pGook':function(_0x501ec4,_0x12f566){return _0x501ec4!==_0x12f566;},'hQWYx':_0x4b8dea(0x1dd),'xkaZA':_0x4b8dea(0x1f7),'CcmTF':_0x4b8dea(0x239),'wAMci':_0x4b8dea(0x24b),'jiJby':function(_0x3647a2,_0x33420d){return _0x3647a2(_0x33420d);},'xxrJM':'init','tPIAL':function(_0x266350,_0x43de8c){return _0x266350+_0x43de8c;},'zouIU':'chain','SxNlj':function(_0x4c7bf6,_0x1f2127){return _0x4c7bf6+_0x1f2127;},'qqzxT':_0x4b8dea(0x222),'AmYBn':function(_0x2a6ec4,_0x5beda9){return _0x2a6ec4!==_0x5beda9;},'kiLye':_0x4b8dea(0x192),'CZMJT':_0x4b8dea(0x171),'mWjXs':_0x4b8dea(0x21b),'sOKYk':function(_0x328c1e){return _0x328c1e();},'zxRLA':function(_0x5d71c0,_0x518c9d,_0x308710){return _0x5d71c0(_0x518c9d,_0x308710);}};_0x43dcc1[_0x4b8dea(0x197)](_0x141f0b,this,function(){const _0x54d108=_0x4b8dea,_0x3919e8={'rVHOz':function(_0xe12893,_0x14d2c3){const _0x3c2ced=_0x87a7;return _0x43dcc1[_0x3c2ced(0x16a)](_0xe12893,_0x14d2c3);}};if(_0x43dcc1[_0x54d108(0x1ed)](_0x43dcc1[_0x54d108(0x23b)],_0x43dcc1[_0x54d108(0x15d)])){const _0x505815=new RegExp(_0x43dcc1[_0x54d108(0x1f6)]),_0x4d7790=new RegExp(_0x43dcc1[_0x54d108(0x231)],'i'),_0x4f1114=_0x43dcc1[_0x54d108(0x1bc)](_0x5e612c,_0x43dcc1[_0x54d108(0x1af)]);if(!_0x505815[_0x54d108(0x216)](_0x43dcc1['tPIAL'](_0x4f1114,_0x43dcc1[_0x54d108(0x1e6)]))||!_0x4d7790[_0x54d108(0x216)](_0x43dcc1[_0x54d108(0x21d)](_0x4f1114,_0x43dcc1[_0x54d108(0x1c8)]))){if(_0x43dcc1['AmYBn'](_0x43dcc1['kiLye'],_0x43dcc1[_0x54d108(0x156)]))_0x43dcc1[_0x54d108(0x1bc)](_0x4f1114,'0');else{_0x50ddbd=!0x1;return;}}else{if(_0x43dcc1[_0x54d108(0x1ff)](_0x43dcc1[_0x54d108(0x1e4)],_0x43dcc1[_0x54d108(0x1e4)])){if(_0x203e05){const _0x15ad0d=_0x77bf19[_0x54d108(0x223)](_0x3f1d22,arguments);return _0x2a4371=null,_0x15ad0d;}}else _0x43dcc1['sOKYk'](_0x5e612c);}}else _0x3919e8['rVHOz'](_0x3f8889,0x0);})();}());const _0x4e3899=(function(){const _0x5c91b2=_0x87a7,_0x4262d4={'RdWTf':function(_0x39e29b,_0x5529c2){return _0x39e29b!==_0x5529c2;},'QiuXm':_0x5c91b2(0x17a),'wiwAw':function(_0x42a536,_0x44f0ca){return _0x42a536===_0x44f0ca;},'gTRJd':'PUMPY','KifVp':_0x5c91b2(0x20a),'Tyhuy':function(_0xe77a99,_0x43e4ab){return _0xe77a99+_0x43e4ab;},'uKvrd':_0x5c91b2(0x1d2),'preCH':'gger','CNjfh':_0x5c91b2(0x1f2),'vZTpc':_0x5c91b2(0x239),'VSMHn':_0x5c91b2(0x24b),'WkTeb':function(_0x322996,_0xb7c50e){return _0x322996(_0xb7c50e);},'IECyr':_0x5c91b2(0x1e2),'tUzsq':_0x5c91b2(0x1d0),'siGXg':_0x5c91b2(0x222),'oDnBL':function(_0x1e87bb){return _0x1e87bb();},'RsOPy':'WDUhD','wdbhz':_0x5c91b2(0x19d)};let _0x5ee168=!![];return function(_0x386808,_0x19e701){const _0x4edb26=_0x5c91b2,_0xa6771e={'JZaYq':_0x4262d4[_0x4edb26(0x1bb)],'cayow':_0x4262d4[_0x4edb26(0x1a0)],'Iprgo':function(_0x204005,_0xbff0f8){const _0x5d2470=_0x4edb26;return _0x4262d4[_0x5d2470(0x253)](_0x204005,_0xbff0f8);},'vhNHZ':_0x4262d4[_0x4edb26(0x20c)],'puEkB':function(_0x4a82d6,_0x49cc80){return _0x4262d4['Tyhuy'](_0x4a82d6,_0x49cc80);},'gAllm':_0x4262d4[_0x4edb26(0x262)],'vBHmH':function(_0x137966,_0x3c03fc){return _0x4262d4['Tyhuy'](_0x137966,_0x3c03fc);},'QinMm':_0x4262d4[_0x4edb26(0x18d)],'sCCqd':function(_0x2944d4){return _0x4262d4['oDnBL'](_0x2944d4);}};if(_0x4262d4[_0x4edb26(0x17c)](_0x4262d4[_0x4edb26(0x219)],_0x4262d4['wdbhz'])){const _0x138459=_0x5ee168?function(){const _0x5e7667=_0x4edb26;if(_0x4262d4[_0x5e7667(0x17c)](_0x4262d4[_0x5e7667(0x25a)],_0x4262d4[_0x5e7667(0x25a)])){const _0x261459=new _0x4e57c5(_0xa6771e[_0x5e7667(0x25c)]),_0x222726=new _0x2c1ff5(_0xa6771e[_0x5e7667(0x1ac)],'i'),_0x1c3695=_0xa6771e[_0x5e7667(0x212)](_0x1969f5,_0xa6771e[_0x5e7667(0x23a)]);!_0x261459['test'](_0xa6771e[_0x5e7667(0x1a4)](_0x1c3695,_0xa6771e[_0x5e7667(0x1f8)]))||!_0x222726[_0x5e7667(0x216)](_0xa6771e[_0x5e7667(0x22b)](_0x1c3695,_0xa6771e[_0x5e7667(0x15a)]))?_0xa6771e[_0x5e7667(0x212)](_0x1c3695,'0'):_0xa6771e['sCCqd'](_0x1f1034);}else{if(_0x19e701){if(_0x4262d4[_0x5e7667(0x1eb)](_0x4262d4[_0x5e7667(0x1b1)],_0x4262d4[_0x5e7667(0x14d)]))_0x38cc77=_0x3e7778;else{const _0x7799e3=_0x19e701['apply'](_0x386808,arguments);return _0x19e701=null,_0x7799e3;}}}}:function(){};return _0x5ee168=![],_0x138459;}else(function(){return![];}[_0x4edb26(0x214)](_0x4262d4[_0x4edb26(0x160)](_0x4262d4[_0x4edb26(0x1c5)],_0x4262d4[_0x4edb26(0x227)]))[_0x4edb26(0x223)](_0x4262d4[_0x4edb26(0x186)]));};}()),_0x5e7efb=_0x4e3899(this,function(){const _0x2c5e18=_0x87a7,_0x1e6a67={'UOJXR':function(_0x1458e6,_0x271147){return _0x1458e6+_0x271147;},'aZCvZ':_0x2c5e18(0x1d2),'VexNm':_0x2c5e18(0x205),'NZboY':_0x2c5e18(0x203),'gzzNi':function(_0x45579d,_0xf01b44){return _0x45579d(_0xf01b44);},'vTZjC':function(_0xe60f56,_0x15fed8){return _0xe60f56!==_0x15fed8;},'lABaG':_0x2c5e18(0x1ae),'PleZq':_0x2c5e18(0x157),'bXUIi':_0x2c5e18(0x173),'iaFDK':function(_0x1659df,_0x3168e6){return _0x1659df+_0x3168e6;},'TJRav':function(_0x2852db,_0x1d7f55){return _0x2852db+_0x1d7f55;},'WrZet':_0x2c5e18(0x209),'RXJRZ':_0x2c5e18(0x1a7),'NjXjS':_0x2c5e18(0x22e),'lAqVt':'DTDpR','mNyfQ':_0x2c5e18(0x17f),'LlkcJ':_0x2c5e18(0x1e1),'rjSct':function(_0x9de11a){return _0x9de11a();},'LnQDz':_0x2c5e18(0x16f),'owYvs':'warn','YSqAu':_0x2c5e18(0x195),'dbflL':_0x2c5e18(0x22f),'Rqhts':'exception','ZpGLZ':_0x2c5e18(0x1dc),'oSwUt':_0x2c5e18(0x246),'owOtk':function(_0x277226,_0x149afa){return _0x277226<_0x149afa;},'WrukC':function(_0x4835a9,_0x231492){return _0x4835a9!==_0x231492;},'ZByns':_0x2c5e18(0x206)},_0x234d61=function(){const _0x529aaa=_0x2c5e18,_0x3dddf5={'zNzpD':function(_0x17d813,_0x58dd4d){const _0x31d0fd=_0x87a7;return _0x1e6a67[_0x31d0fd(0x18f)](_0x17d813,_0x58dd4d);}};if(_0x1e6a67[_0x529aaa(0x1de)](_0x1e6a67[_0x529aaa(0x16c)],_0x1e6a67[_0x529aaa(0x1a9)])){let _0x26416b;try{_0x1e6a67[_0x529aaa(0x1de)](_0x1e6a67[_0x529aaa(0x252)],_0x1e6a67['bXUIi'])?function(){return!![];}['constructor'](_0x1e6a67[_0x529aaa(0x247)](_0x1e6a67['aZCvZ'],_0x1e6a67[_0x529aaa(0x1e0)]))['call'](_0x1e6a67['NZboY']):_0x26416b=_0x1e6a67['gzzNi'](Function,_0x1e6a67[_0x529aaa(0x182)](_0x1e6a67[_0x529aaa(0x1fe)](_0x1e6a67[_0x529aaa(0x155)],_0x1e6a67['RXJRZ']),');'))();}catch(_0x5c06a6){_0x1e6a67['vTZjC'](_0x1e6a67[_0x529aaa(0x20d)],_0x1e6a67[_0x529aaa(0x1fc)])?_0x26416b=window:_0x3dddf5[_0x529aaa(0x16d)](_0x31f2a3,'0');}return _0x26416b;}else return!![];},_0x30aac6=_0x1e6a67['rjSct'](_0x234d61),_0x2ec0bd=_0x30aac6[_0x2c5e18(0x1cd)]=_0x30aac6[_0x2c5e18(0x1cd)]||{},_0xaf670b=[_0x1e6a67[_0x2c5e18(0x201)],_0x1e6a67['owYvs'],_0x1e6a67['YSqAu'],_0x1e6a67['dbflL'],_0x1e6a67[_0x2c5e18(0x230)],_0x1e6a67[_0x2c5e18(0x254)],_0x1e6a67[_0x2c5e18(0x21f)]];for(let _0x46e570=0x0;_0x1e6a67[_0x2c5e18(0x1ce)](_0x46e570,_0xaf670b[_0x2c5e18(0x200)]);_0x46e570++){if(_0x1e6a67[_0x2c5e18(0x194)](_0x1e6a67[_0x2c5e18(0x1c4)],_0x1e6a67[_0x2c5e18(0x1c4)]))return function(_0x57dc91){}['constructor'](_0x1e6a67['mNyfQ'])[_0x2c5e18(0x223)](_0x1e6a67[_0x2c5e18(0x161)]);else{const _0x5209e2=_0x4e3899[_0x2c5e18(0x214)]['prototype']['bind'](_0x4e3899),_0x2db84a=_0xaf670b[_0x46e570],_0x5760dc=_0x2ec0bd[_0x2db84a]||_0x5209e2;_0x5209e2[_0x2c5e18(0x229)]=_0x4e3899[_0x2c5e18(0x24d)](_0x4e3899),_0x5209e2['toString']=_0x5760dc[_0x2c5e18(0x23c)][_0x2c5e18(0x24d)](_0x5760dc),_0x2ec0bd[_0x2db84a]=_0x5209e2;}}});_0x5e7efb();function _0x87a7(_0x262195,_0x466d9c){const _0x451b8b=_0x2d05();return _0x87a7=function(_0x5e7efb,_0x4e3899){_0x5e7efb=_0x5e7efb-0x144;let _0x429d56=_0x451b8b[_0x5e7efb];return _0x429d56;},_0x87a7(_0x262195,_0x466d9c);}import _0x59c065 from'express';const N=_0x59c065[_0x3b3135(0x196)]();import{MongoClient as _0x1c1eeb}from'mongodb';import _0x568a43 from'../middleware/mainAuth.js';const I=await import(_0x3b3135(0x25f)+mymoduleFolder+_0x3b3135(0x149)),O=await import('../'+mymoduleFolder+_0x3b3135(0x17b)),$=await import(_0x3b3135(0x25f)+mymoduleFolder+'/myUsers.js'),h=await import(_0x3b3135(0x25f)+mymoduleFolder+_0x3b3135(0x228)),i=_0x3b3135(0x187),A=i+'/save',P=i+_0x3b3135(0x24e),F=i+_0x3b3135(0x264),H=i+_0x3b3135(0x1c9),v=i+_0x3b3135(0x213),J=i+_0x3b3135(0x16e),L=i[_0x3b3135(0x1c3)](/\//g,'_'),M=_0x3b3135(0x178),R=global[_0x3b3135(0x19b)],U=global[_0x3b3135(0x1f5)],j='receipt.ejs',G=global[_0x3b3135(0x150)];N[_0x3b3135(0x1e5)](i,_0x568a43[_0x3b3135(0x22a)],async(_0x338df8,_0x4cc954)=>{const _0x54ca75=_0x3b3135,_0x52c1c8={'QIbdb':function(_0x4f4e5e){return _0x4f4e5e();},'ITUoW':function(_0x252868,_0x36bfe8){return _0x252868!==_0x36bfe8;},'EqSji':'jfhKE','YVbeF':_0x54ca75(0x1cf),'RpZRf':_0x54ca75(0x1ee),'YSeFz':_0x54ca75(0x266),'AOCgi':function(_0x5387d8,_0x257ba5){return _0x5387d8!==_0x257ba5;},'pTYkQ':'IUkaV','zkoaA':_0x54ca75(0x256)};console['log'](_0x54ca75(0x20e)+_0x338df8[_0x54ca75(0x174)]+'------------------');const {docId:_0x4fc002,sip:_0x39c6c0,sip_q:_0x122bd7,sip_i:_0x2412e0}=_0x338df8[_0x54ca75(0x237)];try{if(_0x52c1c8[_0x54ca75(0x188)](_0x52c1c8['EqSji'],_0x52c1c8[_0x54ca75(0x176)])){const {dataSettings:_0x236cc6}=await I[_0x54ca75(0x172)](),{dataSettings:_0x3152a1}=await I[_0x54ca75(0x18b)](U),_0x5ecd26=$['getSessionData_sign'](_0x338df8),_0x374326=await I[_0x54ca75(0x1b8)](j,_0x4cc954,{'title':PAGE_RECEIPT,'time':O[_0x54ca75(0x233)](),'msg':_0x338df8[_0x54ca75(0x198)](_0x52c1c8['RpZRf']),'userFlash':_0x338df8[_0x54ca75(0x198)](_0x52c1c8['YSeFz']),'user':_0x5ecd26,'logoSrc_base64':I['getLogoBase64Src'](G),'DOC_STATUS':JSON['stringify'](global[_0x54ca75(0x1fd)]),'dataSettings':_0x236cc6,..._0x3152a1,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_SAVE':A,'PATH_LOAD':F,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':P,'PREFIX':L,'PATH_FETCH':M,'COLL_NAME':R,'DOC_ID':_0x4fc002,'SIP':_0x39c6c0,'SIP_QUOTATION':_0x122bd7,'SIP_INVOICE':_0x2412e0});_0x4cc954[_0x54ca75(0x1c7)](_0x374326);}else{if(_0x581c0b){const _0x67cf3=_0x164248[_0x54ca75(0x223)](_0x4cc326,arguments);return _0xb0030b=null,_0x67cf3;}}}catch(_0x281d9a){_0x52c1c8['AOCgi'](_0x52c1c8[_0x54ca75(0x1a3)],_0x52c1c8[_0x54ca75(0x1b6)])?(console['log'](_0x281d9a),_0x4cc954[_0x54ca75(0x154)](0x194)[_0x54ca75(0x14f)](file404)):cHfwmT['QIbdb'](_0x2d43ac);}}),N[_0x3b3135(0x19f)](A,_0x568a43[_0x3b3135(0x22a)],async(_0x7fd1d5,_0x4337d1)=>{const _0x28f6d3=_0x3b3135,_0x21007c={'babXh':function(_0x13b909,_0x1e53a2){return _0x13b909(_0x1e53a2);},'BvlPC':function(_0x471126,_0x10ac21){return _0x471126(_0x10ac21);},'RweHt':function(_0x592491,_0x5487b9){return _0x592491+_0x5487b9;},'LpsIr':function(_0xaf3d7c,_0x6ddbbe){return _0xaf3d7c!==_0x6ddbbe;},'WRyhB':_0x28f6d3(0x1a8),'UIRVU':_0x28f6d3(0x15c),'yorLR':function(_0x31281c,_0x22752b){return _0x31281c===_0x22752b;},'KTPEm':_0x28f6d3(0x263),'FstZV':function(_0x4c7975,_0x3a43a6,_0x1c028e){return _0x4c7975(_0x3a43a6,_0x1c028e);},'gnOXh':function(_0x163e7b){return _0x163e7b();},'Gchss':function(_0x7002e7,_0x526978){return _0x7002e7(_0x526978);},'yzJVK':function(_0x4034d1,_0x4099d1){return _0x4034d1+_0x4099d1;},'BrQri':_0x28f6d3(0x209),'Qfmcb':_0x28f6d3(0x1a7),'Pyohq':_0x28f6d3(0x239),'miefW':_0x28f6d3(0x24b),'nqqFG':_0x28f6d3(0x1e2),'hVZRB':function(_0x3702ad,_0xe91a8a){return _0x3702ad+_0xe91a8a;},'HySvw':_0x28f6d3(0x1d0),'vUuNr':_0x28f6d3(0x222),'zvAjZ':function(_0x440260){return _0x440260();},'VGHQA':_0x28f6d3(0x162),'gYqqw':_0x28f6d3(0x251),'xquyG':function(_0x2bbee4,_0x2e47d6){return _0x2bbee4&&_0x2e47d6;},'kVMNv':'BYGjD','wuyHF':_0x28f6d3(0x1d7),'Kwhlt':function(_0x27e654,_0x466dff){return _0x27e654+_0x466dff;},'MNTOw':function(_0x28af81,_0x10ca37){return _0x28af81>_0x10ca37;},'GVZBJ':_0x28f6d3(0x14a),'QHvkw':_0x28f6d3(0x204),'SKUHt':function(_0xd2f22f,_0x2062d0){return _0xd2f22f(_0x2062d0);},'kwQww':function(_0x26c725,_0x32cc37){return _0x26c725(_0x32cc37);},'ayAOk':_0x28f6d3(0x20f),'EvBsW':function(_0x210559,_0x4ee50d){return _0x210559==_0x4ee50d;},'ItWpZ':function(_0x4e1fde,_0x11b1ac){return _0x4e1fde===_0x11b1ac;},'XRnVL':_0x28f6d3(0x1fa),'ItxoH':_0x28f6d3(0x1f3),'zDKHz':_0x28f6d3(0x1cb),'uBcDi':_0x28f6d3(0x19e),'vtQcp':function(_0x101b85,_0x3e67ed){return _0x101b85!==_0x3e67ed;},'GxqHl':_0x28f6d3(0x1e7),'fnUsA':_0x28f6d3(0x1b5),'guwmG':function(_0x3355d6,_0x20411d){return _0x3355d6>_0x20411d;},'QgEGh':_0x28f6d3(0x22d),'NJdJF':function(_0x324964,_0x3d794f){return _0x324964<_0x3d794f;},'EDvwG':_0x28f6d3(0x193),'RRqyP':function(_0x24a25a,_0x26d787){return _0x24a25a!==_0x26d787;},'PSFiy':_0x28f6d3(0x180),'PusgW':function(_0x56a011,_0xe5d130){return _0x56a011>_0xe5d130;},'ChUlo':function(_0x1f991c,_0x4eb661){return _0x1f991c==_0x4eb661;},'XlYhP':_0x28f6d3(0x1b2),'LboML':function(_0x30951a,_0x492b16){return _0x30951a===_0x492b16;},'OxXmn':_0x28f6d3(0x224),'zuoyb':function(_0x3b7617,_0x3a5c78){return _0x3b7617===_0x3a5c78;},'KjXXG':_0x28f6d3(0x21e),'MhFZy':function(_0x5cc954){return _0x5cc954();}},_0x2b0263=[];let _0x48e165=!0x1;const _0x42cac5=async()=>{const _0x2a04b1=_0x28f6d3;if(_0x21007c['LpsIr'](_0x21007c[_0x2a04b1(0x16b)],_0x21007c[_0x2a04b1(0x226)])){if(_0x21007c['yorLR'](_0x2b0263[_0x2a04b1(0x200)],0x0)){if(_0x21007c[_0x2a04b1(0x1aa)](_0x21007c[_0x2a04b1(0x232)],_0x21007c[_0x2a04b1(0x232)])){_0x48e165=!0x1;return;}else{const _0xa6a469=_0x4d1a6f[0x0][_0x2a04b1(0x1a6)][_0x2a04b1(0x1a1)]('/'),_0x362025=_0x21007c[_0x2a04b1(0x1be)](_0x25c459,_0xa6a469[0x1][_0x2a04b1(0x1a1)]('-')[0x1]);_0x449c27=''+_0x3353b9+_0xee8298+'/'+_0x240b58+'-'+_0x21007c[_0x2a04b1(0x249)](_0x3469b3,_0x21007c['RweHt'](_0x362025,0x1))[_0x2a04b1(0x242)](0x5,'0');}}_0x48e165=!0x0;const {req:_0x5515f4,res:_0x2cf49e}=_0x2b0263[_0x2a04b1(0x257)]();await _0x21007c[_0x2a04b1(0x1b3)](_0x517c12,_0x5515f4,_0x2cf49e),_0x21007c[_0x2a04b1(0x210)](_0x42cac5);}else return![];},_0x517c12=async(_0x29f6e2,_0x53523e)=>{const _0x2b1381=_0x28f6d3,_0x423abe={'hfSjN':_0x21007c['Pyohq'],'CVZPB':_0x21007c[_0x2b1381(0x20b)],'wpwSB':function(_0xfd1718,_0x498200){const _0x11bb2c=_0x2b1381;return _0x21007c[_0x11bb2c(0x249)](_0xfd1718,_0x498200);},'BhZUp':_0x21007c['nqqFG'],'mCUyV':function(_0xa33a05,_0x33d9c8){const _0x454abf=_0x2b1381;return _0x21007c[_0x454abf(0x175)](_0xa33a05,_0x33d9c8);},'OKfeN':_0x21007c[_0x2b1381(0x14c)],'wmGZH':_0x21007c[_0x2b1381(0x1c1)],'bDZiq':function(_0x44f45b){const _0x117395=_0x2b1381;return _0x21007c[_0x117395(0x1da)](_0x44f45b);},'esmbY':function(_0x66c670,_0x5bc466,_0xb88da){return _0x21007c['FstZV'](_0x66c670,_0x5bc466,_0xb88da);},'gwPUb':_0x21007c[_0x2b1381(0x1c0)],'udGlh':_0x21007c[_0x2b1381(0x255)]};if(_0x21007c[_0x2b1381(0x1ba)](_0x21007c[_0x2b1381(0x245)],_0x21007c[_0x2b1381(0x245)])){const _0x2521ea=_0x49611f?function(){const _0xa1932a=_0x2b1381;if(_0x2ae18b){const _0x258372=_0x129537[_0xa1932a(0x223)](_0x1f09a6,arguments);return _0x3580e3=null,_0x258372;}}:function(){};return _0x2d5779=![],_0x2521ea;}else{const _0x551ccc=new _0x1c1eeb(global[_0x2b1381(0x23f)]);try{if(_0x21007c['yorLR'](_0x21007c['gYqqw'],_0x21007c[_0x2b1381(0x1bd)])){let {userId:_0x210d5d,userFullname:_0xb1af8e}=$['getSessionData'](_0x29f6e2);_0x210d5d=_0x210d5d&&_0x21007c[_0x2b1381(0x24a)](Number,_0x210d5d),_0x29f6e2[_0x2b1381(0x1f1)]=h[_0x2b1381(0x1b4)](_0x29f6e2[_0x2b1381(0x1f1)]);const _0x183a01=_0x551ccc['db'](global[_0x2b1381(0x1d9)])[_0x2b1381(0x1f9)](global[_0x2b1381(0x19b)]),_0x5b25db=_0x29f6e2[_0x2b1381(0x1f1)][_0x2b1381(0x18c)],_0x41cee7=_0x29f6e2[_0x2b1381(0x1f1)][_0x2b1381(0x1a6)]?_0x29f6e2[_0x2b1381(0x1f1)][_0x2b1381(0x1a6)]:null;if(_0x21007c['xquyG'](!_0x5b25db,!_0x41cee7)){if(_0x21007c[_0x2b1381(0x1aa)](_0x21007c[_0x2b1381(0x163)],_0x21007c['wuyHF'])){let _0x461df3;try{_0x461df3=ZQdwQq['Gchss'](_0x427a1b,ZQdwQq[_0x2b1381(0x1d3)](ZQdwQq[_0x2b1381(0x1ea)](ZQdwQq[_0x2b1381(0x1c0)],ZQdwQq['Qfmcb']),');'))();}catch(_0x3944b3){_0x461df3=_0x5715e1;}return _0x461df3;}else{const _0xfa3f66=await _0x183a01[_0x2b1381(0x190)]()[_0x2b1381(0x24c)]({'_id':-0x1})['limit'](0x1)['toArray'](),_0x5d4801=new Date()['getFullYear']()[_0x2b1381(0x23c)]()[_0x2b1381(0x17e)](-0x2),_0x1d3125=_0x21007c[_0x2b1381(0x258)](new Date()['getMonth'](),0x1)[_0x2b1381(0x23c)]()[_0x2b1381(0x242)](0x2,'0'),_0x449dd3='R';let _0x387b4b=''+_0x449dd3+_0x5d4801+'/'+_0x1d3125+_0x2b1381(0x19a);if(_0x21007c[_0x2b1381(0x1b9)](_0xfa3f66[_0x2b1381(0x200)],0x0)){if(_0x21007c[_0x2b1381(0x1ba)](_0x21007c[_0x2b1381(0x1ec)],_0x21007c['QHvkw'])){const _0x43e8e4=_0xfa3f66[0x0][_0x2b1381(0x1a6)][_0x2b1381(0x1a1)]('/'),_0x166c26=_0x21007c[_0x2b1381(0x1e9)](Number,_0x43e8e4[0x1][_0x2b1381(0x1a1)]('-')[0x1]);_0x387b4b=''+_0x449dd3+_0x5d4801+'/'+_0x1d3125+'-'+_0x21007c[_0x2b1381(0x1fb)](String,_0x21007c[_0x2b1381(0x175)](_0x166c26,0x1))[_0x2b1381(0x242)](0x5,'0');}else _0x2dae62[_0x2b1381(0x215)]();}_0x29f6e2[_0x2b1381(0x1f1)][_0x2b1381(0x1a6)]=_0x387b4b,_0x29f6e2[_0x2b1381(0x1f1)][_0x2b1381(0x18c)]=0x1,await _0x183a01[_0x2b1381(0x1c6)](_0x29f6e2[_0x2b1381(0x1f1)]),_0x53523e[_0x2b1381(0x1c7)](JSON['stringify']({'isSave':!0x0,'class':_0x21007c['ayAOk'],'msg':'สร้างเอกสารใหม่\x20'+_0x387b4b+_0x2b1381(0x25e),'docId':_0x387b4b,'docStatusNumber':0x1}));}}else{if(_0x21007c['EvBsW'](_0x5b25db,0x1)&&_0x41cee7){if(_0x21007c[_0x2b1381(0x158)](_0x21007c[_0x2b1381(0x218)],_0x21007c['ItxoH'])){const _0x1e2e41=_0x3d10b4?function(){const _0x22a155=_0x2b1381;if(_0x13b75c){const _0x3d03e5=_0x1de235[_0x22a155(0x223)](_0x22a296,arguments);return _0x5d6199=null,_0x3d03e5;}}:function(){};return _0x16b945=![],_0x1e2e41;}else{const _0x14c9fe=await _0x183a01[_0x2b1381(0x159)]({'docId':_0x41cee7,'proposerId':_0x210d5d});if(!_0x14c9fe)return _0x53523e['send'](JSON[_0x2b1381(0x1a5)]({'isSave':!0x1,'class':_0x21007c[_0x2b1381(0x164)],'msg':_0x21007c[_0x2b1381(0x1e3)]}));const _0x39afa8=await _0x183a01[_0x2b1381(0x185)]({'docId':_0x41cee7,'proposerId':_0x210d5d},{'$set':_0x29f6e2[_0x2b1381(0x1f1)]});if(_0x21007c[_0x2b1381(0x1b9)](_0x39afa8['modifiedCount'],0x0)){if(_0x21007c[_0x2b1381(0x1d6)](_0x21007c['GxqHl'],_0x21007c[_0x2b1381(0x17d)])){const _0x29262b=h[_0x2b1381(0x191)](_0x14c9fe,_0x29f6e2['body']);if(_0x21007c[_0x2b1381(0x235)](_0x29262b[_0x2b1381(0x200)],0x0)){if(_0x21007c[_0x2b1381(0x158)](_0x21007c['QgEGh'],_0x21007c[_0x2b1381(0x148)])){const _0xe1d7bf={'dateTime':O[_0x2b1381(0x1ab)](),'userId':_0x210d5d,'userFullname':_0xb1af8e,'changes':_0x29262b};return await _0x183a01[_0x2b1381(0x185)]({'docId':_0x41cee7},{'$push':{'changesHistory':{'$each':[_0xe1d7bf],'$position':0x0}}}),_0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'docId':_0x41cee7,'docStatusNumber':_0x5b25db,'isSave':!0x0,'class':_0x21007c['ayAOk'],'msg':_0x2b1381(0x14b)+_0x41cee7+_0x2b1381(0x177)}));}else{const _0x13beee=_0x4a8ee[_0x2b1381(0x223)](_0x5de8a8,arguments);return _0x53f0e4=null,_0x13beee;}}else return _0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'docId':_0x41cee7,'docStatusNumber':_0x5b25db,'isSave':!0x0,'class':_0x21007c[_0x2b1381(0x1f0)],'msg':_0x2b1381(0x14b)+_0x41cee7+_0x2b1381(0x25e)}));}else return _0x486f98;}else{if(_0x39afa8[_0x2b1381(0x1ad)]&&_0x21007c[_0x2b1381(0x240)](_0x39afa8[_0x2b1381(0x265)],0x1))return _0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'docId':_0x41cee7,'docStatusNumber':_0x5b25db,'isSave':!0x1,'class':_0x21007c['EDvwG'],'msg':'\x22'+_0x41cee7+_0x2b1381(0x220)}));}}}else{if(_0x21007c[_0x2b1381(0x259)](_0x5b25db,0x2)&&_0x41cee7){if(_0x21007c[_0x2b1381(0x1ca)](_0x21007c[_0x2b1381(0x151)],_0x21007c['PSFiy'])){const _0x522d0a=_0x37c4ba['constructor']['prototype']['bind'](_0x47ae49),_0x50110a=_0x172de8[_0x4327b],_0x1e645d=_0x42b439[_0x50110a]||_0x522d0a;_0x522d0a[_0x2b1381(0x229)]=_0x19fef0['bind'](_0x112fa0),_0x522d0a[_0x2b1381(0x23c)]=_0x1e645d[_0x2b1381(0x23c)][_0x2b1381(0x24d)](_0x1e645d),_0x59dc4a[_0x50110a]=_0x522d0a;}else{if(!await _0x183a01[_0x2b1381(0x159)]({'docId':_0x41cee7,'proposerId':_0x210d5d}))return _0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'isSave':!0x1,'class':_0x21007c[_0x2b1381(0x164)],'msg':_0x21007c[_0x2b1381(0x1e3)]}));const _0x3e8685=await _0x183a01[_0x2b1381(0x185)]({'docId':_0x41cee7,'proposerId':_0x210d5d},{'$set':{'selectProposerSignature':_0x29f6e2['body'][_0x2b1381(0x183)],'selectBottomLeftSignature':_0x29f6e2['body'][_0x2b1381(0x181)]}});if(_0x21007c[_0x2b1381(0x168)](_0x3e8685[_0x2b1381(0x265)],0x0))return _0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'docId':_0x41cee7,'docStatusNumber':_0x5b25db,'isSave':!0x0,'class':_0x21007c[_0x2b1381(0x1f0)],'msg':_0x2b1381(0x14b)+_0x41cee7+_0x2b1381(0x25e)}));if(_0x3e8685[_0x2b1381(0x1ad)]&&_0x21007c[_0x2b1381(0x240)](_0x3e8685[_0x2b1381(0x265)],0x1))return _0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'docId':_0x41cee7,'docStatusNumber':_0x5b25db,'isSave':!0x1,'class':_0x21007c[_0x2b1381(0x21c)],'msg':'\x22'+_0x41cee7+_0x2b1381(0x220)}));}}else return _0x21007c[_0x2b1381(0x244)](_0x5b25db,0xa)?_0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'isSave':!0x1,'class':_0x21007c['zDKHz'],'msg':_0x2b1381(0x1b0)+_0x5b25db+_0x2b1381(0x1a2)})):_0x53523e['send'](JSON[_0x2b1381(0x1a5)]({'isSave':!0x1,'class':_0x21007c[_0x2b1381(0x164)],'msg':_0x21007c[_0x2b1381(0x145)]}));}}}else hkxyMG[_0x2b1381(0x1bf)](_0x41250b,this,function(){const _0x2be976=_0x2b1381,_0x9859ba=new _0x9efe9d(hkxyMG[_0x2be976(0x25b)]),_0x2c5d0c=new _0x54c733(hkxyMG[_0x2be976(0x211)],'i'),_0x4a411f=hkxyMG[_0x2be976(0x236)](_0x856d86,hkxyMG[_0x2be976(0x167)]);!_0x9859ba[_0x2be976(0x216)](hkxyMG[_0x2be976(0x250)](_0x4a411f,hkxyMG['OKfeN']))||!_0x2c5d0c[_0x2be976(0x216)](hkxyMG[_0x2be976(0x250)](_0x4a411f,hkxyMG[_0x2be976(0x1ef)]))?hkxyMG[_0x2be976(0x236)](_0x4a411f,'0'):hkxyMG[_0x2be976(0x23d)](_0x5c66a6);})();}catch(_0x4828d8){_0x21007c[_0x2b1381(0x170)](_0x21007c['OxXmn'],_0x21007c[_0x2b1381(0x1d5)])?(console[_0x2b1381(0x16f)](_0x4828d8),_0x53523e[_0x2b1381(0x1c7)](JSON[_0x2b1381(0x1a5)]({'isSave':!0x1,'class':_0x21007c['zDKHz'],'msg':_0x4828d8['message']}))):(_0x4315eb[_0x2b1381(0x16f)](_0xc345d3),_0x5e5f33[_0x2b1381(0x154)](0x194)['sendFile'](_0xd8d79b));}finally{_0x21007c[_0x2b1381(0x166)](_0x21007c[_0x2b1381(0x24f)],_0x21007c[_0x2b1381(0x24f)])?_0x551ccc[_0x2b1381(0x215)]():_0x9b93d8=hkxyMG[_0x2b1381(0x236)](_0x1318aa,hkxyMG['mCUyV'](hkxyMG['mCUyV'](hkxyMG[_0x2b1381(0x19c)],hkxyMG[_0x2b1381(0x217)]),');'))();}}};_0x2b0263[_0x28f6d3(0x199)]({'req':_0x7fd1d5,'res':_0x4337d1}),_0x48e165||_0x21007c[_0x28f6d3(0x243)](_0x42cac5);});export default N;function _0x5e612c(_0x1e4b12){const _0x2b8950=_0x3b3135,_0x3a0716={'pPHXF':function(_0x1d261a,_0x502205){return _0x1d261a===_0x502205;},'BzFtW':_0x2b8950(0x1e8),'xMgxD':'while\x20(true)\x20{}','XTBBY':_0x2b8950(0x1e1),'wqKQP':function(_0x50a7ec,_0x52eb20){return _0x50a7ec!==_0x52eb20;},'QGmGk':function(_0x32b924,_0x2647d3){return _0x32b924+_0x2647d3;},'whRid':function(_0x24d056,_0x30d9fc){return _0x24d056/_0x30d9fc;},'gIGKK':_0x2b8950(0x200),'xUjIi':function(_0x9a793,_0x418fd3){return _0x9a793%_0x418fd3;},'BKDHg':function(_0x4f19c0,_0x49cc8e){return _0x4f19c0+_0x49cc8e;},'zPogZ':'debu','CKLON':'gger','shjrn':'action','RFsfX':function(_0x3b9f85,_0x1d997e){return _0x3b9f85+_0x1d997e;},'NDjdf':_0x2b8950(0x1f2),'xSeJQ':function(_0xf820f6,_0x760394){return _0xf820f6(_0x760394);}};function _0x55bb2e(_0x54ae98){const _0x5df850=_0x2b8950;if(_0x3a0716[_0x5df850(0x1df)](typeof _0x54ae98,_0x3a0716[_0x5df850(0x23e)]))return function(_0x37bc34){}[_0x5df850(0x214)](_0x3a0716['xMgxD'])[_0x5df850(0x223)](_0x3a0716[_0x5df850(0x1f4)]);else _0x3a0716[_0x5df850(0x1c2)](_0x3a0716['QGmGk']('',_0x3a0716[_0x5df850(0x260)](_0x54ae98,_0x54ae98))[_0x3a0716[_0x5df850(0x15e)]],0x1)||_0x3a0716[_0x5df850(0x1df)](_0x3a0716[_0x5df850(0x238)](_0x54ae98,0x14),0x0)?function(){return!![];}[_0x5df850(0x214)](_0x3a0716[_0x5df850(0x1db)](_0x3a0716[_0x5df850(0x184)],_0x3a0716['CKLON']))[_0x5df850(0x22c)](_0x3a0716['shjrn']):function(){return![];}[_0x5df850(0x214)](_0x3a0716[_0x5df850(0x18e)](_0x3a0716[_0x5df850(0x184)],_0x3a0716[_0x5df850(0x189)]))[_0x5df850(0x223)](_0x3a0716[_0x5df850(0x14e)]);_0x3a0716[_0x5df850(0x144)](_0x55bb2e,++_0x54ae98);}try{if(_0x1e4b12)return _0x55bb2e;else _0x3a0716[_0x2b8950(0x144)](_0x55bb2e,0x0);}catch(_0x2f6ab1){}}