function _0x5a34(){const _0x56359d=['getChangeHistory','body','12eAmHnD','zzUQl','SrPjf','63clhRXf','prototype','1166510rrKbpY','string','apply','BkCMV','urqac','convert_DocDataType','7376838estgZX','8HuAIzL','red','BliMn','getSettings','IDwEd','สร้างเอกสารใหม่\x20','RRLXr','dlkSr','eYHPw','find','/bill','bind','Enwvq','IGwsM','tJxxL','cYzMl','dyIkG','init','TGHMc','ovigz','../','TfmAo','iezlN','eJBIc','console','/myDocs.js','gBuOO','iJBlC','jmhaZ','VOWRZ','18443975duHMgI','dbColl_settings_Bill','rgQGP','UvWBH','cYJEM','ponvI','getLogoBase64Src','SrLoL','/changes','while\x20(true)\x20{}','DEEVQ','collection','acknowledged','mCjgw','post','JuvxQ','iGBcy','findOne','iuPFO','ENdGA','QRZEg','insertOne','__proto__','gger','yhYSo','updateOne','spfRh','constructor','MLyeI','DuGud','getSessionData','TVrpJ','Ecipd','NEHAy','PTXgg','debu','getSettingsByCollection','yywOj','YuFin','/myModule.js','jZsWc','bXvSn','EpNHO','slice','lRjLi','Cqqlr','VouhH','userFlash','QtQAA','vlIqg','RCWYI','query','push','close','ubTcq','monQy','stateObject','wiovO','dbName','counter','AOIow','wSGLa','shift','สถานะเอกสารผิดผลาด','wMwat','pLXXn','cNDyu','dBpBi','modifiedCount','zRmGl','XMOrL','/save','Xlgzs','sort','-00001','hITem','EZsGJ','getSessionData_sign','toString','sendFile','AccjE','oSGRq','LOGO_BILL_FILENAME','ozmHv','FTsSF','haUCw','OOTAM','uZeKr','LcQNf','getFullYear','jmOws','zTKoL','VbxDF','bill.ejs','MkMzS','WuWcD','bTqQm','TrNqH','3563800UlUNGu','PZRLZ','docStatusNumber','uEVFI','function\x20*\x5c(\x20*\x5c)','chain','jBzrG','ypAjT','gcHIO','fAxoR','gNDTB','fcSLT','TfIOL','exception','return\x20(function()\x20','XMyyL','gPGpb','table','DRMmi','eXEEC','QWwZc','xPhAk','renderView','KTWnN','length','OPfyv','EJGXl','NXshN','RBpPD','blsIU','fFrly','message','hEHWg','ECeUs','get','BKefK','XcBYY','send','nVdPy','ibvNI','mwnyN','/myUsers.js','MvIei','action','EPuZs','QWzHz','Fepgj','log','jJYog','hqsEH','wbfTG','anAov','YzZeo','NkBDF','ObRte','ARaXH','QCEVL','selectProposerSignature','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','EFJPm','input','IVGsa','rMGJT','OnMws','avvFi','KomFA','oRbAW','stringify','Zhlmo','GTaIA','jCDgd','aSXXR','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','padStart','{}.constructor(\x22return\x20this\x22)(\x20)','call','docId','101fVxHiQ','pWlBq','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','ipcel','FOIEf','slafe','5dPLXyh','xmtVu','dbColl_bill','Ppdog','sHZar','RClDi','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','msg','KbrJH','UjOry','FExuW','DIpvP','djkfD','test','/load','error','getMonth','dpvtU','RHBDu','อัปเดท\x20','ZyQRT','OgHNB','isAuth','limit','mgljW','29878TGAlis','8712627FEXDQF','HsdfS','split','mfuZM','JUqbO','qnaVE','aUVVY','KCYBD','rCeXD','getDate','flash','\x20เรียบร้อยแล้ว','BbKZl','GiobS','BaUtm','hrwlp','TORBb','RIjTc','ZGzzg','gREFC','JFEhY','/search','/myDateTime.js','ISVGG','254355NyYfrf','HHnOz','Ljgtu','iIdwj','PUNMR'];_0x5a34=function(){return _0x56359d;};return _0x5a34();}const _0x5c7b2f=_0x4fee;(function(_0x18d92a,_0x425a18){const _0x3e69b8=_0x4fee,_0x5edbf6=_0x18d92a();while(!![]){try{const _0x3beccb=parseInt(_0x3e69b8(0x14b))/0x1*(parseInt(_0x3e69b8(0x16a))/0x2)+parseInt(_0x3e69b8(0x183))/0x3*(-parseInt(_0x3e69b8(0x196))/0x4)+parseInt(_0x3e69b8(0x151))/0x5*(parseInt(_0x3e69b8(0x195))/0x6)+parseInt(_0x3e69b8(0x16b))/0x7+-parseInt(_0x3e69b8(0xfe))/0x8+parseInt(_0x3e69b8(0x18d))/0x9*(-parseInt(_0x3e69b8(0x18f))/0xa)+parseInt(_0x3e69b8(0x1b4))/0xb*(-parseInt(_0x3e69b8(0x18a))/0xc);if(_0x3beccb===_0x425a18)break;else _0x5edbf6['push'](_0x5edbf6['shift']());}catch(_0x2f90b7){_0x5edbf6['push'](_0x5edbf6['shift']());}}}(_0x5a34,0xd5896));const _0x4a4171=(function(){const _0x3bd21b=_0x4fee,_0x23dd8b={'XcBYY':_0x3bd21b(0x102),'BKefK':_0x3bd21b(0x146),'Ufnez':function(_0xa3d78e,_0x450730){return _0xa3d78e(_0x450730);},'jCDgd':'init','dyIkG':function(_0xa6cfe,_0x503955){return _0xa6cfe+_0x503955;},'Zhlmo':_0x3bd21b(0x103),'VOWRZ':function(_0x2f3178,_0x9680de){return _0x2f3178+_0x9680de;},'ubTcq':'input','iuPFO':function(_0x123361){return _0x123361();},'KbrJH':function(_0x29ec89,_0x19183a,_0x1bfccf){return _0x29ec89(_0x19183a,_0x1bfccf);},'ObRte':function(_0xa65167,_0x50bd4a){return _0xa65167===_0x50bd4a;},'UAVmL':_0x3bd21b(0x12c),'jmhaZ':_0x3bd21b(0x1da),'iPgzI':function(_0x3aa510,_0x3fccc9){return _0x3aa510!==_0x3fccc9;},'zRmGl':_0x3bd21b(0x166),'TORBb':_0x3bd21b(0x15b),'ISVGG':function(_0x240899,_0x25ecc3){return _0x240899+_0x25ecc3;},'IsPru':_0x3bd21b(0x1d7),'nVdPy':'gger','ECeUs':'stateObject','RBpPD':_0x3bd21b(0x162)};let _0x4f82a9=!![];return function(_0x3a7360,_0x5b8983){const _0x1dfdeb=_0x3bd21b,_0x52565e={'LusPt':function(_0x3bd9b6,_0x5b9a17){const _0x87b237=_0x4fee;return _0x23dd8b[_0x87b237(0x182)](_0x3bd9b6,_0x5b9a17);},'uzlno':_0x23dd8b['IsPru'],'aSXXR':_0x23dd8b[_0x1dfdeb(0x124)],'MLyeI':_0x23dd8b[_0x1dfdeb(0x11f)]};if(_0x23dd8b[_0x1dfdeb(0x134)](_0x23dd8b['RBpPD'],_0x23dd8b[_0x1dfdeb(0x11a)])){const _0x2e4b80=_0x4f82a9?function(){const _0x569f2e=_0x1dfdeb,_0x13dbd9={'Ecipd':_0x23dd8b[_0x569f2e(0x122)],'OnMws':_0x23dd8b[_0x569f2e(0x121)],'GiobS':function(_0x180dc8,_0x3fe9c0){return _0x23dd8b['Ufnez'](_0x180dc8,_0x3fe9c0);},'KCYBD':_0x23dd8b[_0x569f2e(0x144)],'yhYSo':function(_0x62a895,_0x32c0d9){const _0x60846a=_0x569f2e;return _0x23dd8b[_0x60846a(0x1a6)](_0x62a895,_0x32c0d9);},'RSAyy':_0x23dd8b[_0x569f2e(0x142)],'PZRLZ':function(_0xfd8a3c,_0x578608){const _0x1e426d=_0x569f2e;return _0x23dd8b[_0x1e426d(0x1b3)](_0xfd8a3c,_0x578608);},'gNDTB':_0x23dd8b[_0x569f2e(0x1ea)],'IVGsa':function(_0x629214){const _0x545370=_0x569f2e;return _0x23dd8b[_0x545370(0x1c6)](_0x629214);},'QRZEg':function(_0x412585,_0x12cd67,_0x23c812){const _0x1a88e1=_0x569f2e;return _0x23dd8b[_0x1a88e1(0x159)](_0x412585,_0x12cd67,_0x23c812);}};if(_0x23dd8b[_0x569f2e(0x134)](_0x23dd8b['UAVmL'],_0x23dd8b[_0x569f2e(0x1b2)]))_0x13dbd9[_0x569f2e(0x1c8)](_0x51fd71,this,function(){const _0x47a404=_0x569f2e,_0xeac1a3=new _0x4fe34e(_0x13dbd9[_0x47a404(0x1d4)]),_0x34dcb2=new _0x339059(_0x13dbd9[_0x47a404(0x13d)],'i'),_0x420335=_0x13dbd9[_0x47a404(0x178)](_0xb75cbf,_0x13dbd9[_0x47a404(0x172)]);!_0xeac1a3['test'](_0x13dbd9[_0x47a404(0x1cc)](_0x420335,_0x13dbd9['RSAyy']))||!_0x34dcb2['test'](_0x13dbd9[_0x47a404(0xff)](_0x420335,_0x13dbd9[_0x47a404(0x108)]))?_0x13dbd9[_0x47a404(0x178)](_0x420335,'0'):_0x13dbd9[_0x47a404(0x13b)](_0x3dd11d);})();else{if(_0x5b8983){if(_0x23dd8b['iPgzI'](_0x23dd8b[_0x569f2e(0x1f9)],_0x23dd8b[_0x569f2e(0x17b)])){const _0x223f7e=_0x5b8983[_0x569f2e(0x191)](_0x3a7360,arguments);return _0x5b8983=null,_0x223f7e;}else{if(_0x2d1d36){const _0x5b247a=_0x12c123[_0x569f2e(0x191)](_0x3317c8,arguments);return _0x200fa5=null,_0x5b247a;}}}}}:function(){};return _0x4f82a9=![],_0x2e4b80;}else(function(){return![];}[_0x1dfdeb(0x1cf)](_0x52565e['LusPt'](_0x52565e['uzlno'],_0x52565e[_0x1dfdeb(0x145)]))[_0x1dfdeb(0x191)](_0x52565e[_0x1dfdeb(0x1d0)]));};}());(function(){const _0x2cb82d=_0x4fee,_0x3d7296={'pLXXn':function(_0x4388ec,_0x5c4616){return _0x4388ec(_0x5c4616);},'HHnOz':function(_0x2cd43b,_0x24ce56){return _0x2cd43b+_0x24ce56;},'hqsEH':'return\x20(function()\x20','IDwEd':_0x2cb82d(0x148),'QWzHz':function(_0x11185d,_0x2accb3){return _0x11185d(_0x2accb3);},'NEHAy':function(_0x31e847,_0x375c7){return _0x31e847===_0x375c7;},'DRMmi':'PZnVz','ZefRL':_0x2cb82d(0x102),'HsdfS':_0x2cb82d(0x146),'mwnyN':function(_0x866f89,_0xd21a51){return _0x866f89(_0xd21a51);},'eYHPw':_0x2cb82d(0x1a7),'VneCO':_0x2cb82d(0x103),'RHBDu':function(_0x8eebaa,_0x1397a8){return _0x8eebaa+_0x1397a8;},'XMOrL':'input','vSOIr':_0x2cb82d(0x109),'jZsWc':_0x2cb82d(0x1a9),'fAxoR':_0x2cb82d(0x18c),'POnMs':_0x2cb82d(0x1a5),'rCeXD':function(_0x3c434f){return _0x3c434f();},'AccjE':function(_0x37321d,_0x3584cd,_0x47d6b4){return _0x37321d(_0x3584cd,_0x47d6b4);}};_0x3d7296[_0x2cb82d(0x204)](_0x4a4171,this,function(){const _0x58e8c8=_0x2cb82d,_0xe451fa={'djkfD':function(_0x4e153c,_0x475dba){const _0x2c84ee=_0x4fee;return _0x3d7296[_0x2c84ee(0x12b)](_0x4e153c,_0x475dba);},'EFJPm':function(_0x566662,_0x137eed){const _0x4cf828=_0x4fee;return _0x3d7296[_0x4cf828(0x184)](_0x566662,_0x137eed);}};if(_0x3d7296[_0x58e8c8(0x1d5)](_0x3d7296[_0x58e8c8(0x110)],_0x3d7296[_0x58e8c8(0x110)])){const _0x3d2290=new RegExp(_0x3d7296['ZefRL']),_0x2c82e7=new RegExp(_0x3d7296[_0x58e8c8(0x16c)],'i'),_0x4c3330=_0x3d7296[_0x58e8c8(0x126)](_0x24a214,_0x3d7296[_0x58e8c8(0x19e)]);if(!_0x3d2290[_0x58e8c8(0x15e)](_0x3d7296[_0x58e8c8(0x184)](_0x4c3330,_0x3d7296['VneCO']))||!_0x2c82e7[_0x58e8c8(0x15e)](_0x3d7296[_0x58e8c8(0x163)](_0x4c3330,_0x3d7296[_0x58e8c8(0x1fa)]))){if(_0x3d7296[_0x58e8c8(0x1d5)](_0x3d7296['vSOIr'],_0x3d7296[_0x58e8c8(0x1dc)])){const _0x143778=_0x503b22[0x0][_0x58e8c8(0x14a)]['split']('/'),_0x1c1801=_0xe451fa[_0x58e8c8(0x15d)](_0x1f72bb,_0x143778[0x1][_0x58e8c8(0x16d)]('-')[0x1]);_0x4b6f4b=''+_0x27dec2+_0x2a98e2+'/'+_0x140cdf+'-'+_0xe451fa[_0x58e8c8(0x15d)](_0x267689,_0xe451fa[_0x58e8c8(0x139)](_0x1c1801,0x1))[_0x58e8c8(0x147)](0x5,'0');}else _0x3d7296[_0x58e8c8(0x12b)](_0x4c3330,'0');}else _0x3d7296[_0x58e8c8(0x1d5)](_0x3d7296[_0x58e8c8(0x107)],_0x3d7296['POnMs'])?_0x34c3c6=_0x3d7296[_0x58e8c8(0x1f5)](_0x402b35,_0x3d7296['HHnOz'](_0x3d7296['HHnOz'](_0x3d7296[_0x58e8c8(0x12f)],_0x3d7296[_0x58e8c8(0x19a)]),');'))():_0x3d7296[_0x58e8c8(0x173)](_0x24a214);}else{if(_0x101669){const _0x115fa8=_0x480b26[_0x58e8c8(0x191)](_0x2ce476,arguments);return _0x481cf6=null,_0x115fa8;}}})();}());const _0x1758b9=(function(){const _0x294478=_0x4fee,_0x207193={'jazXI':function(_0xb44c4e,_0x1b45f4){return _0xb44c4e+_0x1b45f4;},'gPGpb':_0x294478(0x1d7),'pWlBq':_0x294478(0x1cb),'vlIqg':'action','ewfcG':function(_0x2ce44d,_0x3d50e8){return _0x2ce44d===_0x3d50e8;},'QtQAA':_0x294478(0x16e),'QCEVL':'zdOIl','WuWcD':function(_0x30d248,_0x5e0e93){return _0x30d248===_0x5e0e93;},'cNDyu':'prHJJ','vobAa':_0x294478(0x102),'Ljgtu':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','TrNqH':function(_0x35223d,_0x164088){return _0x35223d(_0x164088);},'DEEVQ':_0x294478(0x1a7),'NXshN':function(_0x25a0fe,_0x424c6c){return _0x25a0fe+_0x424c6c;},'ibvNI':'chain','MkMzS':function(_0xf0ff06,_0x18ec15){return _0xf0ff06+_0x18ec15;},'TVrpJ':_0x294478(0x13a),'PTXgg':function(_0xa4761a,_0x711386){return _0xa4761a(_0x711386);},'EJGXl':function(_0xd9f514){return _0xd9f514();},'GyeGS':function(_0x102e5a,_0x581adb){return _0x102e5a===_0x581adb;},'aUVVY':_0x294478(0x13c)};let _0x483ac6=!![];return function(_0x29c2b8,_0x24686e){const _0x18484a=_0x294478;if(_0x207193['GyeGS'](_0x207193['aUVVY'],_0x207193[_0x18484a(0x171)])){const _0x6b2734=_0x483ac6?function(){const _0x548b12=_0x18484a,_0x30e72d={'RIjTc':function(_0x587e91,_0x27dc37){return _0x207193['jazXI'](_0x587e91,_0x27dc37);},'GSVLm':_0x207193[_0x548b12(0x10e)],'BliMn':_0x207193[_0x548b12(0x14c)],'xPhAk':_0x207193[_0x548b12(0x1e5)]};if(_0x207193['ewfcG'](_0x207193[_0x548b12(0x1e4)],_0x207193[_0x548b12(0x136)]))(function(){return!![];}['constructor'](_0x30e72d[_0x548b12(0x17c)](_0x30e72d['GSVLm'],_0x30e72d[_0x548b12(0x198)]))[_0x548b12(0x149)](_0x30e72d[_0x548b12(0x113)]));else{if(_0x24686e){if(_0x207193[_0x548b12(0xfb)](_0x207193[_0x548b12(0x1f6)],_0x207193[_0x548b12(0x1f6)])){const _0x5540d3=_0x24686e[_0x548b12(0x191)](_0x29c2b8,arguments);return _0x24686e=null,_0x5540d3;}else{const _0x410d4c=_0x781e4c?function(){const _0x44a13e=_0x548b12;if(_0x9e120){const _0x4e123d=_0x460ef1[_0x44a13e(0x191)](_0x2aca66,arguments);return _0x59fd10=null,_0x4e123d;}}:function(){};return _0x20eaf5=![],_0x410d4c;}}}}:function(){};return _0x483ac6=![],_0x6b2734;}else{const _0x142d68=new _0x588b7e(_0x207193['vobAa']),_0x3989bf=new _0x4d4e86(_0x207193[_0x18484a(0x185)],'i'),_0x3eccb0=_0x207193[_0x18484a(0xfd)](_0x5be863,_0x207193[_0x18484a(0x1be)]);!_0x142d68[_0x18484a(0x15e)](_0x207193[_0x18484a(0x119)](_0x3eccb0,_0x207193[_0x18484a(0x125)]))||!_0x3989bf[_0x18484a(0x15e)](_0x207193[_0x18484a(0xfa)](_0x3eccb0,_0x207193[_0x18484a(0x1d3)]))?_0x207193[_0x18484a(0x1d6)](_0x3eccb0,'0'):_0x207193[_0x18484a(0x118)](_0x3dbfd2);}};}()),_0x247c56=_0x1758b9(this,function(){const _0x53e4d9=_0x4fee,_0x7a322e={'BaUtm':function(_0x1df805,_0x27c693){return _0x1df805===_0x27c693;},'jJYog':'aUQEQ','ozmHv':function(_0x14bd5d,_0x22e83c){return _0x14bd5d!==_0x22e83c;},'hrwlp':_0x53e4d9(0x1ab),'PUNMR':'lvVWb','TfIOL':function(_0x1c295f,_0x44b424){return _0x1c295f(_0x44b424);},'xmtVu':function(_0x5a9c16,_0x1c4db8){return _0x5a9c16+_0x1c4db8;},'aCZvi':_0x53e4d9(0x10c),'UvWBH':'{}.constructor(\x22return\x20this\x22)(\x20)','bXvSn':function(_0x512625,_0x2bcdba){return _0x512625===_0x2bcdba;},'lRjLi':_0x53e4d9(0x1a2),'wMwat':_0x53e4d9(0x197),'eXEEC':function(_0x18cc60){return _0x18cc60();},'rgQGP':_0x53e4d9(0x12d),'UjOry':'warn','zTKoL':'info','kVtDU':_0x53e4d9(0x160),'uLSqV':_0x53e4d9(0x10b),'EpNHO':_0x53e4d9(0x10f),'uTlWq':'trace','FTsSF':function(_0x570f25,_0x785818){return _0x570f25<_0x785818;},'TGHMc':_0x53e4d9(0x209),'hITem':_0x53e4d9(0x1b0)},_0x531e61=function(){const _0x3b61c5=_0x53e4d9;if(_0x7a322e[_0x3b61c5(0x179)](_0x7a322e['jJYog'],_0x7a322e[_0x3b61c5(0x12e)])){let _0x21d3e7;try{if(_0x7a322e['ozmHv'](_0x7a322e[_0x3b61c5(0x17a)],_0x7a322e[_0x3b61c5(0x187)]))_0x21d3e7=_0x7a322e[_0x3b61c5(0x10a)](Function,_0x7a322e[_0x3b61c5(0x152)](_0x7a322e[_0x3b61c5(0x152)](_0x7a322e['aCZvi'],_0x7a322e[_0x3b61c5(0x1b7)]),');'))();else return!![];}catch(_0x1de2e5){_0x7a322e[_0x3b61c5(0x1dd)](_0x7a322e['lRjLi'],_0x7a322e[_0x3b61c5(0x1e0)])?_0x21d3e7=window:(_0x5083e1['log'](_0x92d3a1),_0x2cf947['status'](0x194)[_0x3b61c5(0x203)](_0x47f5fa));}return _0x21d3e7;}else{const _0x19a22d=_0xb79c58[_0x3b61c5(0x191)](_0x32d663,arguments);return _0x492920=null,_0x19a22d;}},_0x92aeda=_0x7a322e[_0x53e4d9(0x111)](_0x531e61),_0x1e26bc=_0x92aeda[_0x53e4d9(0x1ae)]=_0x92aeda[_0x53e4d9(0x1ae)]||{},_0x15c0b6=[_0x7a322e[_0x53e4d9(0x1b6)],_0x7a322e[_0x53e4d9(0x15a)],_0x7a322e[_0x53e4d9(0xf7)],_0x7a322e['kVtDU'],_0x7a322e['uLSqV'],_0x7a322e[_0x53e4d9(0x1de)],_0x7a322e['uTlWq']];for(let _0x1b83c3=0x0;_0x7a322e[_0x53e4d9(0x208)](_0x1b83c3,_0x15c0b6[_0x53e4d9(0x116)]);_0x1b83c3++){if(_0x7a322e[_0x53e4d9(0x207)](_0x7a322e[_0x53e4d9(0x1a8)],_0x7a322e[_0x53e4d9(0x1ff)])){const _0x3e3c30=_0x1758b9[_0x53e4d9(0x1cf)]['prototype'][_0x53e4d9(0x1a1)](_0x1758b9),_0x49a3a4=_0x15c0b6[_0x1b83c3],_0x4e22ac=_0x1e26bc[_0x49a3a4]||_0x3e3c30;_0x3e3c30[_0x53e4d9(0x1ca)]=_0x1758b9[_0x53e4d9(0x1a1)](_0x1758b9),_0x3e3c30[_0x53e4d9(0x202)]=_0x4e22ac[_0x53e4d9(0x202)]['bind'](_0x4e22ac),_0x1e26bc[_0x49a3a4]=_0x3e3c30;}else _0x3ea16e[_0x53e4d9(0x12d)](_0x5ca715),_0xb4d0c4[_0x53e4d9(0x123)](_0x438ea5['stringify']({'isSave':!0x1,'class':_0x7a322e[_0x53e4d9(0x1f4)],'msg':_0x3c403b[_0x53e4d9(0x11d)]}));}});_0x247c56();import _0x317a13 from'express';const p=_0x317a13['Router']();import{MongoClient as _0x26e5d6}from'mongodb';const b=await import('../'+mymoduleFolder+_0x5c7b2f(0x1db)),O=await import(_0x5c7b2f(0x1aa)+mymoduleFolder+_0x5c7b2f(0x181)),_=await import(_0x5c7b2f(0x1aa)+mymoduleFolder+_0x5c7b2f(0x127)),$=await import(_0x5c7b2f(0x1aa)+mymoduleFolder+_0x5c7b2f(0x1af));function _0x4fee(_0x436c91,_0x4b6419){const _0x3f0bae=_0x5a34();return _0x4fee=function(_0x247c56,_0x1758b9){_0x247c56=_0x247c56-0xf6;let _0x5be9a2=_0x3f0bae[_0x247c56];return _0x5be9a2;},_0x4fee(_0x436c91,_0x4b6419);}import _0x195b28 from'../middleware/mainAuth.js';const i=_0x5c7b2f(0x1a0),A=i+_0x5c7b2f(0x1fb),E=i+_0x5c7b2f(0x1bc),P=i+_0x5c7b2f(0x15f),H=i+_0x5c7b2f(0x180),v=i+'/status',J=i+'/print',M=i['replace'](/\//g,'_'),B='/fetch/modal',D=global[_0x5c7b2f(0x153)],j=global[_0x5c7b2f(0x1b5)],G=_0x5c7b2f(0xf9),Q=global[_0x5c7b2f(0x206)];p[_0x5c7b2f(0x120)](i,_0x195b28[_0x5c7b2f(0x167)],async(_0x42c5cf,_0x24dd53)=>{const _0x2adddd=_0x5c7b2f,_0x34b63f={'RRLXr':_0x2adddd(0x1bd),'Xlgzs':_0x2adddd(0x1ef),'fFrly':function(_0x268a40,_0x34e5c4){return _0x268a40!==_0x34e5c4;},'LGVKw':_0x2adddd(0x193),'ponvI':_0x2adddd(0x186),'yqWLh':_0x2adddd(0x158),'fTiya':_0x2adddd(0x1e3),'cupBJ':function(_0x24e52a,_0x31c7ba){return _0x24e52a===_0x31c7ba;},'ZyQRT':_0x2adddd(0x17e),'GzTyc':_0x2adddd(0x14f)},{docId:_0x1a4315,sip:_0x31637a}=_0x42c5cf[_0x2adddd(0x1e7)];try{if(_0x34b63f[_0x2adddd(0x11c)](_0x34b63f['LGVKw'],_0x34b63f[_0x2adddd(0x1b9)])){const {dataSettings:_0x3995e1}=await b[_0x2adddd(0x199)](),{dataSettings:_0x2dc90d}=await b[_0x2adddd(0x1d8)](j),_0x3a11c0=_[_0x2adddd(0x201)](_0x42c5cf),_0x5277bc=await b[_0x2adddd(0x114)](G,_0x24dd53,{'title':PAGE_BILL,'time':O[_0x2adddd(0x174)](),'msg':_0x42c5cf[_0x2adddd(0x175)](_0x34b63f['yqWLh']),'userFlash':_0x42c5cf[_0x2adddd(0x175)](_0x34b63f['fTiya']),'user':_0x3a11c0,'logoSrc_base64':b[_0x2adddd(0x1ba)](global[_0x2adddd(0x206)]),'dataSettings':_0x3995e1,..._0x2dc90d,'COLL_NAME':D,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_FETCH':B,'PATH_SAVE':A,'PATH_LOAD':P,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':E,'PREFIX':M,'DOC_STATUS':JSON[_0x2adddd(0x141)](global['DOC_STATUS']),'DOC_ID':_0x1a4315,'SIP':_0x31637a});_0x24dd53[_0x2adddd(0x123)](_0x5277bc);}else return _0x2e12ea;}catch(_0x579b55){if(_0x34b63f['cupBJ'](_0x34b63f[_0x2adddd(0x165)],_0x34b63f['GzTyc']))return function(_0x2356ff){}[_0x2adddd(0x1cf)](BOaTtJ[_0x2adddd(0x19c)])[_0x2adddd(0x191)](BOaTtJ[_0x2adddd(0x1fc)]);else console[_0x2adddd(0x12d)](_0x579b55),_0x24dd53['status'](0x194)['sendFile'](file404);}}),p[_0x5c7b2f(0x1c2)](A,_0x195b28[_0x5c7b2f(0x167)],async(_0x76183c,_0x12272f)=>{const _0x9e592b=_0x5c7b2f,_0x291e8b={'AOIow':function(_0x378543,_0x1bbaf1){return _0x378543(_0x1bbaf1);},'bTqQm':function(_0x3e3189,_0x35f52e){return _0x3e3189===_0x35f52e;},'mCjgw':_0x9e592b(0x112),'jBzrG':function(_0x1bff00,_0x48a5eb){return _0x1bff00===_0x48a5eb;},'uEVFI':function(_0xbbe98d,_0x4bc80f){return _0xbbe98d!==_0x4bc80f;},'ARaXH':_0x9e592b(0x1b1),'RClDi':function(_0x2f9f3e,_0x22a386,_0x5df9d8){return _0x2f9f3e(_0x22a386,_0x5df9d8);},'DIpvP':function(_0x571403){return _0x571403();},'TKVsS':function(_0x2328e5,_0x1e7fae){return _0x2328e5+_0x1e7fae;},'iGBcy':function(_0x1b3c27,_0x35002e){return _0x1b3c27+_0x35002e;},'AzNbT':_0x9e592b(0x10c),'gcHIO':_0x9e592b(0x148),'LcQNf':function(_0x541a19,_0x892430){return _0x541a19(_0x892430);},'ypAjT':function(_0x59e161){return _0x59e161();},'VouhH':function(_0x247e91,_0x4e10b7){return _0x247e91(_0x4e10b7);},'ZGzzg':_0x9e592b(0x16f),'slafe':_0x9e592b(0x132),'IGwsM':function(_0x4d2556,_0x265a1e){return _0x4d2556(_0x265a1e);},'uZeKr':function(_0x47424d,_0x5e7288){return _0x47424d&&_0x5e7288;},'iezlN':function(_0x2b95eb,_0x2313bf){return _0x2b95eb===_0x2313bf;},'eJBIc':_0x9e592b(0x130),'oRbAW':'BRzIP','anAov':function(_0x466613,_0x1d5166){return _0x466613+_0x1d5166;},'XMyyL':function(_0x4968a9,_0x3c7951){return _0x4968a9>_0x3c7951;},'OOTAM':_0x9e592b(0x1a4),'RCWYI':function(_0x18739d,_0xf11c9f){return _0x18739d(_0xf11c9f);},'EPuZs':function(_0x32eb9b,_0x1e34d7){return _0x32eb9b(_0x1e34d7);},'BkCMV':'green','KomFA':function(_0x2ef616,_0x46dafa){return _0x2ef616==_0x46dafa;},'DlMLe':'ZlIgC','MvIei':'QxKaD','cYJEM':'red','blsIU':_0x9e592b(0x14d),'Cqqlr':_0x9e592b(0x115),'wiovO':_0x9e592b(0x154),'NkBDF':function(_0xeb2c09,_0x4a178d){return _0xeb2c09<_0x4a178d;},'ENdGA':'yellow','qnaVE':function(_0x59bac5,_0x14ea2d){return _0x59bac5==_0x14ea2d;},'spfRh':function(_0x48ad2f,_0x5c1222){return _0x48ad2f===_0x5c1222;},'wSGLa':_0x9e592b(0x117),'monQy':_0x9e592b(0x11e),'yywOj':function(_0x42d198,_0x1bbff9){return _0x42d198==_0x1bbff9;},'mJHhB':_0x9e592b(0x1f3),'dBpBi':_0x9e592b(0x13e),'sHZar':_0x9e592b(0x200)},_0x48f84a=[];let _0x599fa6=!0x1;const _0x5c566c=async()=>{const _0x2c1927=_0x9e592b,_0x8ba39={'MVqIT':function(_0x13165c,_0x59bfeb){const _0x44e8f0=_0x4fee;return _0x291e8b[_0x44e8f0(0x1f0)](_0x13165c,_0x59bfeb);}};if(_0x291e8b['bTqQm'](_0x291e8b[_0x2c1927(0x1c1)],_0x291e8b[_0x2c1927(0x1c1)])){if(_0x291e8b[_0x2c1927(0x104)](_0x48f84a[_0x2c1927(0x116)],0x0)){if(_0x291e8b[_0x2c1927(0x101)](_0x291e8b[_0x2c1927(0x135)],_0x291e8b['ARaXH']))_0x4a9ab6=_0x218bc1;else{_0x599fa6=!0x1;return;}}_0x599fa6=!0x0;const {req:_0x484ce9,res:_0x3cc171}=_0x48f84a[_0x2c1927(0x1f2)]();await _0x291e8b[_0x2c1927(0x156)](_0x39675b,_0x484ce9,_0x3cc171),_0x291e8b[_0x2c1927(0x15c)](_0x5c566c);}else{if(_0x5c65d9)return _0x140bf3;else zpTuRD['MVqIT'](_0x526a8e,0x0);}},_0x39675b=async(_0x23555e,_0x1e3322)=>{const _0x5d4681=_0x9e592b;if(_0x291e8b[_0x5d4681(0x101)](_0x291e8b['ZGzzg'],_0x291e8b[_0x5d4681(0x17d)]))return![];else{const _0x1df10c=new _0x26e5d6(global['dbUrl']);try{if(_0x291e8b[_0x5d4681(0x101)](_0x291e8b['slafe'],_0x291e8b[_0x5d4681(0x150)])){const _0x5c66bc=_0x62b80f['constructor'][_0x5d4681(0x18e)][_0x5d4681(0x1a1)](_0x3c1759),_0x4026e4=_0x24e614[_0x5cebf4],_0x17bd21=_0x3346ac[_0x4026e4]||_0x5c66bc;_0x5c66bc['__proto__']=_0x3ee03c['bind'](_0x153a0e),_0x5c66bc[_0x5d4681(0x202)]=_0x17bd21['toString'][_0x5d4681(0x1a1)](_0x17bd21),_0x56b9bb[_0x4026e4]=_0x5c66bc;}else{let {userId:_0x1b5931,userFullname:_0xca9d19}=_[_0x5d4681(0x1d2)](_0x23555e);_0x1b5931=_0x1b5931&&_0x291e8b[_0x5d4681(0x1a3)](Number,_0x1b5931),_0x23555e['body']=$[_0x5d4681(0x194)](_0x23555e[_0x5d4681(0x189)]);const _0x3baeee=_0x1df10c['db'](global[_0x5d4681(0x1ee)])[_0x5d4681(0x1bf)](D),_0x531e7d=_0x23555e[_0x5d4681(0x189)][_0x5d4681(0x100)],_0x23389c=_0x23555e['body'][_0x5d4681(0x14a)]?_0x23555e[_0x5d4681(0x189)][_0x5d4681(0x14a)]:null;if(_0x291e8b[_0x5d4681(0x20b)](!_0x531e7d,!_0x23389c)){if(_0x291e8b[_0x5d4681(0x1ac)](_0x291e8b[_0x5d4681(0x1ad)],_0x291e8b[_0x5d4681(0x140)])){let _0x2c1325;try{_0x2c1325=vMZYRu[_0x5d4681(0x1f0)](_0x14c09f,vMZYRu['TKVsS'](vMZYRu[_0x5d4681(0x1c4)](vMZYRu['AzNbT'],vMZYRu[_0x5d4681(0x106)]),');'))();}catch(_0xfb3c56){_0x2c1325=_0x483afa;}return _0x2c1325;}else{const _0x15645b=await _0x3baeee[_0x5d4681(0x19f)]()[_0x5d4681(0x1fd)]({'_id':-0x1})[_0x5d4681(0x168)](0x1)['toArray'](),_0x33f0fe=new Date()[_0x5d4681(0x20d)]()['toString']()[_0x5d4681(0x1df)](-0x2),_0x588976=_0x291e8b[_0x5d4681(0x131)](new Date()[_0x5d4681(0x161)](),0x1)[_0x5d4681(0x202)]()['padStart'](0x2,'0'),_0x46509d='B';let _0x4611b2=''+_0x46509d+_0x33f0fe+'/'+_0x588976+_0x5d4681(0x1fe);if(_0x291e8b[_0x5d4681(0x10d)](_0x15645b[_0x5d4681(0x116)],0x0)){if(_0x291e8b[_0x5d4681(0xfc)](_0x291e8b[_0x5d4681(0x20a)],_0x291e8b[_0x5d4681(0x20a)])){const _0x2d579a=_0x15645b[0x0][_0x5d4681(0x14a)][_0x5d4681(0x16d)]('/'),_0x33312e=_0x291e8b[_0x5d4681(0x1e6)](Number,_0x2d579a[0x1][_0x5d4681(0x16d)]('-')[0x1]);_0x4611b2=''+_0x46509d+_0x33f0fe+'/'+_0x588976+'-'+_0x291e8b[_0x5d4681(0x12a)](String,_0x291e8b['iGBcy'](_0x33312e,0x1))[_0x5d4681(0x147)](0x5,'0');}else{const _0x34c53e=_0x6e9b46[_0x5d4681(0x191)](_0x5b8187,arguments);return _0x29f464=null,_0x34c53e;}}_0x23555e[_0x5d4681(0x189)]['docId']=_0x4611b2,_0x23555e[_0x5d4681(0x189)][_0x5d4681(0x100)]=0x1,await _0x3baeee[_0x5d4681(0x1c9)](_0x23555e['body']),_0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'isSave':!0x0,'class':_0x291e8b[_0x5d4681(0x192)],'msg':_0x5d4681(0x19b)+_0x4611b2+_0x5d4681(0x176),'docId':_0x4611b2,'docStatusNumber':0x1}));}}else{if(_0x291e8b[_0x5d4681(0x13f)](_0x531e7d,0x1)&&_0x23389c){if(_0x291e8b[_0x5d4681(0xfc)](_0x291e8b['DlMLe'],_0x291e8b[_0x5d4681(0x128)]))_0x25cb45[_0x5d4681(0x1e9)]();else{const _0x4eed24=await _0x3baeee['findOne']({'docId':_0x23389c,'proposerId':_0x1b5931});if(!_0x4eed24)return _0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1b8)],'msg':_0x291e8b['blsIU']}));const _0x58103e=await _0x3baeee[_0x5d4681(0x1cd)]({'docId':_0x23389c,'proposerId':_0x1b5931},{'$set':_0x23555e[_0x5d4681(0x189)]});if(_0x291e8b[_0x5d4681(0x10d)](_0x58103e['modifiedCount'],0x0)){if(_0x291e8b['uEVFI'](_0x291e8b[_0x5d4681(0x1e1)],_0x291e8b[_0x5d4681(0x1e1)])){_0x32cf8c=!0x1;return;}else{const _0x1bbb1a=$[_0x5d4681(0x188)](_0x4eed24,_0x23555e['body']);if(_0x291e8b[_0x5d4681(0x10d)](_0x1bbb1a[_0x5d4681(0x116)],0x0)){if(_0x291e8b[_0x5d4681(0xfc)](_0x291e8b[_0x5d4681(0x1ed)],_0x291e8b['wiovO'])){const _0x2d1e1e={'dateTime':O['getDateTime'](),'userId':_0x1b5931,'userFullname':_0xca9d19,'changes':_0x1bbb1a};return await _0x3baeee[_0x5d4681(0x1cd)]({'docId':_0x23389c},{'$push':{'changesHistory':{'$each':[_0x2d1e1e],'$position':0x0}}}),_0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'docId':_0x23389c,'docStatusNumber':_0x531e7d,'isSave':!0x0,'class':_0x291e8b[_0x5d4681(0x192)],'msg':_0x5d4681(0x164)+_0x23389c+_0x5d4681(0x138)}));}else vMZYRu[_0x5d4681(0x20c)](_0x128460,'0');}else return _0x1e3322['send'](JSON[_0x5d4681(0x141)]({'docId':_0x23389c,'docStatusNumber':_0x531e7d,'isSave':!0x0,'class':_0x291e8b[_0x5d4681(0x192)],'msg':_0x5d4681(0x164)+_0x23389c+_0x5d4681(0x176)}));}}else{if(_0x58103e[_0x5d4681(0x1c0)]&&_0x291e8b[_0x5d4681(0x133)](_0x58103e[_0x5d4681(0x1f8)],0x1))return _0x1e3322['send'](JSON[_0x5d4681(0x141)]({'docId':_0x23389c,'docStatusNumber':_0x531e7d,'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1c7)],'msg':'\x22'+_0x23389c+_0x5d4681(0x157)}));}}}else{if(_0x291e8b[_0x5d4681(0x170)](_0x531e7d,0x2)&&_0x23389c){if(_0x291e8b[_0x5d4681(0x1ce)](_0x291e8b[_0x5d4681(0x1f1)],_0x291e8b[_0x5d4681(0x1eb)])){const _0x58b817=_0x72474f?function(){const _0x565287=_0x5d4681;if(_0x4c5870){const _0x5a932a=_0x385e74[_0x565287(0x191)](_0x2b0526,arguments);return _0x2c0219=null,_0x5a932a;}}:function(){};return _0x5a8f33=![],_0x58b817;}else{if(!await _0x3baeee[_0x5d4681(0x1c5)]({'docId':_0x23389c,'proposerId':_0x1b5931}))return _0x1e3322['send'](JSON[_0x5d4681(0x141)]({'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1b8)],'msg':_0x291e8b[_0x5d4681(0x11b)]}));const _0x5a9f10=await _0x3baeee[_0x5d4681(0x1cd)]({'docId':_0x23389c,'proposerId':_0x1b5931},{'$set':{'selectProposerSignature':_0x23555e[_0x5d4681(0x189)][_0x5d4681(0x137)]}});if(_0x291e8b['XMyyL'](_0x5a9f10['modifiedCount'],0x0))return _0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'docId':_0x23389c,'docStatusNumber':_0x531e7d,'isSave':!0x0,'class':_0x291e8b[_0x5d4681(0x192)],'msg':_0x5d4681(0x164)+_0x23389c+'\x20เรียบร้อยแล้ว'}));if(_0x5a9f10[_0x5d4681(0x1c0)]&&_0x291e8b[_0x5d4681(0x133)](_0x5a9f10[_0x5d4681(0x1f8)],0x1))return _0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'docId':_0x23389c,'docStatusNumber':_0x531e7d,'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1c7)],'msg':'\x22'+_0x23389c+_0x5d4681(0x157)}));}}else return _0x291e8b[_0x5d4681(0x1d9)](_0x531e7d,0xa)?_0x1e3322[_0x5d4681(0x123)](JSON[_0x5d4681(0x141)]({'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1b8)],'msg':'ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20'+_0x531e7d+'\x20ได้'})):_0x1e3322['send'](JSON[_0x5d4681(0x141)]({'isSave':!0x1,'class':_0x291e8b[_0x5d4681(0x1b8)],'msg':_0x291e8b['mJHhB']}));}}}}catch(_0x477ca4){_0x291e8b[_0x5d4681(0x104)](_0x291e8b[_0x5d4681(0x1f7)],_0x291e8b['dBpBi'])?(console[_0x5d4681(0x12d)](_0x477ca4),_0x1e3322[_0x5d4681(0x123)](JSON['stringify']({'isSave':!0x1,'class':_0x291e8b['cYJEM'],'msg':_0x477ca4[_0x5d4681(0x11d)]}))):vMZYRu['ypAjT'](_0x3a9a10);}finally{_0x291e8b['uEVFI'](_0x291e8b[_0x5d4681(0x155)],_0x291e8b[_0x5d4681(0x155)])?vMZYRu[_0x5d4681(0x1e2)](_0x598c63,0x0):_0x1df10c[_0x5d4681(0x1e9)]();}}};_0x48f84a[_0x9e592b(0x1e8)]({'req':_0x76183c,'res':_0x12272f}),_0x599fa6||_0x291e8b[_0x9e592b(0x105)](_0x5c566c);});export default p;function _0x24a214(_0x3bd2e9){const _0x2f2292=_0x5c7b2f,_0x595c05={'VbxDF':function(_0xef724b,_0x27871c){return _0xef724b===_0x27871c;},'UgUQc':_0x2f2292(0x190),'dlkSr':_0x2f2292(0x1bd),'GTaIA':_0x2f2292(0x1ef),'jmOws':function(_0x195da9,_0x48183d){return _0x195da9!==_0x48183d;},'ipcel':function(_0x471a44,_0x490633){return _0x471a44+_0x490633;},'zzUQl':function(_0x589bc2,_0x5d017e){return _0x589bc2/_0x5d017e;},'JFEhY':_0x2f2292(0x116),'BbKZl':function(_0x208f50,_0xcf366c){return _0x208f50===_0xcf366c;},'JuvxQ':function(_0x584660,_0x363998){return _0x584660%_0x363998;},'oSGRq':_0x2f2292(0x1d7),'DuGud':'gger','BYrcj':_0x2f2292(0x129),'ieoCG':function(_0x1538a2,_0x3c8a11){return _0x1538a2+_0x3c8a11;},'mgljW':_0x2f2292(0x1ec),'SrLoL':function(_0x4f8b8f,_0x3dbaea){return _0x4f8b8f(_0x3dbaea);}};function _0x2f2175(_0x9d42f){const _0x2871e4=_0x2f2292;if(_0x595c05[_0x2871e4(0xf8)](typeof _0x9d42f,_0x595c05['UgUQc']))return function(_0x51a9d1){}[_0x2871e4(0x1cf)](_0x595c05[_0x2871e4(0x19d)])['apply'](_0x595c05[_0x2871e4(0x143)]);else _0x595c05[_0x2871e4(0xf6)](_0x595c05[_0x2871e4(0x14e)]('',_0x595c05[_0x2871e4(0x18b)](_0x9d42f,_0x9d42f))[_0x595c05[_0x2871e4(0x17f)]],0x1)||_0x595c05[_0x2871e4(0x177)](_0x595c05[_0x2871e4(0x1c3)](_0x9d42f,0x14),0x0)?function(){return!![];}['constructor'](_0x595c05['ipcel'](_0x595c05['oSGRq'],_0x595c05['DuGud']))[_0x2871e4(0x149)](_0x595c05['BYrcj']):function(){return![];}[_0x2871e4(0x1cf)](_0x595c05['ieoCG'](_0x595c05[_0x2871e4(0x205)],_0x595c05[_0x2871e4(0x1d1)]))[_0x2871e4(0x191)](_0x595c05[_0x2871e4(0x169)]);_0x595c05[_0x2871e4(0x1bb)](_0x2f2175,++_0x9d42f);}try{if(_0x3bd2e9)return _0x2f2175;else _0x595c05[_0x2f2292(0x1bb)](_0x2f2175,0x0);}catch(_0x2c24fa){}}