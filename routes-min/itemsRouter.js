const _0x353580=_0xeab1;function _0x1d9e(){const _0x334d15=['categoryName','loadId','mkdir','dcBTr','dbUrl','bSTKA','IslsH','originalname','XwqhB','DXlkG','STjCV','newDateTimeLocal','SulKs','fOTNz','ChkUt','jvDWs','join','get','end','sis','qVWdV','chain','hQiZp','Luvpv','close','aycFi','FIDOH','JZyhP','vZtVk','cvQyj','readFile','qjPjx','exYGz','CbQyQ','vJawh','itemImageDataUrl','log','CYOxQ','gTcMk','ImZQY','dRorp','nuTae','aKtIk','ไอดีไม่ถูกต้อง','iOVpz','/save','64FXabbt','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','OBzHj','vzhGI','MykWf','xuQPr','nTyfD','swtbH','YwaEe','toFile','qsltR','KOdSh','ulAIU','6222522VKPjkN','stateObject','njnbw','WHidl','QwbpC','itemName','OkDRd','aXXjb','EbVfJ','edmts','TsUHa','dbColl_bill','WlYbt','Zbwkt','LaNmF','path','Cmegc','body','zQDMM','vxkLB','xcgBf','kqmIl','ZmvXa','DKNym','error','VkKtO','deleteOne','HoQWp','oQCvQ','LKyfj','wYQkP','zItJM','dcDFr','ลบข้อมูลได้\x20แต่ลบภาพไม่ได้','../','uCixt','Rnlro','test','utf8','BFOhF','ltHLW','80pZTTMg','ceil','EHLRK','cdKoZ','categoryId','RwqNp','&scid=','TBPiD','wwVIB','ไม่พบ\x20\x22','gIcSB','collection','qfSBU','YyhRd','ydeWT','stringify','1169762TgUAiz','FLfLp','hlJWk','uygvQ','pexLI','mRgKk','/myDateTime.js','render','nowLocal','FFwfY','BtDDh','Error\x20renaming\x20temp\x20file:','while\x20(true)\x20{}','luPym','\x20ไอเท็มเรียบร้อยแล้ว','oqUfW','uTFWl','basename','apply','UuCqT','nfLha','VXTyg','3223akdpoS','xxNQu','เกิดข้อผิดพลาดขณะลบ\x20\x22','uzERa','DikZV','MRkaO','qAwNE','DfGLy','dbColl_invoice','BozyG','jSPgJ','YVssV','DWTDd','HDBDR','tETAX','getDate','hOwtv','EqUVd','gger','ไอเท็ม','cYlGe','GAGUd','pFUkQ','iBubb','24760EgtgMg','findOne','NqkzM','dkcYr','jiyMJ','hwRUg','find','function\x20*\x5c(\x20*\x5c)','YhZUF','VGvUC','QhoVJ','iqLiU','sJPnJ','dOFjJ','application/octet-stream','fSLGb','flash','UrONl','Cvytw','table','redirect','vVTyl','hvZZz','Error\x20reading\x20image:','MPrqY','Not\x20Found','niCNq','hamWq','msg','IaHfi','PHjmp','NTHLP','toArray','kApcM','355158IrNeLo','12444692NePiHw','.png','WtnxB','length','exception','limit','/view','QDRMN','zooHG','3wObFpa','pRJOX','plMYV','QXYJH','afgiW','ioMVM','tnDss','sort','HsBYv','post','print_items.ejs','AHali','IeJMm','ไม่มีข้อมูลที่จะพิมพ์','288024cYIsMZ','iVjjq','XudUs','TsQEE','Bobuv','insertOne','yFaMU','constructor','getSettings','ujFXG','zqpFf','NdNic','\x22\x20เรียบร้อยแล้ว','/:filename','matchedCount','VgTkh','getDateTime','MFRCw','map','JXSUp','OPXJY','isAuth','replace','DVeUX','mjfKA','base64','withMetadata','ไอเท็ม\x20\x22','lJVhR','NEXTE','jjiNM','WtkdV','uNlOe','\x22\x20มีอยู่ในเอกสาร\x20','azmCy','XNYom','send','LDLbK','IjxdU','DdVdh','kBgqL','arGtN','uxzqz','&loadId=','/myModule.js','DwLoA','&sis=','string','renderView','vHdYr','status','FETYg','vVkom','zGeyk','FoFPC','dirname','itemUnit','info','input','รหัสไอเทมต้องเป็นตัวอักษร\x205\x20ตัวขึ้นไป','.jpeg','OBUgx','JdPFz','Kayov','JUjfN','toString','fKIvc','Upload\x20error:\x20','fWKqF','gcsxi','FOBkI','ByQBS','hifgY','YfCtj','OdMZn','IiGDi','GzGtj','hUbsD','zWPjo','file','diskStorage','hflSN','wtfxL','DQNKM','counter','FdWaH','sip','rpp','__proto__','GbUef','jxQyF','GycTi','single','Oozwt','CEBor','GIVyY','page','action','vYrjq','deletedCount','rDQeR','HgNpa','SZHAC','HWqSH','LkcIy','hABby','data:','HHuVe','rXTtH','Only\x20.jpg,\x20.jpeg,\x20and\x20.png\x20files\x20are\x20allowed!','oShlo','image/png','pdrLN','includes','WPTnm','nBfda','error\x20===>\x20','TRgCy','bUxIE','init','aabou','dbColl_quotation','gmHLB','GfiGy','MGJUN','Zoena','ICndQ','LyJMW','tAIpv','XnmxE','CCnCA','toISOString','sAIQZ','promises','cImEb','/myUsers.js','bxknt','vJHuM','qjDZF','&page=','เกิดข้อผิดพลาดในการดึงรูปภาพ','เพิ่ม\x20\x22','.jpg','slice','Warning:\x20Could\x20not\x20delete\x20original\x20file:','return\x20(function()\x20','Sxvqv','SbfWP','itemStatus','YGbrd','$itemId','items','อัปเดต\x20\x22','sEtvy','&rpp=','TrUXc','mkolp','image/jpeg','Could\x20not\x20clean\x20up\x20temp\x20file:','yXwHv','ลบ\x20\x22','{}.constructor(\x22return\x20this\x22)(\x20)','zhfab','Lqigo','MulterError','KOXbw','qgvns','minute','cZYFA','GTtMP','XZOlw','EkCon','jgVwi','pWubh','CdWez','categoryNew','lslFN','QgNbv','$dateTimeCanDelete','itemImage','7cEdKzj','Error\x20reading\x20image\x20file:','EBPjS','NlOgj','query','sPEMF','dbColl_items','gXlfY','upbWI','pRIdL','XFqDH','VFzmi','mdzoc','oCigF','KuBcP','fhwXT','IpbDj','duhos','HRCIs','24lIUsPH','PtBNf','flkIH','UxvTo','JvoUR','utdiq','console','sZFyq','aggregate','sendFile','hzLJD','jSzEa','wXWXR','wXunX','getSessionData','dbColl_itemsCategories','Print\x20','/print','vhkFR','mqvYq','Xtklx','elRGF','dephc','/load','wUdzy','connect','cTroy','MHtqQ','dlgqF','message','ujNtK','owEuU','yiayy','fRgUV','FMlJY','cDfSV','itemPrice','dbName','JoqId','jvtsO','setDate','bind','debu','countDocuments','JThBY','ARqkH','active','kDIyW','mOEnl','NraHG','pehng','scid','call','CclbE','toLowerCase','RwtLE','mlrjG','uzzVO','?sip=','trace','{{sep}}ไม่สามารถลบได้','writeHead','ABIXr','IXhwM','jpeg','resize','ulbYx','BGfjf','LKEUf','ucGqG','prototype','dmHrj','uGvxm','dmBFx','gChzr','CgkXr','green','nCZHJ','ISoYC','PVJuy','riNTP','GxMBE','gGVIE','LMgmn','kSQSY','eiBdI','filename','tFdmr','unlink','LkoYu','warn','KEEQU','unshift','updateOne','IOPzh','zBDHN','itemIdToDelete','pNcMF','NKbor','1083951vbuNEC','rrpBb','lZPCh','EzZFD','vCcGG','bIhiG','red','fKtMJ','GPYrX','EtIGT','itemId','ZPayc','CjEuk','extname','QJHAG'];_0x1d9e=function(){return _0x334d15;};return _0x1d9e();}(function(_0x3cdeae,_0x3e089d){const _0x43b17f=_0xeab1,_0x4acc3e=_0x3cdeae();while(!![]){try{const _0x519cb1=-parseInt(_0x43b17f(0x2e0))/0x1+-parseInt(_0x43b17f(0x290))/0x2*(parseInt(_0x43b17f(0x2ea))/0x3)+parseInt(_0x43b17f(0x2f8))/0x4*(-parseInt(_0x43b17f(0x280))/0x5)+-parseInt(_0x43b17f(0x257))/0x6*(-parseInt(_0x43b17f(0x3ac))/0x7)+-parseInt(_0x43b17f(0x24a))/0x8*(parseInt(_0x43b17f(0x20d))/0x9)+-parseInt(_0x43b17f(0x2be))/0xa*(-parseInt(_0x43b17f(0x2a6))/0xb)+parseInt(_0x43b17f(0x3bf))/0xc*(parseInt(_0x43b17f(0x2e1))/0xd);if(_0x519cb1===_0x3e089d)break;else _0x4acc3e['push'](_0x4acc3e['shift']());}catch(_0xb56154){_0x4acc3e['push'](_0x4acc3e['shift']());}}}(_0x1d9e,0x97ba4));const _0x4cc63d=(function(){const _0x2ec0c5=_0xeab1,_0x348fe2={'mjfKA':function(_0x2cff3d,_0x57efe8){return _0x2cff3d===_0x57efe8;},'FETYg':_0x2ec0c5(0x26b),'sZFyq':_0x2ec0c5(0x2ca),'upbWI':'SjlEx','CUJPc':'CWKuy','zqpFf':_0x2ec0c5(0x1c2)};let _0x408924=!![];return function(_0x247654,_0x419771){const _0x748b30=_0x2ec0c5,_0x518e83={'wtfxL':function(_0x558e48,_0x2c5ce5){return _0x348fe2['mjfKA'](_0x558e48,_0x2c5ce5);},'ulbYx':_0x348fe2[_0x748b30(0x32b)],'klgFm':_0x348fe2[_0x748b30(0x3c6)],'HHuVe':_0x348fe2[_0x748b30(0x3b4)]};if(_0x348fe2[_0x748b30(0x310)](_0x348fe2['CUJPc'],_0x348fe2[_0x748b30(0x302)]))return _0x3fbb77;else{const _0x3c1c12=_0x408924?function(){const _0x30c8b3=_0x748b30;if(_0x518e83[_0x30c8b3(0x34a)](_0x518e83[_0x30c8b3(0x1ec)],_0x518e83['klgFm']))_0x204c05[_0x30c8b3(0x240)](_0x269046),_0x549225['sendFile'](_0x25d06a);else{if(_0x419771){if(_0x518e83[_0x30c8b3(0x34a)](_0x518e83[_0x30c8b3(0x363)],_0x518e83['HHuVe'])){const _0x14c4b8=_0x419771['apply'](_0x247654,arguments);return _0x419771=null,_0x14c4b8;}else return![];}}}:function(){};return _0x408924=![],_0x3c1c12;}};}());(function(){const _0x36775a=_0xeab1,_0x42bd4={'eiBdI':function(_0x17733f,_0x5daee9){return _0x17733f>_0x5daee9;},'kDIyW':function(_0x4b8a21,_0x23435c){return _0x4b8a21!==_0x23435c;},'DLmAc':_0x36775a(0x2b3),'ZPayc':'htYRY','GycTi':_0x36775a(0x2c5),'hflSN':_0x36775a(0x24b),'XFqDH':function(_0xbf51b1,_0x3bf439){return _0xbf51b1(_0x3bf439);},'iqLiU':_0x36775a(0x36f),'YwaEe':function(_0x5c3d69,_0x50dc2c){return _0x5c3d69+_0x50dc2c;},'dcBTr':_0x36775a(0x231),'fhwXT':function(_0x243b17,_0x39f453){return _0x243b17+_0x39f453;},'pCGvH':_0x36775a(0x332),'IOPzh':function(_0x334f44,_0x352f6d){return _0x334f44!==_0x352f6d;},'vVkom':_0x36775a(0x265),'ITMgb':function(_0x58aee2,_0x48345c){return _0x58aee2(_0x48345c);},'PHjmp':function(_0x3c384d,_0x4035c4){return _0x3c384d!==_0x4035c4;},'UuCqT':_0x36775a(0x351),'ulAIU':_0x36775a(0x3a3),'kSQSY':function(_0x511f07){return _0x511f07();},'KOdSh':function(_0xa3b72c,_0x141392,_0xb517e9){return _0xa3b72c(_0x141392,_0xb517e9);}};_0x42bd4[_0x36775a(0x255)](_0x4cc63d,this,function(){const _0x451b19=_0x36775a;if(_0x42bd4[_0x451b19(0x1d9)](_0x42bd4['DLmAc'],_0x42bd4[_0x451b19(0x218)])){const _0x3fc4e5=new RegExp(_0x42bd4[_0x451b19(0x353)]),_0x2ce13a=new RegExp(_0x42bd4[_0x451b19(0x349)],'i'),_0x2bf9f7=_0x42bd4[_0x451b19(0x3b6)](_0x233a75,_0x42bd4[_0x451b19(0x2c9)]);if(!_0x3fc4e5[_0x451b19(0x27c)](_0x42bd4[_0x451b19(0x252)](_0x2bf9f7,_0x42bd4[_0x451b19(0x21f)]))||!_0x2ce13a['test'](_0x42bd4[_0x451b19(0x3bb)](_0x2bf9f7,_0x42bd4['pCGvH']))){if(_0x42bd4[_0x451b19(0x208)](_0x42bd4[_0x451b19(0x32c)],_0x42bd4['vVkom'])){const _0x275843=_0x61b577[_0x451b19(0x2a2)](_0x1ff29a,arguments);return _0xd283c7=null,_0x275843;}else _0x42bd4['ITMgb'](_0x2bf9f7,'0');}else{if(_0x42bd4[_0x451b19(0x2dc)](_0x42bd4[_0x451b19(0x2a3)],_0x42bd4[_0x451b19(0x256)]))_0x42bd4[_0x451b19(0x1fe)](_0x233a75);else{var _0x3a760b=0x0;_0xcebd5=_0x42bd4[_0x451b19(0x1ff)](_0x6774c1,0x0)?0x1:0x0;}}}else _0x4abcae[_0x451b19(0x234)]();})();}());const _0x18c680=(function(){const _0x19669b=_0xeab1,_0x2b94e8={'dmHrj':'Error\x20reading\x20image:','nuTae':_0x19669b(0x384),'rnQcl':_0x19669b(0x2cc),'dlgqF':function(_0xe60244,_0xfe1ffc){return _0xe60244(_0xfe1ffc);},'nfLha':_0x19669b(0x247),'vHdYr':function(_0x276c53,_0x27b4fb,_0x285801){return _0x276c53(_0x27b4fb,_0x285801);},'OzVKQ':function(_0x3674df,_0x32c012){return _0x3674df!==_0x32c012;},'MykWf':_0x19669b(0x3ae),'gTcMk':_0x19669b(0x201),'YfCtj':function(_0x20542e,_0x3f5fca){return _0x20542e===_0x3f5fca;},'VkKtO':'XuLEs','crTdn':_0x19669b(0x20b),'zWPjo':_0x19669b(0x395),'tnDss':'image/png','YhZUF':_0x19669b(0x32d)};let _0x1e732c=!![];return function(_0x5d44fb,_0x28ee77){const _0x2771bb=_0x19669b,_0x5138a3={'jvDWs':_0x2b94e8[_0x2771bb(0x346)],'MRkaO':_0x2b94e8[_0x2771bb(0x2f0)]};if(_0x2b94e8[_0x2771bb(0x341)](_0x2b94e8[_0x2771bb(0x2c6)],_0x2b94e8[_0x2771bb(0x2c6)])){const _0x5a9124=_0x1e732c?function(){const _0x57c9c1=_0x2771bb,_0xebcf1b={'OdMZn':_0x2b94e8[_0x57c9c1(0x1f1)],'mqvYq':_0x2b94e8[_0x57c9c1(0x245)],'XnmxE':_0x2b94e8['rnQcl'],'iOVpz':function(_0xf73c62,_0x2f822e){const _0x4a7e4f=_0x57c9c1;return _0x2b94e8[_0x4a7e4f(0x1c6)](_0xf73c62,_0x2f822e);},'Zoena':_0x2b94e8[_0x57c9c1(0x2a4)],'blVkV':function(_0x5b5bd7,_0x33d2d8,_0x217831){const _0x24605d=_0x57c9c1;return _0x2b94e8[_0x24605d(0x329)](_0x5b5bd7,_0x33d2d8,_0x217831);}};if(_0x2b94e8['OzVKQ'](_0x2b94e8[_0x57c9c1(0x24e)],_0x2b94e8[_0x57c9c1(0x242)])){if(_0x28ee77){if(_0x2b94e8['YfCtj'](_0x2b94e8[_0x57c9c1(0x270)],_0x2b94e8['crTdn'])){const _0x45518c=_0x15b2a0['params'][_0x57c9c1(0x200)],_0x2d37f4=_0x784be7[_0x57c9c1(0x21a)](_0x45518c)[_0x57c9c1(0x1e0)](),_0x4cbc8c=_0x226d35[_0x57c9c1(0x22c)](_0x88967e,_0x45518c),_0x3580e5={'.jpg':_0x5138a3[_0x57c9c1(0x22b)],'.jpeg':_0x5138a3[_0x57c9c1(0x22b)],'.png':_0x5138a3[_0x57c9c1(0x2ab)]};_0x339ca2[_0x57c9c1(0x23a)](_0x4cbc8c,(_0x381048,_0x33d07e)=>{const _0x2b8d69=_0x57c9c1;if(_0x381048)return _0x362314[_0x2b8d69(0x26f)](_0xebcf1b[_0x2b8d69(0x342)],_0x381048),_0x227d8e['status'](0x1f4)[_0x2b8d69(0x31c)](_0xebcf1b[_0x2b8d69(0x1bd)]);const _0x2df7ec=_0x3580e5[_0x2d37f4]||_0xebcf1b[_0x2b8d69(0x379)];_0x52ec51[_0x2b8d69(0x1e7)](0xc8,{'Content-Type':_0x2df7ec}),_0x3adfcd[_0x2b8d69(0x22e)](_0x33d07e);});}else{const _0x510fbc=_0x28ee77[_0x57c9c1(0x2a2)](_0x5d44fb,arguments);return _0x28ee77=null,_0x510fbc;}}}else{const _0x259045=_0x1484db[_0x57c9c1(0x268)][_0x57c9c1(0x217)];if(!new _0x423f17(_0x564e82)[_0x57c9c1(0x27c)](_0x259045))_0xebcf1b[_0x57c9c1(0x248)](_0x48c55d,new _0x2625c9(_0xebcf1b[_0x57c9c1(0x375)]));else{const _0x5e5eb5=_0x112eb6[_0x57c9c1(0x21a)](_0x5e288c['originalname']),_0x3f2530=''+_0x259045+_0x5e5eb5;_0xebcf1b['blVkV'](_0x4f485e,null,_0x3f2530);}}}:function(){};return _0x1e732c=![],_0x5a9124;}else _0x2b94e8[_0x2771bb(0x1c6)](_0x355315,'0');};}()),_0x2710dc=_0x18c680(this,function(){const _0x14230f=_0xeab1,_0x1bbdcd={'uTFWl':_0x14230f(0x388),'Tumtv':function(_0x18cd8f,_0xe301c8){return _0x18cd8f!==_0xe301c8;},'TsUHa':_0x14230f(0x38b),'zhfab':function(_0x186821,_0x3d3861){return _0x186821(_0x3d3861);},'ujNtK':function(_0x20fe61,_0x3c62ca){return _0x20fe61+_0x3c62ca;},'fWKqF':_0x14230f(0x389),'yXwHv':_0x14230f(0x399),'FMlJY':function(_0x47f60a){return _0x47f60a();},'VGvUC':function(_0x3fcae2,_0x9ce0f5){return _0x3fcae2===_0x9ce0f5;},'gChzr':_0x14230f(0x355),'hUbsD':_0x14230f(0x240),'FoFPC':_0x14230f(0x204),'OkDRd':_0x14230f(0x331),'jXcpu':_0x14230f(0x26f),'AcEql':_0x14230f(0x2e5),'JoqId':_0x14230f(0x2d1),'OPXJY':_0x14230f(0x1e5),'EHLRK':function(_0x2d4f33,_0x43ad67){return _0x2d4f33<_0x43ad67;},'uxzqz':function(_0x2e9589,_0x3de08e){return _0x2e9589!==_0x3de08e;},'yHfWt':_0x14230f(0x37a),'YVssV':'ledsG'};let _0x5a34d6;try{if(_0x1bbdcd['Tumtv'](_0x1bbdcd[_0x14230f(0x261)],_0x1bbdcd['TsUHa'])){const _0x5021a9=_0x4e51b4[_0x14230f(0x2ff)]['prototype']['bind'](_0x4ee330),_0x58a356=_0x3bff6b[_0x5a01c9],_0x5d80d6=_0x4179c5[_0x58a356]||_0x5021a9;_0x5021a9[_0x14230f(0x350)]=_0x361b00[_0x14230f(0x1d3)](_0x5d7369),_0x5021a9[_0x14230f(0x339)]=_0x5d80d6[_0x14230f(0x339)][_0x14230f(0x1d3)](_0x5d80d6),_0x53a931[_0x58a356]=_0x5021a9;}else{const _0x3d8215=_0x1bbdcd[_0x14230f(0x39a)](Function,_0x1bbdcd[_0x14230f(0x1c8)](_0x1bbdcd[_0x14230f(0x1c8)](_0x1bbdcd[_0x14230f(0x33c)],_0x1bbdcd[_0x14230f(0x397)]),');'));_0x5a34d6=_0x1bbdcd[_0x14230f(0x1cc)](_0x3d8215);}}catch(_0x2bd1ce){_0x1bbdcd[_0x14230f(0x2c7)](_0x1bbdcd[_0x14230f(0x1f4)],_0x1bbdcd[_0x14230f(0x1f4)])?_0x5a34d6=window:_0x388869['error'](_0x1bbdcd[_0x14230f(0x2a0)],_0x5dc7a1['message']);}const _0x1a8610=_0x5a34d6['console']=_0x5a34d6[_0x14230f(0x3c5)]||{},_0xc60825=[_0x1bbdcd[_0x14230f(0x345)],_0x1bbdcd[_0x14230f(0x32e)],_0x1bbdcd[_0x14230f(0x25d)],_0x1bbdcd['jXcpu'],_0x1bbdcd['AcEql'],_0x1bbdcd[_0x14230f(0x1d0)],_0x1bbdcd[_0x14230f(0x30c)]];for(let _0x4ef179=0x0;_0x1bbdcd[_0x14230f(0x282)](_0x4ef179,_0xc60825[_0x14230f(0x2e4)]);_0x4ef179++){if(_0x1bbdcd[_0x14230f(0x322)](_0x1bbdcd['yHfWt'],_0x1bbdcd[_0x14230f(0x2b1)])){const _0x5abf4f=_0x18c680[_0x14230f(0x2ff)][_0x14230f(0x1f0)][_0x14230f(0x1d3)](_0x18c680),_0xc31ba9=_0xc60825[_0x4ef179],_0x3098b=_0x1a8610[_0xc31ba9]||_0x5abf4f;_0x5abf4f[_0x14230f(0x350)]=_0x18c680['bind'](_0x18c680),_0x5abf4f[_0x14230f(0x339)]=_0x3098b[_0x14230f(0x339)]['bind'](_0x3098b),_0x1a8610[_0xc31ba9]=_0x5abf4f;}else{if(_0x5911b6){const _0x24a934=_0x3d1069[_0x14230f(0x2a2)](_0x341877,arguments);return _0x1ccb6b=null,_0x24a934;}}}});_0x2710dc();import _0x396c8b from'express';const x=_0x396c8b['Router']();import{MongoClient as _0x183d2d}from'mongodb';function _0xeab1(_0x56aa15,_0x13f67d){const _0x17edec=_0x1d9e();return _0xeab1=function(_0x2710dc,_0x18c680){_0x2710dc=_0x2710dc-0x1ba;let _0xdb77e2=_0x17edec[_0x2710dc];return _0xdb77e2;},_0xeab1(_0x56aa15,_0x13f67d);}import _0x24b8b9 from'ejs';import _0x41dee9 from'path';import _0x50759a from'fs';import _0x27df8e from'multer';import _0x4c30d3 from'sharp';import _0x5d8b99 from'../middleware/mainAuth.js';const F=await import(_0x353580(0x279)+mymoduleFolder+_0x353580(0x324)),j=await import(_0x353580(0x279)+mymoduleFolder+_0x353580(0x296)),W=await import(_0x353580(0x279)+mymoduleFolder+_0x353580(0x37f)),p='/items',O=p+_0x353580(0x249),U=p+_0x353580(0x1c1),M=p+'/delete',R=p+_0x353580(0x2e7),k=p+_0x353580(0x1bb),Y=p[_0x353580(0x30e)](/\//g,'_');x[_0x353580(0x22d)](p,_0x5d8b99['isAuth'],async(_0x597680,_0x2fa26f)=>{const _0x40a42d=_0x353580,_0x31f82e={'aUqmb':'error\x20===>\x20','uNlOe':_0x40a42d(0x213),'utdiq':function(_0x2f94c1,_0x5f1622){return _0x2f94c1(_0x5f1622);},'YGbrd':function(_0x271d5f,_0xc7c35e){return _0x271d5f+_0xc7c35e;},'hamWq':function(_0x15e3de,_0xa9a1c9){return _0x15e3de+_0xa9a1c9;},'IjxdU':_0x40a42d(0x389),'wYQkP':_0x40a42d(0x399),'pFUkQ':function(_0x3bb649){return _0x3bb649();},'HIVeR':function(_0x5329e7,_0x5607ac){return _0x5329e7 instanceof _0x5607ac;},'uygvQ':_0x40a42d(0x2da),'ImZQY':function(_0x33b2d7){return _0x33b2d7();},'pRJOX':function(_0x1be903,_0x4247dc,_0x3f1692){return _0x1be903(_0x4247dc,_0x3f1692);},'bxknt':function(_0x4ca7a2,_0x20fda2){return _0x4ca7a2+_0x20fda2;},'sEtvy':_0x40a42d(0x1d4),'FOBkI':'gger','WlYbt':_0x40a42d(0x258),'gGVIE':_0x40a42d(0x2d5),'Luvpv':'เกิดข้อผิดพลาดในการดึงรูปภาพ','DXlkG':_0x40a42d(0x2cc),'jvtsO':'.jpg','pjfpg':'.jpeg','KuBcP':_0x40a42d(0x2e2),'hOwtv':function(_0x2febc8,_0x4e83ea){return _0x2febc8(_0x4e83ea);},'FsFyS':_0x40a42d(0x365),'QgNbv':function(_0x12c2df,_0x176590){return _0x12c2df+_0x176590;},'ZKQSC':_0x40a42d(0x359),'dOFjJ':function(_0x2e2f1c,_0x1f56d9){return _0x2e2f1c!==_0x1f56d9;},'Cvytw':_0x40a42d(0x1db),'TrUXc':_0x40a42d(0x2dd),'dephc':function(_0x1720a1,_0x494a81){return _0x1720a1(_0x494a81);},'QwbpC':function(_0x3f0412,_0x34c23c){return _0x3f0412(_0x34c23c);},'VgTkh':function(_0x197a9a,_0x4dc4d5){return _0x197a9a(_0x4dc4d5);},'KEEQU':_0x40a42d(0x3bc),'QJHAG':_0x40a42d(0x3aa),'jxQyF':_0x40a42d(0x39f),'DQNKM':function(_0x53d601,_0x2f739f){return _0x53d601||_0x2f739f;},'fKIvc':_0x40a42d(0x2df),'OTmdi':_0x40a42d(0x1fa),'VFzmi':_0x40a42d(0x1e8),'rrpBb':function(_0xfdf527,_0x254ae2){return _0xfdf527/_0x254ae2;},'DVeUX':function(_0x5d1e07,_0x2e3d6){return _0x5d1e07>_0x2e3d6;},'CnUMc':function(_0x39f029,_0x4075bb){return _0x39f029!==_0x4075bb;},'qAwNE':_0x40a42d(0x28d),'avZYg':'jRFZN','fSLGb':function(_0x13fbfc,_0x1c7fe0){return _0x13fbfc(_0x1c7fe0);},'mOEnl':function(_0xbd7560,_0x132765){return _0xbd7560*_0x132765;},'dRorp':function(_0x13e154,_0xed1c77){return _0x13e154-_0xed1c77;},'wXWXR':function(_0x4f6ead,_0x310f0d){return _0x4f6ead!==_0x310f0d;},'IiGDi':_0x40a42d(0x1d6),'plMYV':'uZUmI','dmBFx':function(_0x39d4b5,_0x1d2153){return _0x39d4b5*_0x1d2153;},'uzzVO':function(_0x25cbf4,_0xae63a3){return _0x25cbf4-_0xae63a3;},'lZPCh':function(_0x4f8de5,_0x147e33){return _0x4f8de5===_0x147e33;},'CuwxR':_0x40a42d(0x31d),'FdWaH':_0x40a42d(0x3b5),'PtBNf':function(_0x313567,_0x17a6a7){return _0x313567!==_0x17a6a7;},'pZpuH':_0x40a42d(0x25a),'jiyMJ':_0x40a42d(0x1d7),'swtbH':_0x40a42d(0x28a),'CEBor':_0x40a42d(0x264),'LKyfj':function(_0x85e604,_0x5573e6){return _0x85e604===_0x5573e6;},'zItJM':'YfPBq','cWDiw':_0x40a42d(0x20c),'MHtqQ':_0x40a42d(0x367),'ByQBS':'image/jpeg','NqkzM':_0x40a42d(0x311),'tcruE':function(_0x436c0e,_0x8d783b){return _0x436c0e===_0x8d783b;},'vYrjq':'AeSXj','qVWdV':'Error\x20reading\x20image\x20file:','sAIQZ':function(_0x531c4b,_0x58206c){return _0x531c4b<_0x58206c;},'CitLk':function(_0x389fb0,_0x3f810d){return _0x389fb0(_0x3f810d);},'vhkFR':function(_0x1b5363,_0x44ee2e){return _0x1b5363>_0x44ee2e;},'gXlfY':function(_0x1fc729,_0x588b8d){return _0x1fc729(_0x588b8d);},'mkolp':_0x40a42d(0x1d8),'dkcYr':_0x40a42d(0x38f),'LyJMW':'userFlash','LkcIy':function(_0x103841,_0x1b9530){return _0x103841!==_0x1b9530;},'jjiNM':_0x40a42d(0x3bd),'QhoVJ':_0x40a42d(0x1e2),'pexLI':'czjnN','hifgY':_0x40a42d(0x269)},_0x3f5d2b=_0x597680[_0x40a42d(0x3b0)]['sip']?.[_0x40a42d(0x339)]()[_0x40a42d(0x30e)](/[!@#$%^&*\///]/g,'')??'',_0x4650c6=_0x597680[_0x40a42d(0x3b0)][_0x40a42d(0x1dd)]?_0x31f82e[_0x40a42d(0x25b)](Number,_0x597680['query'][_0x40a42d(0x1dd)]):null,_0x18d0e6=_0x597680[_0x40a42d(0x3b0)][_0x40a42d(0x22f)],_0x138592=_0x31f82e['VgTkh'](Number,_0x597680['query'][_0x40a42d(0x34f)])||0x1e;var _0x2ffa42=_0x31f82e[_0x40a42d(0x307)](Number,_0x597680[_0x40a42d(0x3b0)][_0x40a42d(0x358)])||0x1;const _0x33f66f=_0x597680[_0x40a42d(0x3b0)]['loadId']||'',_0x447ada=new _0x183d2d(global[_0x40a42d(0x220)]);try{if(_0x31f82e[_0x40a42d(0x2cb)](_0x31f82e[_0x40a42d(0x205)],_0x31f82e[_0x40a42d(0x205)]))_0xbef8e5[_0x40a42d(0x240)](_0x31f82e['aUqmb'],_0xf0a79a),_0x211452[_0x40a42d(0x31c)](_0x2cd1af[_0x40a42d(0x28f)]({'isPrint':!0x1,'class':_0x31f82e[_0x40a42d(0x318)],'msg':_0x488192['message']}));else{await _0x447ada['connect']();const _0x44475c=_0x447ada['db'](global[_0x40a42d(0x1cf)]),_0x13f07f=_0x44475c['collection'](global[_0x40a42d(0x3b2)]),_0x2e9373={'_id':0x1,'itemId':0x1,'itemName':0x1,'categoryId':0x1,'itemStatus':0x1,'itemUnit':0x1,'itemPrice':0x1,'itemImage':0x1,'canDelete':0x1,'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':j[_0x40a42d(0x298)]()[_0x40a42d(0x387)](0x0,0x10)[_0x40a42d(0x30e)]('T','\x20')},'endDate':{'$toDate':_0x31f82e[_0x40a42d(0x21b)]},'unit':_0x31f82e[_0x40a42d(0x352)]}},0x0]},'then':!0x0,'else':!0x1}}};if(_0x31f82e[_0x40a42d(0x34b)](_0x3f5d2b,_0x4650c6)||_0x18d0e6){if(_0x31f82e[_0x40a42d(0x2cb)](_0x31f82e[_0x40a42d(0x33a)],_0x31f82e['OTmdi'])){const _0x2a4c6a=[{'$project':_0x2e9373},{'$sort':{'itemId':0x1}}];if(_0x3f5d2b){if(_0x31f82e[_0x40a42d(0x2cb)](_0x31f82e[_0x40a42d(0x3b7)],_0x31f82e['VFzmi'])){const _0x1cda89=xAJvKn[_0x40a42d(0x3c4)](_0x4a0783,xAJvKn[_0x40a42d(0x38d)](xAJvKn[_0x40a42d(0x2d9)](xAJvKn[_0x40a42d(0x31e)],xAJvKn[_0x40a42d(0x275)]),');'));_0x3b4a4e=xAJvKn[_0x40a42d(0x2bc)](_0x1cda89);}else{const _0x18cb99=new RegExp('.*'+_0x3f5d2b+'.*','i');_0x2a4c6a[_0x40a42d(0x206)]({'$match':{'$or':[{'itemId':{'$regex':_0x18cb99}},{'itemName':{'$regex':_0x18cb99}}]}});}}_0x4650c6&&_0x2a4c6a[_0x40a42d(0x206)]({'$match':{'categoryId':_0x4650c6}}),_0x18d0e6&&_0x2a4c6a[_0x40a42d(0x206)]({'$match':{'itemStatus':_0x18d0e6}});var _0x243bd5=await _0x13f07f[_0x40a42d(0x3c7)](_0x2a4c6a)[_0x40a42d(0x2de)](),_0x5350b3=_0x243bd5[_0x40a42d(0x2e4)],_0x5ca598=Math[_0x40a42d(0x281)](_0x31f82e[_0x40a42d(0x20e)](_0x5350b3,_0x138592));if(_0x31f82e[_0x40a42d(0x30f)](_0x2ffa42,_0x5ca598)){if(_0x31f82e['CnUMc'](_0x31f82e[_0x40a42d(0x2ac)],_0x31f82e['avZYg'])){var _0x1e689d=0x0;_0x2ffa42=_0x31f82e[_0x40a42d(0x30f)](_0x5350b3,0x0)?0x1:0x0;}else _0x31f82e['HIVeR'](_0x79a0ad,_0x32eb91[_0x40a42d(0x39c)])?(_0x3c0732[_0x40a42d(0x2ce)](_0x31f82e[_0x40a42d(0x293)],{'class':_0x31f82e['uNlOe'],'text':_0x40a42d(0x33b)+_0x532fe8[_0x40a42d(0x1c7)]}),_0x318c23['redirect'](''+_0x48496c)):_0x5153a0?(_0xac3200[_0x40a42d(0x2ce)](_0x31f82e[_0x40a42d(0x293)],{'class':_0x31f82e[_0x40a42d(0x318)],'text':_0x40a42d(0x33b)+_0x35d339[_0x40a42d(0x1c7)]}),_0x1d00f8[_0x40a42d(0x2d2)](''+_0x307e25)):_0x31f82e[_0x40a42d(0x243)](_0x2eb813);}else var _0x1e689d=_0x31f82e[_0x40a42d(0x2cd)](Number,_0x31f82e[_0x40a42d(0x1da)](_0x31f82e[_0x40a42d(0x244)](_0x2ffa42,0x1),_0x138592));var _0x3194fe=_0x243bd5['slice'](_0x1e689d,_0x31f82e[_0x40a42d(0x3c4)](Number,_0x31f82e[_0x40a42d(0x380)](_0x1e689d,_0x138592)));}else{const _0x54a4f3=_0x30d9bb[_0x40a42d(0x21a)](_0x17c7e9[_0x40a42d(0x223)]),_0x408794=''+_0x32d071+_0x54a4f3;_0x31f82e[_0x40a42d(0x2eb)](_0x2d6057,null,_0x408794);}}else{if(_0x31f82e[_0x40a42d(0x3cb)](_0x31f82e[_0x40a42d(0x343)],_0x31f82e[_0x40a42d(0x2ec)])){var _0x5350b3=await _0x13f07f[_0x40a42d(0x1d5)]({});const _0x2c1ea7=_0x31f82e['fSLGb'](Number,_0x31f82e[_0x40a42d(0x1f3)](_0x31f82e[_0x40a42d(0x1e3)](_0x2ffa42,0x1),_0x138592));var _0x3194fe=await _0x13f07f[_0x40a42d(0x3c7)]([{'$project':_0x2e9373},{'$sort':{'itemId':0x1}},{'$skip':_0x2c1ea7},{'$limit':_0x138592}])[_0x40a42d(0x2de)](),_0x5ca598=Math['ceil'](_0x31f82e[_0x40a42d(0x20e)](_0x5350b3,_0x138592));}else{if(_0xb65d13){const _0x57cbb8=_0x3937d1[_0x40a42d(0x2a2)](_0x2355a2,arguments);return _0x553906=null,_0x57cbb8;}}}if(_0x33f66f){if(_0x31f82e[_0x40a42d(0x20f)](_0x31f82e['CuwxR'],_0x31f82e[_0x40a42d(0x34d)]))(function(){return![];}[_0x40a42d(0x2ff)](xAJvKn[_0x40a42d(0x380)](xAJvKn['sEtvy'],xAJvKn['FOBkI']))[_0x40a42d(0x2a2)](xAJvKn[_0x40a42d(0x263)]));else{var _0x47a157=await _0x13f07f[_0x40a42d(0x2bf)]({'itemId':_0x33f66f},{'projection':_0x2e9373});if(_0x47a157){if(_0x31f82e[_0x40a42d(0x3c0)](_0x31f82e['pZpuH'],_0x31f82e[_0x40a42d(0x2c2)])){if(_0x47a157['itemImage']){if(_0x31f82e['CnUMc'](_0x31f82e[_0x40a42d(0x251)],_0x31f82e[_0x40a42d(0x356)])){const _0x9df732=_0x41dee9[_0x40a42d(0x22c)](folderItems,_0x47a157[_0x40a42d(0x3ab)]);try{if(_0x31f82e[_0x40a42d(0x274)](_0x31f82e[_0x40a42d(0x276)],_0x31f82e['cWDiw'])){if(_0x47b762)return _0x31cc54[_0x40a42d(0x26f)](_0x31f82e[_0x40a42d(0x1fc)],_0x5d1dfb),_0x11f5b4[_0x40a42d(0x32a)](0x1f4)[_0x40a42d(0x31c)](_0x31f82e[_0x40a42d(0x233)]);const _0x477152=_0x38f14d[_0xa1f222]||_0x31f82e[_0x40a42d(0x225)];_0x3cb2f7[_0x40a42d(0x1e7)](0xc8,{'Content-Type':_0x477152}),_0x414ae7[_0x40a42d(0x22e)](_0x4b158a);}else{const _0x3cad05=await _0x50759a[_0x40a42d(0x37d)][_0x40a42d(0x23a)](_0x9df732),_0x10b46c=_0x31f82e[_0x40a42d(0x20f)](_0x41dee9['extname'](_0x47a157[_0x40a42d(0x3ab)])[_0x40a42d(0x1e0)](),_0x31f82e['KuBcP'])?_0x31f82e[_0x40a42d(0x1c5)]:_0x31f82e[_0x40a42d(0x33f)];_0x47a157[_0x40a42d(0x23f)]=_0x40a42d(0x362)+_0x10b46c+';base64,'+_0x3cad05[_0x40a42d(0x339)](_0x31f82e[_0x40a42d(0x2c0)]);}}catch(_0x1e4caa){if(_0x31f82e['tcruE'](_0x31f82e[_0x40a42d(0x35a)],_0x31f82e['vYrjq']))console[_0x40a42d(0x240)](_0x31f82e[_0x40a42d(0x230)],_0x1e4caa[_0x40a42d(0x1c7)]),_0x47a157[_0x40a42d(0x23f)]=null;else{const _0x1d937d=[_0x31f82e[_0x40a42d(0x1d1)],_0x31f82e['pjfpg'],_0x31f82e[_0x40a42d(0x3ba)]],_0xa38369=_0x298341[_0x40a42d(0x21a)](_0x3011d1[_0x40a42d(0x223)])[_0x40a42d(0x1e0)]();_0x1d937d['includes'](_0xa38369)?_0x31f82e['pRJOX'](_0x33b08d,null,!0x0):_0x31f82e[_0x40a42d(0x2b6)](_0x4ccb97,new _0x46902e(_0x31f82e['FsFyS']));}}}else _0x25f041[_0x40a42d(0x234)]();}}else{const _0x10364a=_0x81eec0[_0x40a42d(0x284)],_0x1cac66=_0x580e1c[_0x40a42d(0x2c4)](_0x49a001=>_0x49a001[_0x40a42d(0x284)]==_0x10364a)?.['categoryName']||'-';return{..._0x6587ad,'categoryName':_0x1cac66};}}else var _0x47a157=[];}}else var _0x47a157=[];const _0x44ed83=_0x31f82e[_0x40a42d(0x37c)](_0x31f82e[_0x40a42d(0x1e3)](_0x31f82e['CitLk'](Number,_0x2ffa42),0x1),0x1)?'-':_0x31f82e[_0x40a42d(0x244)](_0x31f82e[_0x40a42d(0x3c4)](Number,_0x2ffa42),0x1),_0x5862d5=_0x31f82e['utdiq'](Number,_0x2ffa42),_0x55365b=_0x31f82e[_0x40a42d(0x1bc)](_0x31f82e[_0x40a42d(0x3a9)](_0x31f82e[_0x40a42d(0x1c0)](Number,_0x2ffa42),0x1),_0x5ca598)?'-':_0x31f82e[_0x40a42d(0x2d9)](_0x31f82e[_0x40a42d(0x3b3)](Number,_0x2ffa42),0x1),_0x51f6f3=await _0x44475c[_0x40a42d(0x28b)](global[_0x40a42d(0x3ce)])[_0x40a42d(0x2c4)]({'categoryStatus':_0x31f82e[_0x40a42d(0x394)]})[_0x40a42d(0x2de)]();_0x3194fe=_0x3194fe[_0x40a42d(0x30a)](_0xbf115=>{const _0x1cf1c4=_0x40a42d,_0x5e713f={'sAKoH':function(_0x4563b7,_0x361e28){return _0x31f82e['QgNbv'](_0x4563b7,_0x361e28);},'uzERa':_0x31f82e[_0x1cf1c4(0x391)],'ICndQ':_0x31f82e[_0x1cf1c4(0x33e)],'jSPgJ':_0x31f82e['ZKQSC']};if(_0x31f82e['dOFjJ'](_0x31f82e[_0x1cf1c4(0x2d0)],_0x31f82e[_0x1cf1c4(0x393)])){const _0x4b0c7f=_0xbf115[_0x1cf1c4(0x284)],_0x10f553=_0x51f6f3[_0x1cf1c4(0x2c4)](_0x151428=>_0x151428[_0x1cf1c4(0x284)]==_0x4b0c7f)?.[_0x1cf1c4(0x21c)]||'-';return{..._0xbf115,'categoryName':_0x10f553};}else(function(){return!![];}['constructor'](TFfOzW['sAKoH'](TFfOzW[_0x1cf1c4(0x2a9)],TFfOzW[_0x1cf1c4(0x376)]))[_0x1cf1c4(0x1de)](TFfOzW[_0x1cf1c4(0x2b0)]));});const _0x5a1e09=await F[_0x40a42d(0x328)](_0x31f82e[_0x40a42d(0x2c1)],_0x2fa26f,{'title':PAGE_ITEMS,'time':j[_0x40a42d(0x2b5)](),'msg':_0x597680['flash'](_0x31f82e[_0x40a42d(0x293)]),'userFlash':_0x597680['flash'](_0x31f82e[_0x40a42d(0x377)]),'user':W[_0x40a42d(0x3cd)](_0x597680),...await F[_0x40a42d(0x300)](),'loadId':_0x33f66f,'sip':_0x3f5d2b,'scid':_0x4650c6,'sis':_0x18d0e6,'rpp':_0x138592,'page':_0x2ffa42,'pageAct':_0x5862d5,'pageNum':_0x5ca598,'pagePre':_0x44ed83,'pageNxt':_0x55365b,'pageLst':_0x5ca598,'totalDocs':_0x5350b3,'PATH_MAIN':p,'PATH_SAVE':O,'PATH_LOAD':U,'PATH_DELETE':M,'PATH_VIEW':R,'PATH_PRINT':k,'PREFIX':Y,'dataItemsCategories':_0x51f6f3,'dataItems':_0x3194fe,'item':_0x47a157});_0x2fa26f[_0x40a42d(0x31c)](_0x5a1e09);}}catch(_0x1f0579){_0x31f82e[_0x40a42d(0x360)](_0x31f82e[_0x40a42d(0x316)],_0x31f82e[_0x40a42d(0x2c8)])?(console['log'](_0x1f0579),_0x2fa26f[_0x40a42d(0x32a)](0x194)[_0x40a42d(0x3c8)](file404)):(_0x2641df[_0x40a42d(0x240)](_0x3645fe),_0x157c6b['status'](0x194)[_0x40a42d(0x3c8)](_0x5272e5));}finally{if(_0x31f82e[_0x40a42d(0x3c0)](_0x31f82e[_0x40a42d(0x294)],_0x31f82e[_0x40a42d(0x340)]))_0x447ada['close']();else{if(_0x4e7194)return _0x3b9803;else xAJvKn[_0x40a42d(0x1c0)](_0x2476f8,0x0);}}});const G=_0x27df8e({'storage':_0x27df8e[_0x353580(0x348)]({'destination':async function(_0x2ae152,_0x5c2fcc,_0x5b5899){const _0x3ab606=_0x353580,_0xc2e569={'aycFi':'Could\x20not\x20clean\x20up\x20temp\x20file:','EIVFU':function(_0xcd6fb4,_0x20d6d7){return _0xcd6fb4!==_0x20d6d7;},'NdNic':_0x3ab606(0x31b),'bUxIE':function(_0x2b0c63,_0x9c0ad0,_0x7e6720){return _0x2b0c63(_0x9c0ad0,_0x7e6720);},'CdWez':function(_0x4954b5,_0x4ca4d6){return _0x4954b5===_0x4ca4d6;},'IXhwM':_0x3ab606(0x3a5),'ISoYC':function(_0x232863,_0x28f37b){return _0x232863(_0x28f37b);}};try{_0xc2e569['EIVFU'](_0xc2e569['NdNic'],_0xc2e569[_0x3ab606(0x303)])?_0x5d5c5e[_0x3ab606(0x234)]():(await _0x50759a[_0x3ab606(0x37d)][_0x3ab606(0x21e)](folderItems,{'recursive':!0x0}),_0xc2e569[_0x3ab606(0x36e)](_0x5b5899,null,folderItems));}catch(_0xe6726f){_0xc2e569[_0x3ab606(0x3a6)](_0xc2e569[_0x3ab606(0x1e9)],_0xc2e569[_0x3ab606(0x1e9)])?_0xc2e569[_0x3ab606(0x1f8)](_0x5b5899,_0xe6726f):_0x52e11d[_0x3ab606(0x26f)](_0xc2e569[_0x3ab606(0x235)],_0x90a935[_0x3ab606(0x1c7)]);}},'filename':function(_0x21f873,_0x1fae4d,_0x271f1d){const _0x536b2a=_0x353580,_0x57ad67={'HRCIs':function(_0xa22c75,_0xd867d9){return _0xa22c75(_0xd867d9);},'uCixt':_0x536b2a(0x247),'kuRZR':function(_0x44ad42,_0x57bfd7){return _0x44ad42===_0x57bfd7;},'JZyhP':_0x536b2a(0x2d3),'ujFXG':'lKkdd','EbVfJ':function(_0x47dbe3,_0x7fc248,_0x2a03d9){return _0x47dbe3(_0x7fc248,_0x2a03d9);}},_0x2d671c=_0x21f873[_0x536b2a(0x268)][_0x536b2a(0x217)];if(!new RegExp(ITEM_TYPE_PATTERN)['test'](_0x2d671c))_0x57ad67[_0x536b2a(0x3be)](_0x271f1d,new Error(_0x57ad67[_0x536b2a(0x27a)]));else{if(_0x57ad67['kuRZR'](_0x57ad67[_0x536b2a(0x237)],_0x57ad67[_0x536b2a(0x301)]))xDHKQw[_0x536b2a(0x3be)](_0x1004b6,0x0);else{const _0x44f848=_0x41dee9[_0x536b2a(0x21a)](_0x1fae4d[_0x536b2a(0x223)]),_0x5e42a8=''+_0x2d671c+_0x44f848;_0x57ad67[_0x536b2a(0x25f)](_0x271f1d,null,_0x5e42a8);}}}}),'limits':{'fileSize':0x400*0x400*0x1},'fileFilter':(_0x299b68,_0x5e0509,_0x358b1d)=>{const _0x2f3f7b=_0x353580,_0x2b5b6e={'elRGF':_0x2f3f7b(0x386),'Lmobz':_0x2f3f7b(0x334),'WtkdV':_0x2f3f7b(0x2e2),'BozyG':function(_0x1df4e0,_0x414ff6,_0x4432f6){return _0x1df4e0(_0x414ff6,_0x4432f6);},'Lqigo':function(_0x1641c8,_0xb9c625){return _0x1641c8(_0xb9c625);},'yWCBa':'Only\x20.jpg,\x20.jpeg,\x20and\x20.png\x20files\x20are\x20allowed!'},_0x4d4324=[_0x2b5b6e[_0x2f3f7b(0x1bf)],_0x2b5b6e['Lmobz'],_0x2b5b6e[_0x2f3f7b(0x317)]],_0xb484b1=_0x41dee9[_0x2f3f7b(0x21a)](_0x5e0509[_0x2f3f7b(0x223)])[_0x2f3f7b(0x1e0)]();_0x4d4324[_0x2f3f7b(0x369)](_0xb484b1)?_0x2b5b6e[_0x2f3f7b(0x2af)](_0x358b1d,null,!0x0):_0x2b5b6e[_0x2f3f7b(0x39b)](_0x358b1d,new Error(_0x2b5b6e['yWCBa']));}})[_0x353580(0x354)](_0x353580(0x3ab)),X=async(_0x1b4c7a,_0x2a3e1d,_0x502e21,_0x37668a)=>{const _0x4348f9=_0x353580,_0x13e159={'lJKwD':function(_0x2dd40c,_0x151b90){return _0x2dd40c instanceof _0x151b90;},'RwtLE':_0x4348f9(0x2da),'bSTKA':'red','owEuU':function(_0x59629b){return _0x59629b();}};_0x13e159['lJKwD'](_0x1b4c7a,_0x27df8e[_0x4348f9(0x39c)])?(_0x2a3e1d[_0x4348f9(0x2ce)](_0x13e159[_0x4348f9(0x1e1)],{'class':_0x13e159[_0x4348f9(0x221)],'text':_0x4348f9(0x33b)+_0x1b4c7a[_0x4348f9(0x1c7)]}),_0x502e21[_0x4348f9(0x2d2)](''+p)):_0x1b4c7a?(_0x2a3e1d[_0x4348f9(0x2ce)](_0x13e159[_0x4348f9(0x1e1)],{'class':_0x13e159[_0x4348f9(0x221)],'text':_0x4348f9(0x33b)+_0x1b4c7a[_0x4348f9(0x1c7)]}),_0x502e21['redirect'](''+p)):_0x13e159[_0x4348f9(0x1c9)](_0x37668a);};x[_0x353580(0x2f3)](O,[_0x5d8b99['isAuth'],(_0x3cd794,_0x2f5433,_0x54900e)=>{const _0x5d82d6=_0x353580,_0x36cd91={'zBDHN':_0x5d82d6(0x2da),'DwLoA':_0x5d82d6(0x1f6),'vxkLB':'ลบข้อมูลได้\x20แต่ลบภาพไม่ได้','JXSUp':function(_0x3e8940){return _0x3e8940();},'GzGtj':_0x5d82d6(0x29c),'GIVyY':_0x5d82d6(0x34c),'hzLJD':_0x5d82d6(0x2c5),'pdrLN':_0x5d82d6(0x24b),'uGvxm':function(_0x4a0275,_0x1eb5b5){return _0x4a0275(_0x1eb5b5);},'aXXjb':_0x5d82d6(0x36f),'cDfSV':function(_0x205ec1,_0x4a2e84){return _0x205ec1+_0x4a2e84;},'DdVdh':_0x5d82d6(0x231),'IaHfi':_0x5d82d6(0x332),'sPEMF':function(_0x145028){return _0x145028();},'cvQyj':function(_0x1310b4,_0x4afeed,_0x56818){return _0x1310b4(_0x4afeed,_0x56818);},'gmHLB':function(_0x542ddc,_0x27cf2d){return _0x542ddc!==_0x27cf2d;},'nCZHJ':'dpxIB','aKtIk':function(_0x36cda3,_0x37b97b,_0x3e0a3c,_0x50bbdc,_0x3514ee){return _0x36cda3(_0x37b97b,_0x3e0a3c,_0x50bbdc,_0x3514ee);},'aqFWX':_0x5d82d6(0x2f5),'ucGqG':_0x5d82d6(0x259),'OBzHj':function(_0x363345,_0x1246ba){return _0x363345===_0x1246ba;},'FuBfS':_0x5d82d6(0x337),'dAWvR':_0x5d82d6(0x229),'cdKoZ':function(_0x3e66f3,_0x5909ef){return _0x3e66f3!==_0x5909ef;},'TwIrX':_0x5d82d6(0x361),'cYlGe':_0x5d82d6(0x288),'CjEuk':'Warning:\x20Could\x20not\x20delete\x20original\x20file:','STjCV':_0x5d82d6(0x1f9),'kNNbN':_0x5d82d6(0x335),'lslFN':_0x5d82d6(0x2e3),'qjPjx':_0x5d82d6(0x29b),'JvoUR':_0x5d82d6(0x2e9),'Bobuv':_0x5d82d6(0x2d6),'iBubb':function(_0x46ebdd,_0x3ab758){return _0x46ebdd!==_0x3ab758;},'gcsxi':_0x5d82d6(0x2fe),'afgiW':_0x5d82d6(0x396),'qgvns':function(_0x2664a0,_0x18e97b,_0x3352e0,_0x255315){return _0x2664a0(_0x18e97b,_0x3352e0,_0x255315);}};_0x36cd91[_0x5d82d6(0x39e)](G,_0x3cd794,_0x2f5433,async _0x8f0df7=>{const _0x2e3ca0=_0x5d82d6,_0x128948={'NEXTE':function(_0x4838d1){const _0x38d911=_0xeab1;return _0x36cd91[_0x38d911(0x30b)](_0x4838d1);},'MGJUN':_0x36cd91[_0x2e3ca0(0x344)],'CYOxQ':_0x36cd91[_0x2e3ca0(0x357)],'flkIH':_0x36cd91[_0x2e3ca0(0x3c9)],'MFRCw':_0x36cd91[_0x2e3ca0(0x368)],'mRgKk':function(_0x42d07c,_0x1f7852){const _0x5b50fe=_0x2e3ca0;return _0x36cd91[_0x5b50fe(0x1f2)](_0x42d07c,_0x1f7852);},'LKEUf':_0x36cd91[_0x2e3ca0(0x25e)],'cZYFA':function(_0x1124c9,_0x3ad41a){const _0x39428a=_0x2e3ca0;return _0x36cd91[_0x39428a(0x1cd)](_0x1124c9,_0x3ad41a);},'kBgqL':_0x36cd91[_0x2e3ca0(0x31f)],'EFChe':function(_0x41572c,_0x4688c1){const _0x3d017=_0x2e3ca0;return _0x36cd91[_0x3d017(0x1cd)](_0x41572c,_0x4688c1);},'jgVwi':_0x36cd91[_0x2e3ca0(0x2db)],'TsQEE':function(_0x32a3ae){const _0x387201=_0x2e3ca0;return _0x36cd91[_0x387201(0x3b1)](_0x32a3ae);},'oQCvQ':function(_0x301b31,_0x27a137,_0x34210e){const _0x28e4bb=_0x2e3ca0;return _0x36cd91[_0x28e4bb(0x239)](_0x301b31,_0x27a137,_0x34210e);}};if(_0x36cd91['gmHLB'](_0x36cd91[_0x2e3ca0(0x1f7)],_0x36cd91[_0x2e3ca0(0x1f7)])){const _0x3bab7d=_0x4f44b1?function(){const _0x4244ef=_0x2e3ca0;if(_0x33d314){const _0x54be8c=_0x1e8efd[_0x4244ef(0x2a2)](_0x1dca25,arguments);return _0x14102e=null,_0x54be8c;}}:function(){};return _0x11d111=![],_0x3bab7d;}else{if(_0x8f0df7)return _0x36cd91[_0x2e3ca0(0x246)](X,_0x8f0df7,_0x3cd794,_0x2f5433,_0x54900e);if(_0x3cd794[_0x2e3ca0(0x347)]){if(_0x36cd91[_0x2e3ca0(0x372)](_0x36cd91['aqFWX'],_0x36cd91[_0x2e3ca0(0x1ef)])){const _0x187480=_0x41dee9['extname'](_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)]),_0x12932a=_0x41dee9[_0x2e3ca0(0x2a1)](_0x3cd794['file'][_0x2e3ca0(0x266)],_0x187480),_0x247aa1=_0x41dee9[_0x2e3ca0(0x32f)](_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)]),_0x4e0d0e=_0x41dee9[_0x2e3ca0(0x22c)](_0x247aa1,_0x12932a+_0x2e3ca0(0x386));let _0x41212b=_0x4e0d0e;if(_0x36cd91[_0x2e3ca0(0x24c)](_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)],_0x4e0d0e)&&(_0x41212b=_0x41dee9[_0x2e3ca0(0x22c)](_0x247aa1,_0x12932a+'_temp.jpg')),await _0x36cd91[_0x2e3ca0(0x1f2)](_0x4c30d3,_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)])[_0x2e3ca0(0x1eb)]({'width':0x258,'withoutEnlargement':!0x0})[_0x2e3ca0(0x1ea)]({'quality':0x5a})[_0x2e3ca0(0x312)]({'density':0x48})[_0x2e3ca0(0x253)](_0x41212b),_0x36cd91[_0x2e3ca0(0x372)](_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)],_0x4e0d0e))try{_0x36cd91['OBzHj'](_0x36cd91['FuBfS'],_0x36cd91['dAWvR'])?XIUXhp[_0x2e3ca0(0x315)](_0x594a8c):await _0x50759a['promises'][_0x2e3ca0(0x202)](_0x3cd794[_0x2e3ca0(0x347)]['path']);}catch(_0x1d3d69){if(_0x36cd91[_0x2e3ca0(0x283)](_0x36cd91['TwIrX'],_0x36cd91[_0x2e3ca0(0x2ba)]))console['error'](_0x36cd91[_0x2e3ca0(0x219)],_0x1d3d69[_0x2e3ca0(0x1c7)]);else return _0x7fc939[_0x2e3ca0(0x2ce)](_0x36cd91[_0x2e3ca0(0x209)],{'class':_0x36cd91[_0x2e3ca0(0x325)],'text':_0x36cd91[_0x2e3ca0(0x26a)]}),_0x513529[_0x2e3ca0(0x2d2)](_0x2dae5f);}if(_0x36cd91[_0x2e3ca0(0x372)](_0x41212b,_0x4e0d0e))try{_0x36cd91[_0x2e3ca0(0x24c)](_0x36cd91[_0x2e3ca0(0x226)],_0x36cd91['kNNbN'])?_0x205fd1=_0x496661:await _0x50759a[_0x2e3ca0(0x37d)]['rename'](_0x41212b,_0x4e0d0e);}catch(_0x2eddbe){if(_0x36cd91[_0x2e3ca0(0x283)](_0x36cd91[_0x2e3ca0(0x3a8)],_0x36cd91[_0x2e3ca0(0x3a8)]))return function(_0x7c23eb){}[_0x2e3ca0(0x2ff)](XIUXhp[_0x2e3ca0(0x374)])['apply'](XIUXhp[_0x2e3ca0(0x241)]);else{console[_0x2e3ca0(0x26f)](_0x36cd91[_0x2e3ca0(0x23b)],_0x2eddbe[_0x2e3ca0(0x1c7)]);try{if(_0x36cd91[_0x2e3ca0(0x372)](_0x36cd91[_0x2e3ca0(0x3c3)],_0x36cd91[_0x2e3ca0(0x2fc)]))await _0x50759a[_0x2e3ca0(0x37d)][_0x2e3ca0(0x202)](_0x41212b);else{const _0x549297={'XZOlw':XIUXhp[_0x2e3ca0(0x3c1)],'TBPiD':XIUXhp[_0x2e3ca0(0x309)],'XudUs':function(_0x250490,_0x419204){const _0x2cc3a6=_0x2e3ca0;return XIUXhp[_0x2cc3a6(0x295)](_0x250490,_0x419204);},'ChkUt':XIUXhp[_0x2e3ca0(0x1ee)],'FIDOH':function(_0x321f12,_0x44c92f){const _0x1084da=_0x2e3ca0;return XIUXhp[_0x1084da(0x3a0)](_0x321f12,_0x44c92f);},'Cmegc':XIUXhp[_0x2e3ca0(0x320)],'iVjjq':function(_0x5d3161,_0x4cbd22){return XIUXhp['EFChe'](_0x5d3161,_0x4cbd22);},'HoQWp':XIUXhp[_0x2e3ca0(0x3a4)],'edmts':function(_0xf6dd9f,_0x31b1d0){const _0x4609a9=_0x2e3ca0;return XIUXhp[_0x4609a9(0x295)](_0xf6dd9f,_0x31b1d0);},'IeJMm':function(_0x3c79bd){const _0x409655=_0x2e3ca0;return XIUXhp[_0x409655(0x2fb)](_0x3c79bd);}};XIUXhp[_0x2e3ca0(0x273)](_0x31ad3b,this,function(){const _0x17f40e=_0x2e3ca0,_0x28b3de=new _0x8a340a(_0x549297[_0x17f40e(0x3a2)]),_0x113df7=new _0x4abbc9(_0x549297[_0x17f40e(0x287)],'i'),_0xc61043=_0x549297[_0x17f40e(0x2fa)](_0x3a5e89,_0x549297[_0x17f40e(0x22a)]);!_0x28b3de[_0x17f40e(0x27c)](_0x549297[_0x17f40e(0x236)](_0xc61043,_0x549297[_0x17f40e(0x267)]))||!_0x113df7[_0x17f40e(0x27c)](_0x549297[_0x17f40e(0x2f9)](_0xc61043,_0x549297[_0x17f40e(0x272)]))?_0x549297[_0x17f40e(0x260)](_0xc61043,'0'):_0x549297[_0x17f40e(0x2f6)](_0x31a877);})();}}catch(_0x10f4c5){if(_0x36cd91[_0x2e3ca0(0x2bd)](_0x36cd91[_0x2e3ca0(0x33d)],_0x36cd91[_0x2e3ca0(0x33d)]))return!![];else console[_0x2e3ca0(0x26f)](_0x36cd91[_0x2e3ca0(0x2ee)],_0x10f4c5[_0x2e3ca0(0x1c7)]);}throw _0x2eddbe;}}_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x266)]=_0x4e0d0e,_0x3cd794[_0x2e3ca0(0x347)][_0x2e3ca0(0x200)]=_0x12932a+'.jpg';}else _0x154e8a[_0x2e3ca0(0x234)]();}_0x36cd91[_0x2e3ca0(0x3b1)](_0x54900e);}});}],async(_0x51f407,_0x3f9fc1)=>{const _0x3012b1=_0x353580,_0x5d56cc={'Xtklx':_0x3012b1(0x3ad),'Rnlro':_0x3012b1(0x2da),'BtDDh':'red','TRgCy':function(_0x1de514,_0x50c58a){return _0x1de514(_0x50c58a);},'tETAX':function(_0x1bff16,_0x17da8d){return _0x1bff16(_0x17da8d);},'LkoYu':function(_0x1821c2,_0x539032){return _0x1821c2!==_0x539032;},'XwqhB':_0x3012b1(0x3cc),'qsltR':_0x3012b1(0x292),'jSzEa':function(_0x1717e0,_0x5d38a4){return _0x1717e0===_0x5d38a4;},'mdzoc':_0x3012b1(0x2b7),'EtIGT':function(_0x4bf3e8,_0x361c7f){return _0x4bf3e8>_0x361c7f;},'vCcGG':function(_0x28b57a,_0x1dffa0){return _0x28b57a+_0x1dffa0;},'CbQyQ':_0x3012b1(0x1d8),'dcDFr':function(_0x2c3fd,_0x281783){return _0x2c3fd(_0x281783);},'zBDhl':_0x3012b1(0x212),'oqUfW':_0x3012b1(0x1fb),'xOJto':function(_0x325344,_0x5e8e6a){return _0x325344===_0x5e8e6a;},'vZtVk':'HKDqK','KOCKi':_0x3012b1(0x333),'IslsH':function(_0x3441c7,_0x5422d9){return _0x3441c7==_0x5422d9;},'UxvTo':_0x3012b1(0x1f6),'fKtMJ':'wtmXh','exYGz':_0x3012b1(0x2e8),'ZmvXa':function(_0xfa9650,_0x4671be){return _0xfa9650===_0x4671be;},'QXYJH':'YXJOM'},_0xc94124=_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x21d)],_0x17793c=_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x34e)]?.[_0x3012b1(0x339)]()[_0x3012b1(0x30e)](/[!@#$%^&*\///]/g,'')??'',_0xc598e0=_0x51f407['body'][_0x3012b1(0x1dd)],_0x635fcd=_0x51f407['body']['sis'],_0x48b898=_0x5d56cc[_0x3012b1(0x36d)](Number,_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x34f)])||0x1e,_0x49f8c4=_0x5d56cc[_0x3012b1(0x2b4)](Number,_0x51f407['body']['page'])||0x1,_0x4f3080=p+_0x3012b1(0x1e4)+_0x17793c+'&scid='+_0xc598e0+_0x3012b1(0x326)+_0x635fcd+'&rpp='+_0x48b898+_0x3012b1(0x383)+_0x49f8c4+_0x3012b1(0x323)+_0xc94124,_0x18c8b6=new _0x183d2d(global['dbUrl']);try{if(_0x5d56cc['LkoYu'](_0x5d56cc[_0x3012b1(0x224)],_0x5d56cc[_0x3012b1(0x254)])){await _0x18c8b6[_0x3012b1(0x1c3)]();const _0x269f6e=_0x18c8b6['db'](global['dbName']),_0x3460d5=_0x269f6e[_0x3012b1(0x28b)](global[_0x3012b1(0x3b2)]);if(!_0x51f407[_0x3012b1(0x268)]['categoryId']&&_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x3a7)]){if(_0x5d56cc[_0x3012b1(0x3ca)](_0x5d56cc[_0x3012b1(0x3b8)],_0x5d56cc[_0x3012b1(0x3b8)])){const _0x237090=_0x269f6e['collection'](global[_0x3012b1(0x3ce)]),_0x588086=await _0x237090[_0x3012b1(0x2c4)]()[_0x3012b1(0x2f1)]({'categoryId':-0x1})[_0x3012b1(0x2e6)](0x1)[_0x3012b1(0x2de)](),_0xf09943=_0x5d56cc[_0x3012b1(0x216)](_0x588086['length'],0x0)?_0x5d56cc[_0x3012b1(0x211)](_0x588086[0x0][_0x3012b1(0x284)],0x1):0x3e8;let _0x2408da=j[_0x3012b1(0x227)]();_0x2408da[_0x3012b1(0x1d2)](_0x5d56cc[_0x3012b1(0x211)](_0x2408da[_0x3012b1(0x2b5)](),0x1)),_0x2408da=_0x2408da[_0x3012b1(0x37b)]()['slice'](0x0,0x10)['replace']('T','\x20');const _0x24755e={'categoryId':_0xf09943,'categoryName':_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x3a7)],'dateTimeCanDelete':_0x2408da,'categoryStatus':_0x5d56cc[_0x3012b1(0x23d)]};await _0x237090['insertOne'](_0x24755e),_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x284)]=_0xf09943;}else _0x435b6f[_0x3012b1(0x234)]();}const _0x50c18e={'itemId':_0x51f407['body'][_0x3012b1(0x217)][_0x3012b1(0x339)](),'categoryId':_0x5d56cc[_0x3012b1(0x2b4)](Number,_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x284)]),'itemStatus':_0x51f407['body'][_0x3012b1(0x38c)],'itemName':_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x25c)],'itemUnit':_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x330)],'itemPrice':_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x1ce)]?_0x5d56cc[_0x3012b1(0x277)](Number,_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x1ce)]):0x0},_0x6335a5=_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x217)],_0x5a99d4=await _0x3460d5[_0x3012b1(0x2bf)]({'itemId':_0x6335a5});if(_0x5a99d4){if(_0x5d56cc[_0x3012b1(0x203)](_0x5d56cc['zBDhl'],_0x5d56cc[_0x3012b1(0x29f)])){_0x51f407[_0x3012b1(0x347)]&&(_0x50c18e['itemImage']=_0x51f407['file']['filename']);var _0x54bf48=await _0x3460d5[_0x3012b1(0x207)]({'itemId':_0x6335a5},{'$set':_0x50c18e});}else _0x25349d[_0x3012b1(0x240)](_0x32f6c0),_0x190a93['sendFile'](_0x3ec94f);}else{if(_0x5d56cc['xOJto'](_0x5d56cc[_0x3012b1(0x238)],_0x5d56cc[_0x3012b1(0x238)])){if(_0x51f407[_0x3012b1(0x268)][_0x3012b1(0x217)]&&!new RegExp(ITEM_TYPE_PATTERN)['test'](_0x51f407['body']['itemId']))return _0x51f407[_0x3012b1(0x2ce)](_0x5d56cc[_0x3012b1(0x27b)],{'class':_0x5d56cc[_0x3012b1(0x29a)],'text':_0x5d56cc['KOCKi']}),_0x3f9fc1['redirect'];let _0x29d85a=j[_0x3012b1(0x227)]();_0x29d85a[_0x3012b1(0x1d2)](_0x5d56cc[_0x3012b1(0x211)](_0x29d85a[_0x3012b1(0x2b5)](),0x1)),_0x29d85a=_0x29d85a['toISOString']()['slice'](0x0,0x10)[_0x3012b1(0x30e)]('T','\x20'),_0x50c18e['dateTimeCanDelete']=_0x29d85a,_0x51f407[_0x3012b1(0x347)]&&(_0x50c18e[_0x3012b1(0x3ab)]=_0x51f407['file'][_0x3012b1(0x200)]);var _0x54bf48=await _0x3460d5[_0x3012b1(0x2fd)](_0x50c18e);}else _0x4a2b9d['log'](_0x5d56cc[_0x3012b1(0x1be)],_0x77f78[_0x3012b1(0x1c7)]),_0xcfde8d['itemImageDataUrl']=null;}if(_0x5a99d4&&_0x5d56cc[_0x3012b1(0x222)](_0x54bf48[_0x3012b1(0x306)],0x1))var _0x2b8029={'class':_0x5d56cc[_0x3012b1(0x3c2)],'text':_0x3012b1(0x390)+_0x50c18e[_0x3012b1(0x217)]+_0x3012b1(0x304)};else var _0x2b8029={'class':_0x5d56cc[_0x3012b1(0x3c2)],'text':_0x3012b1(0x385)+_0x50c18e[_0x3012b1(0x217)]+_0x3012b1(0x304)};_0x51f407[_0x3012b1(0x2ce)](_0x5d56cc[_0x3012b1(0x27b)],_0x2b8029),_0x3f9fc1['redirect'](_0x4f3080);}else return _0x3b098b[_0x3012b1(0x240)](_0x264be3[_0x3012b1(0x1c7)]),_0x55598d[_0x3012b1(0x2ce)](_0x5d56cc[_0x3012b1(0x27b)],{'class':_0x5d56cc['BtDDh'],'text':''+_0x160d26[_0x3012b1(0x1c7)]}),_0x5f32f6[_0x3012b1(0x2d2)](_0x2334c3);}catch(_0x1bc62b){if(_0x5d56cc['LkoYu'](_0x5d56cc[_0x3012b1(0x214)],_0x5d56cc[_0x3012b1(0x23c)]))console[_0x3012b1(0x240)](_0x1bc62b),_0x3f9fc1[_0x3012b1(0x3c8)](file404);else{const _0x5b51ef=_0x1d936e?function(){const _0x22cbaa=_0x3012b1;if(_0x3adc54){const _0x578afe=_0x29fcdc[_0x22cbaa(0x2a2)](_0x1fb6fb,arguments);return _0xafb83c=null,_0x578afe;}}:function(){};return _0x585ee9=![],_0x5b51ef;}}finally{if(_0x5d56cc[_0x3012b1(0x26d)](_0x5d56cc[_0x3012b1(0x2ed)],_0x5d56cc[_0x3012b1(0x2ed)]))_0x18c8b6['close']();else{const _0x46f0ad=_0x2dfa47[_0x3012b1(0x2a2)](_0x593d0b,arguments);return _0x382d0a=null,_0x46f0ad;}}}),x[_0x353580(0x2f3)](U,_0x5d8b99[_0x353580(0x30d)],async(_0x46b368,_0x331f41)=>{const _0x196662=_0x353580,_0xc83e54={'HgNpa':'function\x20*\x5c(\x20*\x5c)','DikZV':_0x196662(0x24b),'luPym':function(_0x2593de,_0x5b911d){return _0x2593de(_0x5b911d);},'GTtMP':'init','xuQPr':function(_0x78f441,_0x4ba1d6){return _0x78f441+_0x4ba1d6;},'DWJfv':_0x196662(0x231),'ltHLW':'input','DKNym':function(_0x45d34d){return _0x45d34d();},'CclbE':_0x196662(0x389),'tAIpv':_0x196662(0x399),'vJawh':function(_0x172064){return _0x172064();},'arGtN':'log','lJVhR':_0x196662(0x204),'GAGUd':_0x196662(0x331),'vJHuM':_0x196662(0x26f),'FLfLp':_0x196662(0x2e5),'BGfjf':_0x196662(0x2d1),'LMgmn':_0x196662(0x1e5),'rXTtH':function(_0x3d1ad1,_0xf99171){return _0x3d1ad1<_0xf99171;},'vRTYu':function(_0x212d1c,_0x52508a){return _0x212d1c(_0x52508a);},'xxNQu':function(_0x47e180,_0x2d32b2){return _0x47e180===_0x2d32b2;},'GPYrX':_0x196662(0x370),'FYNIt':_0x196662(0x36b),'cTroy':_0x196662(0x2da),'HsBYv':_0x196662(0x213),'HWqSH':_0x196662(0x2d7),'UrONl':function(_0x578f1c,_0x45bbd1){return _0x578f1c!==_0x45bbd1;},'SulKs':_0x196662(0x3af),'SZHAC':_0x196662(0x2a5),'PIYDC':'vlxXT'},_0x4c95b3=_0x46b368[_0x196662(0x268)][_0x196662(0x21d)],_0x3bf5f2=_0x46b368[_0x196662(0x268)]['sip']?.[_0x196662(0x339)]()['replace'](/[!@#$%^&*\///]/g,'')??'',_0x3ea5ec=_0x46b368['body'][_0x196662(0x1dd)],_0x577dbc=_0x46b368['body'][_0x196662(0x22f)],_0x50b7a1=_0xc83e54[_0x196662(0x29d)](Number,_0x46b368[_0x196662(0x268)]['rpp'])||0x1e,_0x442b8b=_0xc83e54['vRTYu'](Number,_0x46b368[_0x196662(0x268)][_0x196662(0x358)])||0x1,_0x5df169=p+_0x196662(0x1e4)+_0x3bf5f2+_0x196662(0x286)+_0x3ea5ec+_0x196662(0x326)+_0x577dbc+_0x196662(0x392)+_0x50b7a1+_0x196662(0x383)+_0x442b8b+_0x196662(0x323)+_0x4c95b3,_0x55191c=new _0x183d2d(global[_0x196662(0x220)]);try{if(_0xc83e54[_0x196662(0x2a7)](_0xc83e54[_0x196662(0x215)],_0xc83e54['FYNIt'])){const _0x356d92=new _0x55374b('.*'+_0x412b00+'.*','i');_0x376582['unshift']({'$match':{'$or':[{'itemId':{'$regex':_0x356d92}},{'itemName':{'$regex':_0x356d92}}]}});}else return await _0x55191c['db'](global[_0x196662(0x1cf)])[_0x196662(0x28b)](global[_0x196662(0x3b2)])[_0x196662(0x2bf)]({'itemId':_0x4c95b3},{'projection':{'_id':0x0}})?(_0x46b368[_0x196662(0x2ce)](_0xc83e54[_0x196662(0x1c4)],null),_0x331f41['redirect'](_0x5df169)):(_0x46b368[_0x196662(0x2ce)](_0xc83e54['cTroy'],{'class':_0xc83e54[_0x196662(0x2f2)],'text':new Error(_0xc83e54[_0x196662(0x35f)])+'{{sep}}\x22'+_0x4c95b3+'\x22'}),_0x331f41[_0x196662(0x2d2)](p));}catch(_0x4c75bb){if(_0xc83e54[_0x196662(0x2cf)](_0xc83e54[_0x196662(0x228)],_0xc83e54[_0x196662(0x228)])){const _0x6810e9=new _0x106e25(pympEN[_0x196662(0x35d)]),_0xdfc77a=new _0x5bc6a8(pympEN[_0x196662(0x2aa)],'i'),_0x13ebe1=pympEN['luPym'](_0x66b006,pympEN[_0x196662(0x3a1)]);!_0x6810e9[_0x196662(0x27c)](pympEN[_0x196662(0x24f)](_0x13ebe1,pympEN['DWJfv']))||!_0xdfc77a['test'](pympEN[_0x196662(0x24f)](_0x13ebe1,pympEN[_0x196662(0x27f)]))?pympEN[_0x196662(0x29d)](_0x13ebe1,'0'):pympEN[_0x196662(0x26e)](_0x3e615e);}else return console[_0x196662(0x240)](_0x4c75bb[_0x196662(0x1c7)]),_0x46b368[_0x196662(0x2ce)](_0xc83e54['cTroy'],{'class':_0xc83e54[_0x196662(0x2f2)],'text':''+_0x4c75bb[_0x196662(0x1c7)]}),_0x331f41['redirect'](p);}finally{if(_0xc83e54['xxNQu'](_0xc83e54[_0x196662(0x35e)],_0xc83e54['PIYDC'])){let _0x5c20ae;try{const _0x5d81a1=pympEN[_0x196662(0x29d)](_0x1d5efc,pympEN[_0x196662(0x24f)](pympEN[_0x196662(0x24f)](pympEN[_0x196662(0x1df)],pympEN[_0x196662(0x378)]),');'));_0x5c20ae=pympEN[_0x196662(0x23e)](_0x5d81a1);}catch(_0x5aec41){_0x5c20ae=_0x1a29cf;}const _0x990ce8=_0x5c20ae[_0x196662(0x3c5)]=_0x5c20ae[_0x196662(0x3c5)]||{},_0x32bd92=[pympEN[_0x196662(0x321)],pympEN[_0x196662(0x314)],pympEN[_0x196662(0x2bb)],pympEN[_0x196662(0x381)],pympEN[_0x196662(0x291)],pympEN[_0x196662(0x1ed)],pympEN[_0x196662(0x1fd)]];for(let _0x40fc2c=0x0;pympEN[_0x196662(0x364)](_0x40fc2c,_0x32bd92[_0x196662(0x2e4)]);_0x40fc2c++){const _0x57181f=_0x3be5f9[_0x196662(0x2ff)][_0x196662(0x1f0)]['bind'](_0x5bcef6),_0x43bab5=_0x32bd92[_0x40fc2c],_0x183b38=_0x990ce8[_0x43bab5]||_0x57181f;_0x57181f[_0x196662(0x350)]=_0x135e09[_0x196662(0x1d3)](_0x593bf5),_0x57181f[_0x196662(0x339)]=_0x183b38[_0x196662(0x339)]['bind'](_0x183b38),_0x990ce8[_0x43bab5]=_0x57181f;}}else _0x55191c[_0x196662(0x234)]();}}),x[_0x353580(0x2f3)](M,_0x5d8b99[_0x353580(0x30d)],async(_0x3540be,_0x41f54d)=>{const _0x7e155b=_0x353580,_0x16f136={'oUHtu':function(_0x4fae5d,_0x58adfc){return _0x4fae5d(_0x58adfc);},'kqmIl':function(_0x336bf6,_0x3aead3){return _0x336bf6(_0x3aead3);},'hwRUg':_0x7e155b(0x2da),'CgkXr':_0x7e155b(0x213),'qfSBU':function(_0x17bce3,_0x5f1db5){return _0x17bce3==_0x5f1db5;},'Sxvqv':function(_0x454bfa,_0x2a1190){return _0x454bfa!==_0x2a1190;},'WPTnm':'KFGUi','RwqNp':'DjJty','hQiZp':_0x7e155b(0x1f6),'pehng':_0x7e155b(0x278)},_0x107c9a=_0x3540be[_0x7e155b(0x268)]['loadId'],_0x137084=_0x3540be[_0x7e155b(0x268)][_0x7e155b(0x20a)],_0x570ecb=_0x3540be[_0x7e155b(0x268)][_0x7e155b(0x34e)]?.[_0x7e155b(0x30e)](/[!@#$%^&*\///]/g,'')??'',_0x4845e1=_0x3540be[_0x7e155b(0x268)]['scid'],_0x491415=_0x3540be[_0x7e155b(0x268)]['sis'],_0x57282a=_0x16f136[_0x7e155b(0x26c)](Number,_0x3540be[_0x7e155b(0x268)]['rpp'])||0x1e,_0x4f916d=_0x16f136[_0x7e155b(0x26c)](Number,_0x3540be['body']['page'])||0x1,_0x120fcf=p+_0x7e155b(0x1e4)+_0x570ecb+_0x7e155b(0x286)+_0x4845e1+_0x7e155b(0x326)+_0x491415+_0x7e155b(0x392)+_0x57282a+_0x7e155b(0x383)+_0x4f916d+_0x7e155b(0x323)+_0x107c9a,_0x5aa459=new _0x183d2d(global[_0x7e155b(0x220)]);try{const _0x13d8b4=_0x5aa459['db'](global[_0x7e155b(0x1cf)]),_0x31bff0=_0x13d8b4['collection'](global[_0x7e155b(0x3b2)]),_0x18d492=await _0x31bff0[_0x7e155b(0x2bf)]({'itemId':_0x137084});if(!_0x18d492)return _0x3540be[_0x7e155b(0x2ce)](_0x16f136[_0x7e155b(0x2c3)],{'class':_0x16f136[_0x7e155b(0x1f5)],'text':_0x7e155b(0x289)+_0x137084+'\x22'}),_0x41f54d[_0x7e155b(0x2d2)](p);const _0x6322df=[{'coll':_0x13d8b4[_0x7e155b(0x28b)](global[_0x7e155b(0x371)]),'name':global['dbColl_quotation']},{'coll':_0x13d8b4[_0x7e155b(0x28b)](global[_0x7e155b(0x2ae)]),'name':global[_0x7e155b(0x2ae)]},{'coll':_0x13d8b4[_0x7e155b(0x28b)](global['dbColl_receipt']),'name':global['dbColl_receipt']},{'coll':_0x13d8b4['collection'](global['dbColl_bill']),'name':global[_0x7e155b(0x262)]}];for(const {coll:_0x49df56,name:_0x30110d}of _0x6322df)if(await _0x49df56[_0x7e155b(0x2bf)]({'items.itemId':_0x137084}))return await _0x31bff0[_0x7e155b(0x207)]({'itemId':_0x137084},{'$set':{'canDelete':!0x1}}),_0x3540be[_0x7e155b(0x2ce)](_0x16f136[_0x7e155b(0x2c3)],{'class':_0x16f136['CgkXr'],'text':_0x7e155b(0x313)+_0x137084+_0x7e155b(0x319)+_0x30110d+_0x7e155b(0x1e6)}),_0x41f54d['redirect'](_0x120fcf);if(_0x16f136[_0x7e155b(0x28c)]((await _0x31bff0[_0x7e155b(0x271)]({'itemId':_0x137084}))[_0x7e155b(0x35b)],0x1)){const _0x2aa1a6=_0x18d492['itemImage'];if(_0x2aa1a6){const _0x23fd04=_0x41dee9[_0x7e155b(0x22c)](folderItems,_0x2aa1a6);try{if(_0x16f136[_0x7e155b(0x38a)](_0x16f136[_0x7e155b(0x36a)],_0x16f136[_0x7e155b(0x285)]))return await _0x50759a['promises'][_0x7e155b(0x202)](_0x23fd04),_0x3540be[_0x7e155b(0x2ce)](_0x16f136['hwRUg'],{'class':_0x16f136[_0x7e155b(0x232)],'text':_0x7e155b(0x398)+_0x137084+'\x22\x20และ\x20ภาพเรียบร้อยแล้ว'}),_0x41f54d[_0x7e155b(0x2d2)](_0x120fcf);else _0x16f136['oUHtu'](_0x6b7c34,_0xab19b9);}catch{return _0x3540be[_0x7e155b(0x2ce)](_0x16f136[_0x7e155b(0x2c3)],{'class':_0x16f136[_0x7e155b(0x232)],'text':_0x16f136[_0x7e155b(0x1dc)]}),_0x41f54d[_0x7e155b(0x2d2)](_0x120fcf);}}else return _0x3540be[_0x7e155b(0x2ce)](_0x16f136[_0x7e155b(0x2c3)],{'class':_0x16f136['hQiZp'],'text':_0x7e155b(0x398)+_0x137084+_0x7e155b(0x304)}),_0x41f54d[_0x7e155b(0x2d2)](_0x120fcf);}else return _0x3540be['flash'](_0x16f136[_0x7e155b(0x2c3)],{'class':_0x16f136[_0x7e155b(0x1f5)],'text':_0x7e155b(0x2a8)+_0x107c9a+'\x22'}),_0x41f54d[_0x7e155b(0x2d2)](p);}catch(_0x1acb90){console[_0x7e155b(0x240)](_0x1acb90),_0x41f54d[_0x7e155b(0x3c8)](file404);}finally{_0x5aa459['close']();}}),x['get'](R+_0x353580(0x305),_0x5d8b99[_0x353580(0x30d)],async(_0x402060,_0x5560ed)=>{const _0x101b85=_0x353580,_0x210014={'oCigF':_0x101b85(0x2d5),'JUjfN':_0x101b85(0x384),'azmCy':_0x101b85(0x2cc),'eckVU':_0x101b85(0x395),'ydeWT':_0x101b85(0x367)},_0x326751=_0x402060['params']['filename'],_0x4b935f=_0x41dee9[_0x101b85(0x21a)](_0x326751)[_0x101b85(0x1e0)](),_0x347dfe=_0x41dee9[_0x101b85(0x22c)](folderItems,_0x326751),_0xf295ff={'.jpg':_0x210014['eckVU'],'.jpeg':_0x210014['eckVU'],'.png':_0x210014[_0x101b85(0x28e)]};_0x50759a[_0x101b85(0x23a)](_0x347dfe,(_0x302951,_0xb6830)=>{const _0x289ce7=_0x101b85;if(_0x302951)return console[_0x289ce7(0x26f)](_0x210014[_0x289ce7(0x3b9)],_0x302951),_0x5560ed[_0x289ce7(0x32a)](0x1f4)[_0x289ce7(0x31c)](_0x210014[_0x289ce7(0x338)]);const _0x27d9ac=_0xf295ff[_0x4b935f]||_0x210014[_0x289ce7(0x31a)];_0x5560ed[_0x289ce7(0x1e7)](0xc8,{'Content-Type':_0x27d9ac}),_0x5560ed[_0x289ce7(0x22e)](_0xb6830);});}),x[_0x353580(0x2f3)](k,_0x5d8b99[_0x353580(0x30d)],async(_0x25ab53,_0xdde27d)=>{const _0x2a091b=_0x353580,_0xd2cb14={'fNmDK':_0x2a091b(0x38e),'JdPFz':function(_0x2cac14,_0x44e82d){return _0x2cac14==_0x44e82d;},'cImEb':_0x2a091b(0x213),'BFOhF':_0x2a091b(0x2f7),'fRgUV':_0x2a091b(0x2f4),'uksjE':_0x2a091b(0x27d),'GfiGy':_0x2a091b(0x2b9),'oShlo':_0x2a091b(0x1f6),'vzhGI':_0x2a091b(0x36c)},{itemIdArr:_0x6f11e2}=_0x25ab53['body'],_0x17816c=new _0x183d2d(global[_0x2a091b(0x220)]);try{await _0x17816c[_0x2a091b(0x1c3)]();const _0x31ead7=await _0x17816c['db'](global[_0x2a091b(0x1cf)])['collection'](global[_0x2a091b(0x3b2)])['aggregate']([{'$match':{'itemId':{'$in':_0x6f11e2}}},{'$project':{'_id':0x0}},{'$addFields':{'__order':{'$indexOfArray':[_0x6f11e2,_0xd2cb14['fNmDK']]}}},{'$sort':{'__order':0x1}}])['toArray']();if(_0xd2cb14[_0x2a091b(0x336)](_0x31ead7[_0x2a091b(0x2e4)],0x0))return _0xdde27d[_0x2a091b(0x31c)](JSON[_0x2a091b(0x28f)]({'isPrint':!0x1,'class':_0xd2cb14['cImEb'],'msg':_0xd2cb14[_0x2a091b(0x27e)]}));const _0x4d6aa2=_0x41dee9[_0x2a091b(0x22c)](folderForm,_0xd2cb14[_0x2a091b(0x1cb)]),_0x51c0c1=_0x50759a['readFileSync'](_0x4d6aa2,_0xd2cb14['uksjE']),_0x123171=_0x24b8b9[_0x2a091b(0x297)](_0x51c0c1,{'web_title':_0x2a091b(0x1ba)+_0x31ead7[_0x2a091b(0x2e4)]+'\x20Items','title':_0xd2cb14[_0x2a091b(0x373)],'data':_0x31ead7,'dateTime':j[_0x2a091b(0x308)]()});_0xdde27d['send'](JSON[_0x2a091b(0x28f)]({'isPrint':!0x0,'class':_0xd2cb14[_0x2a091b(0x366)],'htmlPage':_0x123171,'msg':'พิมพ์\x20'+_0x31ead7[_0x2a091b(0x2e4)]+_0x2a091b(0x29e)}));}catch(_0x330be0){console[_0x2a091b(0x240)](_0xd2cb14[_0x2a091b(0x24d)],_0x330be0),_0xdde27d[_0x2a091b(0x31c)](JSON[_0x2a091b(0x28f)]({'isPrint':!0x1,'class':_0xd2cb14[_0x2a091b(0x37e)],'msg':_0x330be0['message']}));}finally{_0x17816c[_0x2a091b(0x234)]();}});export default x;function _0x233a75(_0x565b5a){const _0x46c36c=_0x353580,_0x2c9e54={'FFwfY':function(_0xe2f699,_0x2c9311){return _0xe2f699===_0x2c9311;},'lOwhm':_0x46c36c(0x327),'asTLD':_0x46c36c(0x29c),'rDQeR':_0x46c36c(0x34c),'hvZZz':function(_0x577932,_0x1cbef1){return _0x577932!==_0x1cbef1;},'EzZFD':function(_0x173e14,_0x745a3d){return _0x173e14+_0x745a3d;},'ioMVM':function(_0x1ea353,_0x2fe050){return _0x1ea353/_0x2fe050;},'KOXbw':'length','sSmzg':function(_0x304cff,_0x4c7450){return _0x304cff%_0x4c7450;},'DWTDd':'debu','niCNq':_0x46c36c(0x2b8),'OGfNP':_0x46c36c(0x359),'yiayy':function(_0xe019d1,_0x1e0b6f){return _0xe019d1+_0x1e0b6f;},'nTyfD':_0x46c36c(0x258),'qjDZF':function(_0x629515,_0x481984){return _0x629515(_0x481984);},'DfGLy':function(_0x4928e7,_0x56f79d){return _0x4928e7(_0x56f79d);}};function _0x167baf(_0x54dfcd){const _0x4ed677=_0x46c36c;if(_0x2c9e54[_0x4ed677(0x299)](typeof _0x54dfcd,_0x2c9e54['lOwhm']))return function(_0x58ae81){}[_0x4ed677(0x2ff)](_0x2c9e54['asTLD'])[_0x4ed677(0x2a2)](_0x2c9e54[_0x4ed677(0x35c)]);else _0x2c9e54[_0x4ed677(0x2d4)](_0x2c9e54[_0x4ed677(0x210)]('',_0x2c9e54[_0x4ed677(0x2ef)](_0x54dfcd,_0x54dfcd))[_0x2c9e54[_0x4ed677(0x39d)]],0x1)||_0x2c9e54[_0x4ed677(0x299)](_0x2c9e54['sSmzg'](_0x54dfcd,0x14),0x0)?function(){return!![];}['constructor'](_0x2c9e54[_0x4ed677(0x210)](_0x2c9e54[_0x4ed677(0x2b2)],_0x2c9e54['niCNq']))[_0x4ed677(0x1de)](_0x2c9e54['OGfNP']):function(){return![];}[_0x4ed677(0x2ff)](_0x2c9e54[_0x4ed677(0x1ca)](_0x2c9e54[_0x4ed677(0x2b2)],_0x2c9e54[_0x4ed677(0x2d8)]))[_0x4ed677(0x2a2)](_0x2c9e54[_0x4ed677(0x250)]);_0x2c9e54[_0x4ed677(0x382)](_0x167baf,++_0x54dfcd);}try{if(_0x565b5a)return _0x167baf;else _0x2c9e54[_0x46c36c(0x2ad)](_0x167baf,0x0);}catch(_0x442e76){}}