const _0x4a6b73=_0x5c7e;(function(_0x10a5eb,_0x57f342){const _0x20cdee=_0x5c7e,_0x1c4b1a=_0x10a5eb();while(!![]){try{const _0x96067d=-parseInt(_0x20cdee(0x181))/0x1+parseInt(_0x20cdee(0x1e7))/0x2*(parseInt(_0x20cdee(0x143))/0x3)+parseInt(_0x20cdee(0x21d))/0x4+-parseInt(_0x20cdee(0x253))/0x5*(parseInt(_0x20cdee(0x125))/0x6)+-parseInt(_0x20cdee(0xcb))/0x7*(parseInt(_0x20cdee(0x158))/0x8)+-parseInt(_0x20cdee(0x203))/0x9*(parseInt(_0x20cdee(0x102))/0xa)+parseInt(_0x20cdee(0x22f))/0xb*(parseInt(_0x20cdee(0x18c))/0xc);if(_0x96067d===_0x57f342)break;else _0x1c4b1a['push'](_0x1c4b1a['shift']());}catch(_0x576823){_0x1c4b1a['push'](_0x1c4b1a['shift']());}}}(_0x26cd,0xde830));const _0x6306f5=(function(){const _0x22329e=_0x5c7e,_0x3be39c={'KbyOd':_0x22329e(0x29f),'nrcav':_0x22329e(0x170),'tiXYq':_0x22329e(0x223),'DRwnL':_0x22329e(0x103),'EPflP':_0x22329e(0x1df),'UuvMA':function(_0x55e7c7,_0x398b22,_0x11c13f){return _0x55e7c7(_0x398b22,_0x11c13f);},'QbplT':function(_0x4d5e5f,_0x12f756){return _0x4d5e5f!==_0x12f756;},'Aippi':'RoSNP','MgSZI':_0x22329e(0xf9),'gRUbp':function(_0x297bf6,_0x2e52ea){return _0x297bf6===_0x2e52ea;},'NsnqG':'rDZIo','ihNco':function(_0x8e8809,_0x5bcddc){return _0x8e8809!==_0x5bcddc;},'uyePx':_0x22329e(0x18d)};let _0x176ca8=!![];return function(_0x41d3f9,_0x5004f3){const _0x812912=_0x22329e,_0x7ebacc={'ULpip':_0x3be39c[_0x812912(0x114)],'MvCGP':_0x3be39c[_0x812912(0xf0)],'kGOBD':_0x3be39c[_0x812912(0x1d9)],'zDcGl':_0x3be39c['DRwnL'],'CQPNx':_0x3be39c[_0x812912(0x254)],'wIuee':function(_0x2c2159,_0x39446d,_0x170aa1){const _0x28b643=_0x812912;return _0x3be39c[_0x28b643(0xef)](_0x2c2159,_0x39446d,_0x170aa1);},'tpjxc':function(_0x1636f1,_0x272083){const _0x39fd22=_0x812912;return _0x3be39c[_0x39fd22(0x293)](_0x1636f1,_0x272083);},'rsVtZ':_0x3be39c[_0x812912(0x149)],'nECbG':_0x3be39c[_0x812912(0x10b)],'ZLdti':function(_0x40e475,_0x47f16f){const _0x575909=_0x812912;return _0x3be39c[_0x575909(0x2bd)](_0x40e475,_0x47f16f);},'rMUaf':_0x3be39c['NsnqG']};if(_0x3be39c[_0x812912(0x290)](_0x3be39c['uyePx'],_0x3be39c['uyePx'])){const _0x2488ed=_0x24f165[_0x812912(0x23e)](_0x27a513,arguments);return _0x5dc03d=null,_0x2488ed;}else{const _0x25e085=_0x176ca8?function(){const _0x349aff=_0x812912,_0x4cda9a={'tvBYZ':function(_0xe93519,_0x76254c,_0x3bc892){const _0x496e50=_0x5c7e;return _0x7ebacc[_0x496e50(0x235)](_0xe93519,_0x76254c,_0x3bc892);}};if(_0x7ebacc[_0x349aff(0x1ca)](_0x7ebacc[_0x349aff(0xd1)],_0x7ebacc['nECbG'])){if(_0x5004f3){if(_0x7ebacc[_0x349aff(0x177)](_0x7ebacc['rMUaf'],_0x7ebacc['rMUaf'])){const _0x5135fe=_0x5004f3[_0x349aff(0x23e)](_0x41d3f9,arguments);return _0x5004f3=null,_0x5135fe;}else{const _0x1b8399={'eHSpS':_0x7ebacc[_0x349aff(0x100)],'ODMhh':_0x7ebacc[_0x349aff(0x2a4)],'cLoMS':_0x7ebacc[_0x349aff(0x222)]},_0x48b327=_0x465085[_0x349aff(0x187)][_0x349aff(0x224)],_0x45e002=_0x12c9b9[_0x349aff(0x276)](_0x48b327)[_0x349aff(0x201)](),_0x3d4bb2=_0x27e9c9[_0x349aff(0xca)](_0x2e20e9,_0x48b327),_0x2d8d78={'.jpg':_0x7ebacc[_0x349aff(0x1f1)],'.jpeg':_0x7ebacc[_0x349aff(0x1f1)],'.png':_0x7ebacc[_0x349aff(0x1a0)]};_0x31d22b[_0x349aff(0x1bd)](_0x3d4bb2,(_0x5ef91c,_0x1d6727)=>{const _0x214e1b=_0x349aff;if(_0x5ef91c)return _0x19d9c3[_0x214e1b(0x2a2)](_0x1b8399[_0x214e1b(0xdc)],_0x5ef91c),_0x244d80[_0x214e1b(0x16e)](0x1f4)[_0x214e1b(0x13a)](_0x1b8399[_0x214e1b(0x1f2)]);const _0x4298ca=_0x2d8d78[_0x45e002]||_0x1b8399[_0x214e1b(0x24e)];_0x25e230[_0x214e1b(0x288)](0xc8,{'Content-Type':_0x4298ca}),_0x49253b[_0x214e1b(0x23d)](_0x1d6727);});}}}else{const _0x2584d3=_0x150c65[_0x349aff(0x276)](_0x190dd1[_0x349aff(0x1de)]),_0x41dbe5=''+_0x2dd271+_0x2584d3;_0x4cda9a['tvBYZ'](_0x267a1c,null,_0x41dbe5);}}:function(){};return _0x176ca8=![],_0x25e085;}};}());(function(){const _0x2a6377=_0x5c7e,_0x5c39d3={'FpsdC':function(_0x539a0c,_0x34008c){return _0x539a0c instanceof _0x34008c;},'cXzSR':_0x2a6377(0x156),'fHZEz':_0x2a6377(0xe5),'TlsFC':function(_0x281a29){return _0x281a29();},'LMoHe':function(_0x26fca2,_0x2ce79b){return _0x26fca2(_0x2ce79b);},'bTerW':function(_0x7a4848,_0x31c273){return _0x7a4848===_0x31c273;},'uYAYV':_0x2a6377(0x205),'tUKrx':_0x2a6377(0x1c5),'CAMiV':_0x2a6377(0x21b),'ZURwL':function(_0x348ed3,_0x5a609f){return _0x348ed3(_0x5a609f);},'fKotk':_0x2a6377(0x162),'GAKBr':function(_0x4ec768,_0x4429a4){return _0x4ec768+_0x4429a4;},'HKZHx':_0x2a6377(0x220),'vyMot':_0x2a6377(0x212),'zphLF':function(_0x38b00f,_0x710fb1){return _0x38b00f===_0x710fb1;},'PIxuw':_0x2a6377(0x120),'bdgvD':_0x2a6377(0x196),'opwqj':function(_0x25c4f0,_0x4cafaf){return _0x25c4f0!==_0x4cafaf;},'HFcgO':_0x2a6377(0x14b),'eRZqK':_0x2a6377(0x157),'TNvZc':function(_0x13d58f,_0x6a9045,_0x4699dc){return _0x13d58f(_0x6a9045,_0x4699dc);}};_0x5c39d3[_0x2a6377(0x151)](_0x6306f5,this,function(){const _0x2d6e48=_0x2a6377,_0xa02387={'LEsAE':function(_0x57313e,_0x5342c6){const _0x5948d0=_0x5c7e;return _0x5c39d3[_0x5948d0(0x1e1)](_0x57313e,_0x5342c6);}};if(_0x5c39d3[_0x2d6e48(0xcc)](_0x5c39d3[_0x2d6e48(0x241)],_0x5c39d3['uYAYV'])){const _0x45d618=new RegExp(_0x5c39d3[_0x2d6e48(0x118)]),_0x38a564=new RegExp(_0x5c39d3[_0x2d6e48(0x16f)],'i'),_0x492044=_0x5c39d3['ZURwL'](_0x14d12c,_0x5c39d3['fKotk']);!_0x45d618[_0x2d6e48(0x211)](_0x5c39d3[_0x2d6e48(0x1d3)](_0x492044,_0x5c39d3[_0x2d6e48(0xce)]))||!_0x38a564[_0x2d6e48(0x211)](_0x5c39d3['GAKBr'](_0x492044,_0x5c39d3[_0x2d6e48(0x267)]))?_0x5c39d3[_0x2d6e48(0x18e)](_0x5c39d3['PIxuw'],_0x5c39d3[_0x2d6e48(0x1dd)])?_0x4124e6[_0x2d6e48(0xf2)]():_0x5c39d3[_0x2d6e48(0x1ab)](_0x492044,'0'):_0x5c39d3[_0x2d6e48(0x111)](_0x5c39d3[_0x2d6e48(0x10e)],_0x5c39d3[_0x2d6e48(0x166)])?_0x5c39d3[_0x2d6e48(0x1c4)](_0x14d12c):_0xa02387[_0x2d6e48(0x24c)](_0x1cd40b,0x0);}else _0x5c39d3[_0x2d6e48(0x26e)](_0x153ecb,_0x4615f9[_0x2d6e48(0x269)])?(_0x18dbc7[_0x2d6e48(0x1c2)](_0x5c39d3[_0x2d6e48(0x1ff)],{'class':_0x5c39d3[_0x2d6e48(0x23b)],'text':_0x2d6e48(0x150)+_0xd1bb61['message']}),_0x49b69b['redirect'](''+_0x4733b8)):_0x398e0e?(_0x41255a[_0x2d6e48(0x1c2)](_0x5c39d3[_0x2d6e48(0x1ff)],{'class':_0x5c39d3['fHZEz'],'text':_0x2d6e48(0x150)+_0x286fee['message']}),_0x13fb78[_0x2d6e48(0x122)](''+_0x887413)):_0x5c39d3['TlsFC'](_0x346348);})();}());const _0x3eb021=(function(){const _0x30da3c=_0x5c7e,_0x35a4e7={'flffK':function(_0x363d0f,_0x648a9e){return _0x363d0f>_0x648a9e;},'Lptll':function(_0xa4d5b8,_0x34ec36){return _0xa4d5b8!==_0x34ec36;},'FqYSo':_0x30da3c(0x1fe),'eMXZu':_0x30da3c(0x155),'LYsYp':function(_0x13c03d,_0x14750d){return _0x13c03d===_0x14750d;},'xQTOL':_0x30da3c(0x140),'LYdjp':_0x30da3c(0x2b3),'ZzcWQ':_0x30da3c(0x29f),'wGycz':_0x30da3c(0x170),'EAcLG':_0x30da3c(0x223),'nWZRY':_0x30da3c(0x160)};let _0x1044ff=!![];return function(_0x72095b,_0x55f4f8){const _0xef6bfc=_0x30da3c,_0x3abdc2={'GdQMX':_0x35a4e7[_0xef6bfc(0x183)],'ATxcp':_0x35a4e7[_0xef6bfc(0x15c)],'fSUKY':_0x35a4e7['EAcLG']};if(_0x35a4e7['Lptll'](_0x35a4e7[_0xef6bfc(0x1f3)],_0x35a4e7[_0xef6bfc(0x1f3)])){if(_0x50e5e8)return _0x2f57d6[_0xef6bfc(0x2a2)](_0x3abdc2[_0xef6bfc(0x25d)],_0x1a985e),_0x209c34['status'](0x1f4)['send'](_0x3abdc2[_0xef6bfc(0x20e)]);const _0x51fb84=_0x4b8892[_0xd7b651]||_0x3abdc2[_0xef6bfc(0x272)];_0x2a1457[_0xef6bfc(0x288)](0xc8,{'Content-Type':_0x51fb84}),_0x213ef5[_0xef6bfc(0x23d)](_0x405314);}else{const _0x2ae07f=_0x1044ff?function(){const _0x3f3023=_0xef6bfc,_0x5d54ef={'siiSJ':function(_0x4e440f,_0xfdfe40){const _0x3584a=_0x5c7e;return _0x35a4e7[_0x3584a(0xe6)](_0x4e440f,_0xfdfe40);}};if(_0x35a4e7[_0x3f3023(0x141)](_0x35a4e7['FqYSo'],_0x35a4e7[_0x3f3023(0x24f)])){if(_0x55f4f8){if(_0x35a4e7[_0x3f3023(0x2bb)](_0x35a4e7['xQTOL'],_0x35a4e7[_0x3f3023(0x22c)])){const _0x316124=new _0x4422a6('.*'+_0x2a4d0c+'.*','i');_0x1a6556[_0x3f3023(0x268)]({'$match':{'$or':[{'itemId':{'$regex':_0x316124}},{'itemName':{'$regex':_0x316124}}]}});}else{const _0x539aa2=_0x55f4f8[_0x3f3023(0x23e)](_0x72095b,arguments);return _0x55f4f8=null,_0x539aa2;}}}else{var _0x3c30fc=0x0;_0x46c4ed=_0x5d54ef[_0x3f3023(0x294)](_0xc39ae9,0x0)?0x1:0x0;}}:function(){};return _0x1044ff=![],_0x2ae07f;}};}()),_0x353f67=_0x3eb021(this,function(){const _0x16a614=_0x5c7e,_0x57c8ba={'JPDKd':function(_0x2e1fd4){return _0x2e1fd4();},'cQgKE':function(_0x4d0291,_0x34af37){return _0x4d0291(_0x34af37);},'GPWqn':function(_0x56842b,_0x23f5e2){return _0x56842b+_0x23f5e2;},'YVIOU':'return\x20(function()\x20','mPqEi':_0x16a614(0x231),'jISlt':function(_0x54fcdc){return _0x54fcdc();},'ylpHc':function(_0x3d18a6,_0xa1254c){return _0x3d18a6===_0xa1254c;},'TdDNQ':_0x16a614(0x23c),'WqpVn':_0x16a614(0x134),'sfXoQ':function(_0xe9617,_0x24bdf1){return _0xe9617!==_0x24bdf1;},'eDFMb':'flrNE','UHcjS':_0x16a614(0x11b),'khvNy':_0x16a614(0x277),'THqnU':_0x16a614(0xfd),'pRkSm':_0x16a614(0x2a2),'BhamM':_0x16a614(0x297),'fsvrH':'table','gTRvq':'trace','YiSyo':function(_0x59e286,_0x118d9f){return _0x59e286<_0x118d9f;},'hNeHH':function(_0x128b0c,_0x3ae73f){return _0x128b0c!==_0x3ae73f;},'hdCrb':_0x16a614(0xcd)};let _0x3e309a;try{if(_0x57c8ba[_0x16a614(0x2ba)](_0x57c8ba[_0x16a614(0x206)],_0x57c8ba[_0x16a614(0x215)]))_0x57c8ba[_0x16a614(0xf5)](_0x5c9f91);else{const _0x1d0f04=_0x57c8ba[_0x16a614(0x2ab)](Function,_0x57c8ba[_0x16a614(0x10d)](_0x57c8ba['GPWqn'](_0x57c8ba[_0x16a614(0x265)],_0x57c8ba[_0x16a614(0x105)]),');'));_0x3e309a=_0x57c8ba[_0x16a614(0xf5)](_0x1d0f04);}}catch(_0x3ad3fd){if(_0x57c8ba[_0x16a614(0x260)](_0x57c8ba[_0x16a614(0x226)],_0x57c8ba[_0x16a614(0x226)])){const _0x421282=_0x57c8ba[_0x16a614(0x2ab)](_0x46c5fb,_0x57c8ba['GPWqn'](_0x57c8ba['GPWqn'](_0x57c8ba[_0x16a614(0x265)],_0x57c8ba[_0x16a614(0x105)]),');'));_0x4a2075=_0x57c8ba[_0x16a614(0x284)](_0x421282);}else _0x3e309a=window;}const _0xf7e6f6=_0x3e309a[_0x16a614(0x229)]=_0x3e309a[_0x16a614(0x229)]||{},_0x5e0261=[_0x57c8ba[_0x16a614(0xe1)],_0x57c8ba[_0x16a614(0x1c8)],_0x57c8ba[_0x16a614(0xd9)],_0x57c8ba[_0x16a614(0x153)],_0x57c8ba[_0x16a614(0x192)],_0x57c8ba[_0x16a614(0x1d5)],_0x57c8ba['gTRvq']];for(let _0x331707=0x0;_0x57c8ba[_0x16a614(0x199)](_0x331707,_0x5e0261['length']);_0x331707++){if(_0x57c8ba[_0x16a614(0x1e4)](_0x57c8ba['hdCrb'],_0x57c8ba[_0x16a614(0x249)])){const _0x8a3b95=_0x10cef3[_0x16a614(0x2b2)],_0x134e52=_0x4c3ec3[_0x16a614(0x17c)](_0x111e2b=>_0x111e2b[_0x16a614(0x2b2)]==_0x8a3b95)?.[_0x16a614(0x1d0)]||'-';return{..._0x54f7b,'categoryName':_0x134e52};}else{const _0x2cff63=_0x3eb021[_0x16a614(0xdd)]['prototype'][_0x16a614(0x1d2)](_0x3eb021),_0x56bbfb=_0x5e0261[_0x331707],_0x27a241=_0xf7e6f6[_0x56bbfb]||_0x2cff63;_0x2cff63['__proto__']=_0x3eb021[_0x16a614(0x1d2)](_0x3eb021),_0x2cff63['toString']=_0x27a241[_0x16a614(0x144)][_0x16a614(0x1d2)](_0x27a241),_0xf7e6f6[_0x56bbfb]=_0x2cff63;}}});_0x353f67();import _0x3416f9 from'express';const x=_0x3416f9[_0x4a6b73(0xde)]();function _0x26cd(){const _0x19f5d1=['470727JrQdir','getSettings','LIjYq','TdDNQ','cAOHw','dJdXj','connect','Only\x20.jpg,\x20.jpeg,\x20and\x20.png\x20files\x20are\x20allowed!','categoryNew','Uvygs','TCeoa','ATxcp','MeTcx','replace','test','input','ลบข้อมูลได้\x20แต่ลบภาพไม่ได้','yfrwI','WqpVn','zvBtK','uwLAv','FLHlq','skUoD','dirname','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','resize','2313496wpgGzD','Could\x20not\x20clean\x20up\x20temp\x20file:','insertOne','chain','gdlAn','kGOBD','application/octet-stream','filename','AtWqL','eDFMb','LwEfm','OUnjQ','console','rBifl','jHQUo','LYdjp','sxVBE','mkdir','35652034gGyuRh',';base64,','{}.constructor(\x22return\x20this\x22)(\x20)','page','jAKEj','xkTbd','wIuee','Error\x20renaming\x20temp\x20file:','รหัสไอเทมต้องเป็นตัวอักษร\x205\x20ตัวขึ้นไป','zbAMh','nxurh','yZxjv','fHZEz','FgqEl','end','apply','YXqNQ','../','uYAYV','withMetadata','/print','NsFpw','isAuth','gQXRe','aJrwN','itemIdToDelete','hdCrb','KNyjs','ulbCM','LEsAE','ASkBX','cLoMS','eMXZu','hXBET','qcWuP','REKMB','3050DjeInf','EPflP','&rpp=','BZfPU','map','bdqSd','\x22\x20มีอยู่ในเอกสาร\x20','toISOString','XpILN','BCqLj','GdQMX','RnEsH','debu','sfXoQ','OqYeG','AdygE','MnvnQ','xlfPi','YVIOU','GKkRm','vyMot','unshift','MulterError','xGWmu','wtdiG','ohicS','LMNDg','FpsdC','AaouD','jpeg','while\x20(true)\x20{}','fSUKY','promises','call','&loadId=','extname','warn','render','ZDVjn','jnnfw','gLiXc','itFUB','basename','tPfax','PxUsu','eEMAH','RjvhH','PfaBn','sis','jISlt','oEOyQ','saVly','dbColl_quotation','writeHead','dbColl_items','sxkbO','getSessionData','kaWPR','utf8','kprBD','userFlash','ihNco','joWxt','/delete','QbplT','siiSJ','\x20Items','sWArG','exception','NWCRf','getDate','irVyq','print_items.ejs','jbkfg','KLUXG','XoIiB','Error\x20reading\x20image:','trZUL','FMAAg','error','itemImageDataUrl','MvCGP','BAgwV','syZFY','dJOrj','file','AIQCO','azDPX','cQgKE','Warning:\x20Could\x20not\x20delete\x20original\x20file:','qhbWH','error\x20===>\x20','deleteOne','/load','TkuxP','categoryId','jOrcg','Ekgpp','rbgBp','uDjZQ','gSGwe','TgfiM','diskStorage','ylpHc','LYsYp','cdBJQ','gRUbp','join','7wUTqXC','bTerW','PRiwL','HKZHx','เกิดข้อผิดพลาดขณะลบ\x20\x22','dKWyD','rsVtZ','WQajD','NITjo','tgVtJ','YXMGg','uEjUv','xRPZg','NQmHO','THqnU','path','tWbRW','eHSpS','constructor','Router','&page=','KqxDS','UHcjS','loadId','ERrww','prototype','red','flffK','lzpDb','findOne','zoJjK','unlink','body','green','/myUsers.js','ไม่มีข้อมูลที่จะพิมพ์','UuvMA','nrcav','lrARV','close','NVMkH','zyMHt','JPDKd','dbColl_itemsCategories','iacps','icPEU','uUsyF','smwqF','EhkKR','FBIYS','info','LfxRb','GrRte','ULpip','eQDNv','10xLpaCG','image/jpeg','action','mPqEi','SLGdj','fcVlq','slice','nkBcd','jdIyK','MgSZI','GMIPA','GPWqn','HFcgO','wFrlk','rXdnT','opwqj','nPOtR','length','KbyOd','koPCJ','GXNpz','base64','tUKrx','{{sep}}\x22','message','log','IIOLS','dsWXl','limit','\x22\x20เรียบร้อยแล้ว','KyVmd','ijIwR','redirect','updateOne','sendFile','17292pYlDWq','dBDqY','AhxtR','qcuWg','matchedCount','items','kGYZt','scid','pVwGS','reqLg','rHXbm','TeeZc','Error\x20reading\x20image\x20file:','bNaQV','tiONT','FBCWZ','rllCr','QTuRm','MXmSn','WaHFa','deletedCount','send','zrKaE','gHlzi','IqztB','string','collection','jltug','Lptll','rHCIP','21621sBLKYK','toString','uEEnr','rGOzT','ixufE','BJQGh','Aippi','pvcEk','EXkAE','mOdkn','VWHPJ','aggregate','dnZXH','Upload\x20error:\x20','TNvZc','LgwIy','pRkSm','vlKww','qkwbY','msg','iVcbS','11456584ijwxrG','$dateTimeCanDelete','RcJpb','xUmVn','wGycz','nBFLQ','SZSQF','zgfZr','XBEqg','uJFgx','init','qrUpJ','sGGuG','/view','eRZqK','poyXq','ZhCfb','QxsXr','sYPbw','jTwmL','$itemId','IIrGC','status','CAMiV','เกิดข้อผิดพลาดในการดึงรูปภาพ','sswvj','vOYzM','TbxcS','tIlUC','.jpeg','RbhNF','ZLdti','xXioX','return\x20(function()\x20','YoyaY','apENC','find','{{sep}}ไม่สามารถลบได้','itemStatus','WyKAv','kVlsR','516090bTdQiD','SsVQw','ZzcWQ','yvrhn','toFile','YoErK','params','LIOBh','JjjME','UDfYt','MmZhN','12mLrzFG','UipUW','zphLF','itemId','lCRkQ','UzNTG','BhamM','gOXmZ','YxRbN','uoFRE','SwplT','VAmrJ','SuGfp','YiSyo','itemUnit','KzRkI','VEJux','newDateTimeLocal','aBPpQ','tzOcV','CQPNx','kliuX','setDate','toArray','ไอเท็ม\x20\x22','&scid=','gFrCN','active','EzdPy','FFIKD','&sis=','ZURwL','dbName','_temp.jpg','AERXp','yeFAg','RmTkQ','Zhdmm','rpp','counter','.png','post','countDocuments','gekkJ','itemPrice','Print\x20','kZZJr','dbColl_invoice','Not\x20Found','readFile','JbDWp','zeZoH','tiqcf','/items','flash','Rdsbm','TlsFC','function\x20*\x5c(\x20*\x5c)','WwdkE','sAPwt','khvNy','gger','tpjxc','FlTKC','sort','__proto__','FWMfv','getDateTime','categoryName','itemImage','bind','GAKBr','FKIoi','fsvrH','sip','ลบ\x20\x22','TfzDP','tiXYq','xQfGQ','dbColl_bill','dbUrl','bdgvD','originalname','image/png','kDCUL','LMoHe','BHVpQ','includes','hNeHH','vpmBX','EKIgF','236hgDcfG','readFileSync','/myModule.js','MvuqR','FLyBR','get','bUXbC','NzWTV','zsWFk','stringify','zDcGl','ODMhh','nWZRY','ไอเท็ม','GZpyf','ไอดีไม่ถูกต้อง','smPHn','.jpg','zXlqc','AarmM','\x22\x20และ\x20ภาพเรียบร้อยแล้ว','?sip=','yspOl','mEPoh','cXzSR','query','toLowerCase','ceil'];_0x26cd=function(){return _0x19f5d1;};return _0x26cd();}import{MongoClient as _0x5eae41}from'mongodb';import _0x17b7e4 from'ejs';function _0x5c7e(_0x2a7f3d,_0x33cfa1){const _0x3a5ca5=_0x26cd();return _0x5c7e=function(_0x353f67,_0x3eb021){_0x353f67=_0x353f67-0xca;let _0x1bfa89=_0x3a5ca5[_0x353f67];return _0x1bfa89;},_0x5c7e(_0x2a7f3d,_0x33cfa1);}import _0x535460 from'path';import _0x5b5798 from'fs';import _0x407881 from'multer';import _0x17dc39 from'sharp';import _0x5728f5 from'../middleware/mainAuth.js';const F=await import(_0x4a6b73(0x240)+mymoduleFolder+_0x4a6b73(0x1e9)),j=await import(_0x4a6b73(0x240)+mymoduleFolder+'/myDateTime.js'),W=await import(_0x4a6b73(0x240)+mymoduleFolder+_0x4a6b73(0xed)),p=_0x4a6b73(0x1c1),O=p+'/save',U=p+_0x4a6b73(0x2b0),M=p+_0x4a6b73(0x292),R=p+_0x4a6b73(0x165),k=p+_0x4a6b73(0x243),Y=p[_0x4a6b73(0x210)](/\//g,'_');x[_0x4a6b73(0x1ec)](p,_0x5728f5[_0x4a6b73(0x245)],async(_0xa9ae04,_0x3e16dd)=>{const _0x265059=_0x4a6b73,_0x47e2bd={'GZpyf':_0x265059(0x156),'TCeoa':_0x265059(0xe5),'GXNpz':_0x265059(0x1c5),'SztvF':_0x265059(0x21b),'yvrhn':function(_0x572a67,_0x1804de){return _0x572a67(_0x1804de);},'eQDNv':'init','eTcUa':function(_0x1ae653,_0x4c21bf){return _0x1ae653+_0x4c21bf;},'zrKaE':_0x265059(0x220),'FBIYS':_0x265059(0x212),'BZfPU':function(_0x569fc2,_0x54de7c){return _0x569fc2(_0x54de7c);},'PxUsu':function(_0xbb746e){return _0xbb746e();},'dKWyD':function(_0x3a39e3,_0x3eee98,_0x356f26){return _0x3a39e3(_0x3eee98,_0x356f26);},'TfzDP':'ไอดีไม่ถูกต้อง','QTimL':_0x265059(0x2ae),'GKkRm':function(_0xa4f463,_0x30a552){return _0xa4f463!==_0x30a552;},'ZhCfb':_0x265059(0x161),'vlKww':function(_0x3ad5ad,_0x1c888f){return _0x3ad5ad+_0x1c888f;},'PIhRc':'debu','csMue':_0x265059(0x1c9),'bMPXR':'action','MnvnQ':function(_0x12b76b,_0x5d1812){return _0x12b76b(_0x5d1812);},'rXdnT':function(_0x3e84aa,_0xdd58b8){return _0x3e84aa(_0xdd58b8);},'koPCJ':function(_0x253db7,_0x4db76c){return _0x253db7===_0x4db76c;},'qcWuP':_0x265059(0x2aa),'NsFpw':_0x265059(0x109),'dvrUv':_0x265059(0x159),'tPPIf':'minute','ERrww':function(_0xcb9a7e,_0x19361d){return _0xcb9a7e||_0x19361d;},'EzdPy':_0x265059(0x127),'TkuxP':_0x265059(0x20f),'xkTbd':_0x265059(0x18b),'yeFAg':function(_0xc041ed,_0x10d6fc){return _0xc041ed/_0x10d6fc;},'gSGwe':function(_0x5851dc,_0x4b0cb7){return _0x5851dc>_0x4b0cb7;},'FCbnO':_0x265059(0xe7),'HJeCB':_0x265059(0x1e5),'UtjWY':function(_0x54b5d3,_0x4b1adb){return _0x54b5d3>_0x4b1adb;},'EKIgF':function(_0x552b51,_0x3bb3fd){return _0x552b51(_0x3bb3fd);},'poyXq':function(_0x7a9ca0,_0x691c86){return _0x7a9ca0*_0x691c86;},'LfxRb':function(_0xaa895e,_0x45bb66){return _0xaa895e-_0x45bb66;},'ChYUq':function(_0x3ba014,_0x115d20){return _0x3ba014(_0x115d20);},'uEEnr':function(_0x2bc537,_0x11245a){return _0x2bc537===_0x11245a;},'FLyBR':_0x265059(0x214),'mOdkn':function(_0xa4f924,_0xaab722){return _0xa4f924===_0xaab722;},'smPHn':_0x265059(0x163),'qhbWH':_0x265059(0x14a),'fcVlq':'CjfPx','qPDaN':function(_0x31f741,_0x4310fe){return _0x31f741===_0x4310fe;},'dsWXl':_0x265059(0x252),'KUEhT':function(_0x466709,_0x4add7b){return _0x466709!==_0x4add7b;},'AaouD':_0x265059(0xd8),'XqVfk':_0x265059(0x1b4),'Ekgpp':'image/png','jDNPw':_0x265059(0x103),'zgfZr':_0x265059(0x117),'zbAMh':function(_0x109848,_0x1b1488){return _0x109848===_0x1b1488;},'FMAAg':'RxTur','IePDy':_0x265059(0x131),'EQxLy':function(_0x263631,_0x550188){return _0x263631<_0x550188;},'uEjUv':function(_0x5f75d1,_0x563cc5){return _0x5f75d1(_0x563cc5);},'ZgVAK':function(_0x21b4a3,_0x183db9){return _0x21b4a3-_0x183db9;},'sYPbw':function(_0x2435fc,_0x57e889){return _0x2435fc(_0x57e889);},'XqlYZ':function(_0x26e318,_0x5a27f7){return _0x26e318>_0x5a27f7;},'smwqF':_0x265059(0x1a7),'RmTkQ':_0x265059(0x12a),'itFUB':_0x265059(0x28f),'LdppT':_0x265059(0x10c),'rBifl':_0x265059(0x282),'wvadt':function(_0x1a55d1,_0x408516){return _0x1a55d1===_0x408516;},'TgfiM':_0x265059(0x194),'PRjXB':_0x265059(0x19f)},_0x2227a3=_0xa9ae04[_0x265059(0x200)][_0x265059(0x1d6)]?.[_0x265059(0x144)]()['replace'](/[!@#$%^&*\///]/g,'')??'',_0x5d552c=_0xa9ae04[_0x265059(0x200)][_0x265059(0x12c)]?_0x47e2bd[_0x265059(0x256)](Number,_0xa9ae04[_0x265059(0x200)][_0x265059(0x12c)]):null,_0x52b8fd=_0xa9ae04[_0x265059(0x200)][_0x265059(0x283)],_0x8b1e52=_0x47e2bd[_0x265059(0x263)](Number,_0xa9ae04[_0x265059(0x200)][_0x265059(0x1b2)])||0x1e;var _0x43072f=_0x47e2bd[_0x265059(0x110)](Number,_0xa9ae04[_0x265059(0x200)][_0x265059(0x232)])||0x1;const _0x3cf86c=_0xa9ae04[_0x265059(0x200)]['loadId']||'',_0x397ffe=new _0x5eae41(global[_0x265059(0x1dc)]);try{if(_0x47e2bd[_0x265059(0x115)](_0x47e2bd[_0x265059(0x251)],_0x47e2bd[_0x265059(0x244)])){const _0x46795e=_0x8b6faf?function(){const _0x370eb8=_0x265059;if(_0x5560ab){const _0x50b164=_0x5b37f7[_0x370eb8(0x23e)](_0x4cf0b3,arguments);return _0x111236=null,_0x50b164;}}:function(){};return _0x1596c3=![],_0x46795e;}else{await _0x397ffe[_0x265059(0x209)]();const _0x330597=_0x397ffe['db'](global[_0x265059(0x1ac)]),_0x445750=_0x330597['collection'](global[_0x265059(0x289)]),_0xa03ce9={'_id':0x1,'itemId':0x1,'itemName':0x1,'categoryId':0x1,'itemStatus':0x1,'itemUnit':0x1,'itemPrice':0x1,'itemImage':0x1,'canDelete':0x1,'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':j['nowLocal']()['slice'](0x0,0x10)[_0x265059(0x210)]('T','\x20')},'endDate':{'$toDate':_0x47e2bd['dvrUv']},'unit':_0x47e2bd['tPPIf']}},0x0]},'then':!0x0,'else':!0x1}}};if(_0x47e2bd[_0x265059(0xe3)](_0x2227a3,_0x5d552c)||_0x52b8fd){if(_0x47e2bd[_0x265059(0x266)](_0x47e2bd[_0x265059(0x1a8)],_0x47e2bd[_0x265059(0x2b1)])){const _0x5bb0ce=[{'$project':_0xa03ce9},{'$sort':{'itemId':0x1}}];if(_0x2227a3){if(_0x47e2bd[_0x265059(0x115)](_0x47e2bd[_0x265059(0x234)],_0x47e2bd[_0x265059(0x234)])){const _0x317044=new RegExp('.*'+_0x2227a3+'.*','i');_0x5bb0ce[_0x265059(0x268)]({'$match':{'$or':[{'itemId':{'$regex':_0x317044}},{'itemName':{'$regex':_0x317044}}]}});}else return _0x21d180[_0x265059(0x11b)](_0x2bebf9[_0x265059(0x11a)]),_0xe9dccc[_0x265059(0x1c2)](_0x47e2bd[_0x265059(0x1f5)],{'class':_0x47e2bd['TCeoa'],'text':''+_0x3930b7[_0x265059(0x11a)]}),_0x47721a[_0x265059(0x122)](_0x6463d9);}_0x5d552c&&_0x5bb0ce[_0x265059(0x268)]({'$match':{'categoryId':_0x5d552c}}),_0x52b8fd&&_0x5bb0ce[_0x265059(0x268)]({'$match':{'itemStatus':_0x52b8fd}});var _0x21c15a=await _0x445750[_0x265059(0x14e)](_0x5bb0ce)['toArray'](),_0x22c733=_0x21c15a['length'],_0x58e735=Math[_0x265059(0x202)](_0x47e2bd[_0x265059(0x1af)](_0x22c733,_0x8b1e52));if(_0x47e2bd[_0x265059(0x2b7)](_0x43072f,_0x58e735)){if(_0x47e2bd[_0x265059(0x266)](_0x47e2bd['FCbnO'],_0x47e2bd['HJeCB'])){var _0x449eca=0x0;_0x43072f=_0x47e2bd['UtjWY'](_0x22c733,0x0)?0x1:0x0;}else wAOFPQ['dKWyD'](_0x183af6,this,function(){const _0x12be92=_0x265059,_0x4a1e48=new _0x2aea35(wAOFPQ[_0x12be92(0x116)]),_0x148e6a=new _0x5be44d(wAOFPQ['SztvF'],'i'),_0x1702fe=wAOFPQ[_0x12be92(0x184)](_0xd25032,wAOFPQ[_0x12be92(0x101)]);!_0x4a1e48[_0x12be92(0x211)](wAOFPQ['eTcUa'](_0x1702fe,wAOFPQ[_0x12be92(0x13b)]))||!_0x148e6a['test'](wAOFPQ['eTcUa'](_0x1702fe,wAOFPQ[_0x12be92(0xfc)]))?wAOFPQ[_0x12be92(0x256)](_0x1702fe,'0'):wAOFPQ[_0x12be92(0x27f)](_0x5c6ed5);})();}else var _0x449eca=_0x47e2bd[_0x265059(0x1e6)](Number,_0x47e2bd['poyXq'](_0x47e2bd[_0x265059(0xfe)](_0x43072f,0x1),_0x8b1e52));var _0x19c088=_0x21c15a[_0x265059(0x108)](_0x449eca,_0x47e2bd['ChYUq'](Number,_0x47e2bd['vlKww'](_0x449eca,_0x8b1e52)));}else{if(_0x3bb0fb){const _0x3f33bc=_0x5ca719[_0x265059(0x23e)](_0x4811ad,arguments);return _0x5ca982=null,_0x3f33bc;}}}else{if(_0x47e2bd[_0x265059(0x145)](_0x47e2bd[_0x265059(0x1eb)],_0x47e2bd[_0x265059(0x1eb)])){var _0x22c733=await _0x445750[_0x265059(0x1b6)]({});const _0xfa7aa3=_0x47e2bd[_0x265059(0x263)](Number,_0x47e2bd[_0x265059(0x167)](_0x47e2bd[_0x265059(0xfe)](_0x43072f,0x1),_0x8b1e52));var _0x19c088=await _0x445750['aggregate']([{'$project':_0xa03ce9},{'$sort':{'itemId':0x1}},{'$skip':_0xfa7aa3},{'$limit':_0x8b1e52}])['toArray'](),_0x58e735=Math['ceil'](_0x47e2bd[_0x265059(0x1af)](_0x22c733,_0x8b1e52));}else _0x15ae94[_0x265059(0x11b)](_0x50f577),_0x1a53a7[_0x265059(0x16e)](0x194)[_0x265059(0x124)](_0x11c174);}if(_0x3cf86c){if(_0x47e2bd['mOdkn'](_0x47e2bd[_0x265059(0x1f7)],_0x47e2bd[_0x265059(0x2ad)])){const _0x508ccc=_0x3cf5ce[_0x265059(0xeb)][_0x265059(0x18f)];if(!new _0x4ac8b7(_0xdfb370)[_0x265059(0x211)](_0x508ccc))_0x47e2bd[_0x265059(0x184)](_0x3d5d6d,new _0x3fe260(_0x47e2bd[_0x265059(0x1d8)]));else{const _0x24f978=_0x3ac304[_0x265059(0x276)](_0x565e18['originalname']),_0x12a182=''+_0x508ccc+_0x24f978;_0x47e2bd[_0x265059(0xd0)](_0x398051,null,_0x12a182);}}else{var _0x3d14e4=await _0x445750[_0x265059(0xe8)]({'itemId':_0x3cf86c},{'projection':_0xa03ce9});if(_0x3d14e4){if(_0x47e2bd[_0x265059(0x14c)](_0x47e2bd[_0x265059(0x107)],_0x47e2bd[_0x265059(0x107)])){if(_0x3d14e4[_0x265059(0x1d1)]){if(_0x47e2bd['qPDaN'](_0x47e2bd[_0x265059(0x11d)],_0x47e2bd[_0x265059(0x11d)])){const _0x261bad=_0x535460[_0x265059(0xca)](folderItems,_0x3d14e4[_0x265059(0x1d1)]);try{if(_0x47e2bd['KUEhT'](_0x47e2bd['AaouD'],_0x47e2bd[_0x265059(0x26f)]))_0x3d6046[_0x265059(0xf2)]();else{const _0xfe417=await _0x5b5798[_0x265059(0x273)][_0x265059(0x1bd)](_0x261bad),_0x24f5ad=_0x47e2bd['qPDaN'](_0x535460[_0x265059(0x276)](_0x3d14e4[_0x265059(0x1d1)])[_0x265059(0x201)](),_0x47e2bd['XqVfk'])?_0x47e2bd[_0x265059(0x2b4)]:_0x47e2bd['jDNPw'];_0x3d14e4['itemImageDataUrl']='data:'+_0x24f5ad+_0x265059(0x230)+_0xfe417[_0x265059(0x144)](_0x47e2bd[_0x265059(0x15f)]);}}catch(_0x3b7b2b){_0x47e2bd[_0x265059(0x238)](_0x47e2bd[_0x265059(0x2a1)],_0x47e2bd[_0x265059(0x2a1)])?(console[_0x265059(0x11b)](_0x47e2bd['IePDy'],_0x3b7b2b[_0x265059(0x11a)]),_0x3d14e4[_0x265059(0x2a3)]=null):_0x1cb292[_0x265059(0xf2)]();}}else{const _0x4c0e28=_0x2217af?function(){const _0x3c2193=_0x265059;if(_0x4a30af){const _0x402d1d=_0x127d79[_0x3c2193(0x23e)](_0x13d3c6,arguments);return _0x45f7ad=null,_0x402d1d;}}:function(){};return _0x58491e=![],_0x4c0e28;}}}else return _0x497c22;}else var _0x3d14e4=[];}}else var _0x3d14e4=[];const _0x5c2d64=_0x47e2bd['EQxLy'](_0x47e2bd['LfxRb'](_0x47e2bd[_0x265059(0xd6)](Number,_0x43072f),0x1),0x1)?'-':_0x47e2bd['ZgVAK'](_0x47e2bd[_0x265059(0x263)](Number,_0x43072f),0x1),_0x1a6cf7=_0x47e2bd[_0x265059(0x16a)](Number,_0x43072f),_0xd76d7d=_0x47e2bd['XqlYZ'](_0x47e2bd[_0x265059(0x154)](_0x47e2bd[_0x265059(0x256)](Number,_0x43072f),0x1),_0x58e735)?'-':_0x47e2bd[_0x265059(0x154)](_0x47e2bd[_0x265059(0x1e6)](Number,_0x43072f),0x1),_0x344ef2=await _0x330597[_0x265059(0x13f)](global[_0x265059(0xf6)])[_0x265059(0x17c)]({'categoryStatus':_0x47e2bd[_0x265059(0xfa)]})[_0x265059(0x1a3)]();_0x19c088=_0x19c088[_0x265059(0x257)](_0x4e57b5=>{const _0x13c724=_0x265059;if(_0x47e2bd[_0x13c724(0x266)](_0x47e2bd['ZhCfb'],_0x47e2bd[_0x13c724(0x168)]))_0x32bfb1[_0x13c724(0x11b)](_0x47e2bd['QTimL'],_0x2786c1),_0x245167[_0x13c724(0x13a)](_0x4111df[_0x13c724(0x1f0)]({'isPrint':!0x1,'class':_0x47e2bd[_0x13c724(0x20d)],'msg':_0x3074c0[_0x13c724(0x11a)]}));else{const _0x4c9968=_0x4e57b5['categoryId'],_0x454509=_0x344ef2[_0x13c724(0x17c)](_0xe92e88=>_0xe92e88[_0x13c724(0x2b2)]==_0x4c9968)?.['categoryName']||'-';return{..._0x4e57b5,'categoryName':_0x454509};}});const _0x17884e=await F['renderView'](_0x47e2bd[_0x265059(0x1b0)],_0x3e16dd,{'title':PAGE_ITEMS,'time':j['getDate'](),'msg':_0xa9ae04['flash'](_0x47e2bd['GZpyf']),'userFlash':_0xa9ae04['flash'](_0x47e2bd[_0x265059(0x27c)]),'user':W[_0x265059(0x28b)](_0xa9ae04),...await F[_0x265059(0x204)](),'loadId':_0x3cf86c,'sip':_0x2227a3,'scid':_0x5d552c,'sis':_0x52b8fd,'rpp':_0x8b1e52,'page':_0x43072f,'pageAct':_0x1a6cf7,'pageNum':_0x58e735,'pagePre':_0x5c2d64,'pageNxt':_0xd76d7d,'pageLst':_0x58e735,'totalDocs':_0x22c733,'PATH_MAIN':p,'PATH_SAVE':O,'PATH_LOAD':U,'PATH_DELETE':M,'PATH_VIEW':R,'PATH_PRINT':k,'PREFIX':Y,'dataItemsCategories':_0x344ef2,'dataItems':_0x19c088,'item':_0x3d14e4});_0x3e16dd[_0x265059(0x13a)](_0x17884e);}}catch(_0xd1d6bf){_0x47e2bd[_0x265059(0x238)](_0x47e2bd['LdppT'],_0x47e2bd[_0x265059(0x22a)])?function(){return!![];}[_0x265059(0xdd)](wAOFPQ[_0x265059(0x154)](wAOFPQ['PIhRc'],wAOFPQ['csMue']))[_0x265059(0x274)](wAOFPQ['bMPXR']):(console[_0x265059(0x11b)](_0xd1d6bf),_0x3e16dd['status'](0x194)[_0x265059(0x124)](file404));}finally{if(_0x47e2bd['wvadt'](_0x47e2bd[_0x265059(0x2b8)],_0x47e2bd['PRjXB']))return![];else _0x397ffe[_0x265059(0xf2)]();}});const G=_0x407881({'storage':_0x407881[_0x4a6b73(0x2b9)]({'destination':async function(_0x52a026,_0x5482d5,_0x5307bb){const _0x148233=_0x4a6b73,_0x1cbb50={'RnEsH':'.jpg','YoyaY':'.jpeg','jAKEj':'.png','UDfYt':function(_0x2c7987,_0x38e4ef,_0x260959){return _0x2c7987(_0x38e4ef,_0x260959);},'rHXbm':function(_0x550127,_0x12e37c){return _0x550127(_0x12e37c);},'OUnjQ':'Only\x20.jpg,\x20.jpeg,\x20and\x20.png\x20files\x20are\x20allowed!','hdJMP':'Could\x20not\x20clean\x20up\x20temp\x20file:','xRPZg':function(_0x280351,_0x3b0a2c){return _0x280351===_0x3b0a2c;},'KOoUp':_0x148233(0x296),'BmIPh':_0x148233(0x24d),'RcJpb':function(_0x3025aa,_0x23b3dc){return _0x3025aa!==_0x23b3dc;},'xGWmu':_0x148233(0x291),'hHMgU':_0x148233(0x285)};try{if(_0x1cbb50[_0x148233(0xd7)](_0x1cbb50['KOoUp'],_0x1cbb50['BmIPh'])){const _0x272ea7=[_0x1cbb50[_0x148233(0x25e)],_0x1cbb50[_0x148233(0x17a)],_0x1cbb50[_0x148233(0x233)]],_0x58c0e4=_0x1a2895[_0x148233(0x276)](_0x332681[_0x148233(0x1de)])['toLowerCase']();_0x272ea7[_0x148233(0x1e3)](_0x58c0e4)?_0x1cbb50[_0x148233(0x18a)](_0x158ea3,null,!0x0):_0x1cbb50[_0x148233(0x12f)](_0xccf650,new _0x4f0bec(_0x1cbb50[_0x148233(0x228)]));}else await _0x5b5798[_0x148233(0x273)][_0x148233(0x22e)](folderItems,{'recursive':!0x0}),_0x1cbb50[_0x148233(0x18a)](_0x5307bb,null,folderItems);}catch(_0x20c838){_0x1cbb50[_0x148233(0x15a)](_0x1cbb50[_0x148233(0x26a)],_0x1cbb50['hHMgU'])?_0x1cbb50[_0x148233(0x12f)](_0x5307bb,_0x20c838):_0x4de4ad[_0x148233(0x2a2)](_0x1cbb50['hdJMP'],_0x4089bf[_0x148233(0x11a)]);}},'filename':function(_0x1e291d,_0x3e6a67,_0x5451d8){const _0x569a39=_0x4a6b73,_0x12727b={'SxjEq':function(_0x59c6ef,_0x51a302){return _0x59c6ef(_0x51a302);},'YOIFv':_0x569a39(0x1f6),'wtdiG':function(_0x295fbe,_0x2849a5){return _0x295fbe===_0x2849a5;},'NVMkH':_0x569a39(0x26c),'jTwmL':_0x569a39(0x217),'rbgBp':function(_0x346047,_0xf27e02,_0x56a8d7){return _0x346047(_0xf27e02,_0x56a8d7);}},_0x567475=_0x1e291d['body'][_0x569a39(0x18f)];if(!new RegExp(ITEM_TYPE_PATTERN)[_0x569a39(0x211)](_0x567475))_0x12727b['SxjEq'](_0x5451d8,new Error(_0x12727b['YOIFv']));else{if(_0x12727b[_0x569a39(0x26b)](_0x12727b[_0x569a39(0xf3)],_0x12727b[_0x569a39(0x16b)]))_0x474d7e[_0x569a39(0xf2)]();else{const _0x499071=_0x535460[_0x569a39(0x276)](_0x3e6a67['originalname']),_0x3f5bab=''+_0x567475+_0x499071;_0x12727b[_0x569a39(0x2b5)](_0x5451d8,null,_0x3f5bab);}}}}),'limits':{'fileSize':0x400*0x400*0x1},'fileFilter':(_0x3c6ca4,_0x297074,_0x4f535e)=>{const _0x430776=_0x4a6b73,_0x188639={'AERXp':_0x430776(0x1f8),'zsWFk':_0x430776(0x175),'LIOBh':_0x430776(0x1b4),'rGOzT':function(_0x327562,_0x4d1e2d,_0x4f4473){return _0x327562(_0x4d1e2d,_0x4f4473);},'KNyjs':function(_0x39ba26,_0x411d72){return _0x39ba26(_0x411d72);},'xKTTF':_0x430776(0x20a)},_0x565f6e=[_0x188639[_0x430776(0x1ae)],_0x188639[_0x430776(0x1ef)],_0x188639[_0x430776(0x188)]],_0x1a5590=_0x535460[_0x430776(0x276)](_0x297074['originalname'])[_0x430776(0x201)]();_0x565f6e[_0x430776(0x1e3)](_0x1a5590)?_0x188639[_0x430776(0x146)](_0x4f535e,null,!0x0):_0x188639[_0x430776(0x24a)](_0x4f535e,new Error(_0x188639['xKTTF']));}})['single'](_0x4a6b73(0x1d1)),X=async(_0x266d49,_0x318ca2,_0x32aa11,_0x4f752d)=>{const _0x52cf22=_0x4a6b73,_0x3fe9cd={'ixufE':function(_0x45ac08,_0x2ce046){return _0x45ac08 instanceof _0x2ce046;},'xXioX':_0x52cf22(0x156),'gekkJ':'red','HEXQc':function(_0x1ed0f3){return _0x1ed0f3();}};_0x3fe9cd[_0x52cf22(0x147)](_0x266d49,_0x407881[_0x52cf22(0x269)])?(_0x318ca2[_0x52cf22(0x1c2)](_0x3fe9cd[_0x52cf22(0x178)],{'class':_0x3fe9cd['gekkJ'],'text':'Upload\x20error:\x20'+_0x266d49[_0x52cf22(0x11a)]}),_0x32aa11['redirect'](''+p)):_0x266d49?(_0x318ca2['flash'](_0x3fe9cd[_0x52cf22(0x178)],{'class':_0x3fe9cd[_0x52cf22(0x1b7)],'text':'Upload\x20error:\x20'+_0x266d49[_0x52cf22(0x11a)]}),_0x32aa11[_0x52cf22(0x122)](''+p)):_0x3fe9cd['HEXQc'](_0x4f752d);};x[_0x4a6b73(0x1b5)](O,[_0x5728f5[_0x4a6b73(0x245)],(_0x1efd8d,_0x27c5cb,_0xa431de)=>{const _0x711611=_0x4a6b73,_0x1a77c4={'iacps':function(_0x3eb56d,_0x19a475){return _0x3eb56d(_0x19a475);},'ijIwR':function(_0x3fa7e0,_0x2d46da){return _0x3fa7e0+_0x2d46da;},'zeZoH':function(_0x1855e5,_0x52a2a0){return _0x1855e5+_0x52a2a0;},'kaWPR':_0x711611(0x179),'nBFLQ':_0x711611(0x231),'hxYkN':function(_0x3de7b5){return _0x3de7b5();},'ZDVjn':_0x711611(0x11b),'FKIoi':_0x711611(0x277),'MtEIn':_0x711611(0xfd),'qtouS':_0x711611(0x2a2),'sswvj':'exception','kliuX':'table','tgVtJ':'trace','apENC':function(_0x37e3cc,_0x4db11f){return _0x37e3cc<_0x4db11f;},'XoIiB':function(_0x26c8b3,_0x331678){return _0x26c8b3(_0x331678);},'tPfax':_0x711611(0x271),'KzRkI':_0x711611(0x1b3),'gOXmZ':_0x711611(0x1c5),'eEMAH':_0x711611(0x21b),'AXiBi':function(_0x5a7e52,_0x5c8eb2){return _0x5a7e52(_0x5c8eb2);},'lrARV':'init','reqLg':function(_0x3b8ee1,_0x4ce02a){return _0x3b8ee1+_0x4ce02a;},'SLGdj':_0x711611(0x220),'CJORn':function(_0x31f68f,_0x22cfcc){return _0x31f68f+_0x22cfcc;},'lCRkQ':_0x711611(0x212),'irVyq':function(_0x23ad61){return _0x23ad61();},'gFrCN':_0x711611(0x2ac),'SuGfp':function(_0x1c5309,_0x21d495){return _0x1c5309===_0x21d495;},'AtWqL':_0x711611(0x152),'WwdkE':'UoRXX','dJOrj':function(_0x5b55dc,_0x57afe5,_0x1a6e33,_0xe8cc16,_0x726368){return _0x5b55dc(_0x57afe5,_0x1a6e33,_0xe8cc16,_0x726368);},'TbxcS':function(_0x58b434,_0x2f5271){return _0x58b434===_0x2f5271;},'VWHPJ':_0x711611(0x138),'EOSHI':_0x711611(0x197),'gHlzi':function(_0xfc630a,_0xd79ef3){return _0xfc630a(_0xd79ef3);},'gdlAn':function(_0x226b51,_0xbcfdb2){return _0x226b51!==_0xbcfdb2;},'YvEcw':function(_0x2da2f5,_0x36d27f){return _0x2da2f5!==_0x36d27f;},'nPOtR':'WzhcN','OqYeG':'YumMF','HrOgZ':function(_0x37b696,_0x361ff3){return _0x37b696!==_0x361ff3;},'NdNaw':'NTHKh','lJxHh':'BwbEW','RbhNF':function(_0x4f89a6,_0x15c138){return _0x4f89a6!==_0x15c138;},'uDjZQ':_0x711611(0x29d),'BJQGh':'esgJf','oMzlz':_0x711611(0x236),'yspOl':'EnrwH','JbDWp':'ZnxHE','bNaQV':_0x711611(0x186),'QxsXr':_0x711611(0x21e),'Rdsbm':function(_0x184d5d,_0x13bc4f,_0x476e8c,_0x1763f9){return _0x184d5d(_0x13bc4f,_0x476e8c,_0x1763f9);}};_0x1a77c4[_0x711611(0x1c3)](G,_0x1efd8d,_0x27c5cb,async _0x56bbc2=>{const _0x1512ee=_0x711611,_0x3683b3={'LwEfm':_0x1a77c4[_0x1512ee(0x193)],'CAHoZ':_0x1a77c4[_0x1512ee(0x280)],'sAPwt':function(_0x486504,_0x250e22){return _0x1a77c4['AXiBi'](_0x486504,_0x250e22);},'cynTP':_0x1a77c4[_0x1512ee(0xf1)],'wstUi':function(_0x516d7f,_0x8c5ee3){const _0x41e827=_0x1512ee;return _0x1a77c4[_0x41e827(0x12e)](_0x516d7f,_0x8c5ee3);},'xlfPi':_0x1a77c4[_0x1512ee(0x106)],'vOYzM':function(_0x266ac1,_0x11e555){return _0x1a77c4['CJORn'](_0x266ac1,_0x11e555);},'wFrlk':_0x1a77c4[_0x1512ee(0x190)],'xUmVn':function(_0x207ebd,_0x4ad4d2){const _0x7fce16=_0x1512ee;return _0x1a77c4[_0x7fce16(0xf7)](_0x207ebd,_0x4ad4d2);},'kVlsR':function(_0x2ddd18){const _0x583284=_0x1512ee;return _0x1a77c4[_0x583284(0x29a)](_0x2ddd18);},'ulbCM':_0x1a77c4[_0x1512ee(0x1a6)]};if(_0x1a77c4['SuGfp'](_0x1a77c4[_0x1512ee(0x225)],_0x1a77c4[_0x1512ee(0x1c6)])){let _0x325c13;try{const _0x1519e3=LCMKTj[_0x1512ee(0xf7)](_0x27942f,LCMKTj[_0x1512ee(0x121)](LCMKTj[_0x1512ee(0x1bf)](LCMKTj[_0x1512ee(0x28c)],LCMKTj[_0x1512ee(0x15d)]),');'));_0x325c13=LCMKTj['hxYkN'](_0x1519e3);}catch(_0x267f34){_0x325c13=_0x201104;}const _0x2197a7=_0x325c13[_0x1512ee(0x229)]=_0x325c13['console']||{},_0x59d73d=[LCMKTj[_0x1512ee(0x279)],LCMKTj[_0x1512ee(0x1d4)],LCMKTj['MtEIn'],LCMKTj['qtouS'],LCMKTj[_0x1512ee(0x171)],LCMKTj[_0x1512ee(0x1a1)],LCMKTj[_0x1512ee(0xd4)]];for(let _0x52a3a0=0x0;LCMKTj[_0x1512ee(0x17b)](_0x52a3a0,_0x59d73d[_0x1512ee(0x113)]);_0x52a3a0++){const _0xa76ac3=_0x50d48e[_0x1512ee(0xdd)][_0x1512ee(0xe4)][_0x1512ee(0x1d2)](_0xcf3f01),_0x40c782=_0x59d73d[_0x52a3a0],_0xdea0b8=_0x2197a7[_0x40c782]||_0xa76ac3;_0xa76ac3[_0x1512ee(0x1cd)]=_0x5b29f8['bind'](_0x38fe76),_0xa76ac3[_0x1512ee(0x144)]=_0xdea0b8[_0x1512ee(0x144)]['bind'](_0xdea0b8),_0x2197a7[_0x40c782]=_0xa76ac3;}}else{if(_0x56bbc2)return _0x1a77c4[_0x1512ee(0x2a7)](X,_0x56bbc2,_0x1efd8d,_0x27c5cb,_0xa431de);if(_0x1efd8d['file']){if(_0x1a77c4[_0x1512ee(0x173)](_0x1a77c4[_0x1512ee(0x14d)],_0x1a77c4['EOSHI']))LCMKTj[_0x1512ee(0x29e)](_0x413fbb,'0');else{const _0x5bcbe3=_0x535460[_0x1512ee(0x276)](_0x1efd8d[_0x1512ee(0x2a8)][_0x1512ee(0xda)]),_0x41cbb1=_0x535460[_0x1512ee(0x27d)](_0x1efd8d[_0x1512ee(0x2a8)][_0x1512ee(0xda)],_0x5bcbe3),_0x41cbf9=_0x535460[_0x1512ee(0x21a)](_0x1efd8d['file'][_0x1512ee(0xda)]),_0xe2e360=_0x535460['join'](_0x41cbf9,_0x41cbb1+_0x1512ee(0x1f8));let _0x2ddb51=_0xe2e360;if(_0x1a77c4[_0x1512ee(0x198)](_0x1efd8d[_0x1512ee(0x2a8)]['path'],_0xe2e360)&&(_0x2ddb51=_0x535460['join'](_0x41cbf9,_0x41cbb1+_0x1512ee(0x1ad))),await _0x1a77c4[_0x1512ee(0x13c)](_0x17dc39,_0x1efd8d[_0x1512ee(0x2a8)][_0x1512ee(0xda)])[_0x1512ee(0x21c)]({'width':0x258,'withoutEnlargement':!0x0})[_0x1512ee(0x270)]({'quality':0x5a})[_0x1512ee(0x242)]({'density':0x48})[_0x1512ee(0x185)](_0x2ddb51),_0x1a77c4[_0x1512ee(0x221)](_0x1efd8d['file'][_0x1512ee(0xda)],_0xe2e360))try{if(_0x1a77c4['YvEcw'](_0x1a77c4['nPOtR'],_0x1a77c4[_0x1512ee(0x112)])){if(_0x5ec723){const _0x5187cf=_0x3a3c8d[_0x1512ee(0x23e)](_0x48a516,arguments);return _0x5c0357=null,_0x5187cf;}}else await _0x5b5798[_0x1512ee(0x273)][_0x1512ee(0xea)](_0x1efd8d[_0x1512ee(0x2a8)]['path']);}catch(_0xc05b85){if(_0x1a77c4[_0x1512ee(0x221)](_0x1a77c4[_0x1512ee(0x261)],_0x1a77c4['OqYeG'])){const _0x216332=new _0x2a85c4(ogMsdj[_0x1512ee(0x227)]),_0xbbecbf=new _0x2546b8(ogMsdj['CAHoZ'],'i'),_0x1d342f=ogMsdj[_0x1512ee(0x1c7)](_0x24887f,ogMsdj['cynTP']);!_0x216332[_0x1512ee(0x211)](ogMsdj['wstUi'](_0x1d342f,ogMsdj[_0x1512ee(0x264)]))||!_0xbbecbf[_0x1512ee(0x211)](ogMsdj[_0x1512ee(0x172)](_0x1d342f,ogMsdj[_0x1512ee(0x10f)]))?ogMsdj[_0x1512ee(0x15b)](_0x1d342f,'0'):ogMsdj[_0x1512ee(0x180)](_0x5e718f);}else console['error'](_0x1a77c4[_0x1512ee(0x1a6)],_0xc05b85[_0x1512ee(0x11a)]);}if(_0x1a77c4['HrOgZ'](_0x2ddb51,_0xe2e360))try{_0x1a77c4[_0x1512ee(0x221)](_0x1a77c4['NdNaw'],_0x1a77c4['lJxHh'])?await _0x5b5798['promises']['rename'](_0x2ddb51,_0xe2e360):_0x47d945[_0x1512ee(0x2a2)](_0x3683b3[_0x1512ee(0x24b)],_0x4facb4[_0x1512ee(0x11a)]);}catch(_0x381f8c){if(_0x1a77c4[_0x1512ee(0x176)](_0x1a77c4[_0x1512ee(0x2b6)],_0x1a77c4[_0x1512ee(0x148)])){console[_0x1512ee(0x2a2)](_0x1a77c4['oMzlz'],_0x381f8c[_0x1512ee(0x11a)]);try{if(_0x1a77c4['gdlAn'](_0x1a77c4[_0x1512ee(0x1fd)],_0x1a77c4[_0x1512ee(0x1be)]))await _0x5b5798['promises'][_0x1512ee(0xea)](_0x2ddb51);else return function(_0x27fbc5){}['constructor'](LCMKTj[_0x1512ee(0x27e)])['apply'](LCMKTj[_0x1512ee(0x19b)]);}catch(_0x377e43){_0x1a77c4[_0x1512ee(0x173)](_0x1a77c4[_0x1512ee(0x132)],_0x1a77c4[_0x1512ee(0x132)])?console[_0x1512ee(0x2a2)](_0x1a77c4[_0x1512ee(0x169)],_0x377e43[_0x1512ee(0x11a)]):_0x1a77c4[_0x1512ee(0x29e)](_0x41d8e0,_0x53377b);}throw _0x381f8c;}else _0x451a24=_0x402c07;}_0x1efd8d[_0x1512ee(0x2a8)][_0x1512ee(0xda)]=_0xe2e360,_0x1efd8d[_0x1512ee(0x2a8)]['filename']=_0x41cbb1+_0x1512ee(0x1f8);}}_0x1a77c4['hxYkN'](_0xa431de);}});}],async(_0x114346,_0x144fe0)=>{const _0x54eacf=_0x4a6b73,_0x55f18a={'syZFY':_0x54eacf(0x156),'rllCr':'green','LMNDg':_0x54eacf(0x213),'hXBET':function(_0x469851,_0x585e94){return _0x469851+_0x585e94;},'dnZXH':'debu','WCNDc':_0x54eacf(0x1c9),'tiqcf':'stateObject','jHQUo':function(_0x485578,_0x284654){return _0x485578(_0x284654);},'bdqSd':function(_0x15124f,_0x21445f){return _0x15124f===_0x21445f;},'zvBtK':_0x54eacf(0x27b),'AIQCO':function(_0x4a55c6,_0x442791){return _0x4a55c6===_0x442791;},'dzfcf':_0x54eacf(0x130),'FFIKD':function(_0x519fd5,_0x34e287){return _0x519fd5>_0x34e287;},'tNWfC':function(_0xa41070,_0x234338){return _0xa41070+_0x234338;},'zoJjK':function(_0x33508e,_0x54ee83){return _0x33508e+_0x54ee83;},'jdIyK':_0x54eacf(0x1a7),'MvuqR':function(_0x5f3fef,_0x3c7d70){return _0x5f3fef(_0x3c7d70);},'GrRte':function(_0x1098a3,_0x3280d9){return _0x1098a3!==_0x3280d9;},'tIlUC':_0x54eacf(0x1fa),'FLHlq':function(_0x34e04a,_0x353186){return _0x34e04a!==_0x353186;},'WQajD':_0x54eacf(0xdb),'IIOLS':'red','BAgwV':_0x54eacf(0x237),'jnnfw':function(_0x1bc42e,_0x16a3ab){return _0x1bc42e+_0x16a3ab;},'kGYZt':function(_0x2be7f7,_0x5e005b){return _0x2be7f7==_0x5e005b;},'YXqNQ':_0x54eacf(0x19c),'UzNTG':function(_0x2ddd68,_0xba9d2e){return _0x2ddd68!==_0xba9d2e;},'kDCUL':_0x54eacf(0x1ed)},_0x2d5763=_0x114346[_0x54eacf(0xeb)][_0x54eacf(0xe2)],_0x1c622f=_0x114346['body'][_0x54eacf(0x1d6)]?.[_0x54eacf(0x144)]()['replace'](/[!@#$%^&*\///]/g,'')??'',_0x70a3cc=_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x12c)],_0x18af65=_0x114346['body']['sis'],_0x4bd927=_0x55f18a[_0x54eacf(0x22b)](Number,_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x1b2)])||0x1e,_0x4b85a8=_0x55f18a[_0x54eacf(0x22b)](Number,_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x232)])||0x1,_0x4afb07=p+'?sip='+_0x1c622f+_0x54eacf(0x1a5)+_0x70a3cc+'&sis='+_0x18af65+'&rpp='+_0x4bd927+_0x54eacf(0xdf)+_0x4b85a8+_0x54eacf(0x275)+_0x2d5763,_0x30f9af=new _0x5eae41(global[_0x54eacf(0x1dc)]);try{if(_0x55f18a[_0x54eacf(0x258)](_0x55f18a[_0x54eacf(0x216)],_0x55f18a['zvBtK'])){await _0x30f9af['connect']();const _0x2c189b=_0x30f9af['db'](global['dbName']),_0x1a9b26=_0x2c189b[_0x54eacf(0x13f)](global[_0x54eacf(0x289)]);if(!_0x114346['body'][_0x54eacf(0x2b2)]&&_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x20b)]){if(_0x55f18a[_0x54eacf(0x2a9)](_0x55f18a['dzfcf'],_0x55f18a['dzfcf'])){const _0x4527a2=_0x2c189b[_0x54eacf(0x13f)](global[_0x54eacf(0xf6)]),_0x46b4f0=await _0x4527a2[_0x54eacf(0x17c)]()[_0x54eacf(0x1cc)]({'categoryId':-0x1})[_0x54eacf(0x11e)](0x1)[_0x54eacf(0x1a3)](),_0x820f75=_0x55f18a[_0x54eacf(0x1a9)](_0x46b4f0['length'],0x0)?_0x55f18a['tNWfC'](_0x46b4f0[0x0][_0x54eacf(0x2b2)],0x1):0x3e8;let _0x35506c=j['newDateTimeLocal']();_0x35506c['setDate'](_0x55f18a[_0x54eacf(0xe9)](_0x35506c['getDate'](),0x1)),_0x35506c=_0x35506c[_0x54eacf(0x25a)]()[_0x54eacf(0x108)](0x0,0x10)[_0x54eacf(0x210)]('T','\x20');const _0x4a6373={'categoryId':_0x820f75,'categoryName':_0x114346['body'][_0x54eacf(0x20b)],'dateTimeCanDelete':_0x35506c,'categoryStatus':_0x55f18a[_0x54eacf(0x10a)]};await _0x4527a2['insertOne'](_0x4a6373),_0x114346['body'][_0x54eacf(0x2b2)]=_0x820f75;}else return _0x1b8197[_0x54eacf(0x1c2)](_0x55f18a[_0x54eacf(0x2a6)],{'class':_0x55f18a[_0x54eacf(0x135)],'text':_0x55f18a[_0x54eacf(0x26d)]}),_0x4f265a['redirect'](_0x103e26);}const _0x35ca86={'itemId':_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x18f)][_0x54eacf(0x144)](),'categoryId':_0x55f18a[_0x54eacf(0x1ea)](Number,_0x114346['body'][_0x54eacf(0x2b2)]),'itemStatus':_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x17e)],'itemName':_0x114346[_0x54eacf(0xeb)]['itemName'],'itemUnit':_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x19a)],'itemPrice':_0x114346[_0x54eacf(0xeb)]['itemPrice']?_0x55f18a[_0x54eacf(0x22b)](Number,_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x1b8)]):0x0},_0x23da7a=_0x114346[_0x54eacf(0xeb)]['itemId'],_0x34b9ef=await _0x1a9b26[_0x54eacf(0xe8)]({'itemId':_0x23da7a});if(_0x34b9ef){if(_0x55f18a[_0x54eacf(0xff)](_0x55f18a['tIlUC'],_0x55f18a[_0x54eacf(0x174)]))(function(){return![];}['constructor'](ceGdPz[_0x54eacf(0x250)](ceGdPz[_0x54eacf(0x14f)],ceGdPz['WCNDc']))[_0x54eacf(0x23e)](ceGdPz[_0x54eacf(0x1c0)]));else{_0x114346[_0x54eacf(0x2a8)]&&(_0x35ca86[_0x54eacf(0x1d1)]=_0x114346['file'][_0x54eacf(0x224)]);var _0x57629f=await _0x1a9b26[_0x54eacf(0x123)]({'itemId':_0x23da7a},{'$set':_0x35ca86});}}else{if(_0x55f18a[_0x54eacf(0x218)](_0x55f18a[_0x54eacf(0xd2)],_0x55f18a[_0x54eacf(0xd2)]))_0x289794[_0x54eacf(0xf2)]();else{if(_0x114346[_0x54eacf(0xeb)][_0x54eacf(0x18f)]&&!new RegExp(ITEM_TYPE_PATTERN)[_0x54eacf(0x211)](_0x114346['body'][_0x54eacf(0x18f)]))return _0x114346[_0x54eacf(0x1c2)](_0x55f18a[_0x54eacf(0x2a6)],{'class':_0x55f18a[_0x54eacf(0x11c)],'text':_0x55f18a[_0x54eacf(0x2a5)]}),_0x144fe0[_0x54eacf(0x122)];let _0x3518f7=j[_0x54eacf(0x19d)]();_0x3518f7[_0x54eacf(0x1a2)](_0x55f18a[_0x54eacf(0x27a)](_0x3518f7[_0x54eacf(0x299)](),0x1)),_0x3518f7=_0x3518f7[_0x54eacf(0x25a)]()[_0x54eacf(0x108)](0x0,0x10)[_0x54eacf(0x210)]('T','\x20'),_0x35ca86['dateTimeCanDelete']=_0x3518f7,_0x114346[_0x54eacf(0x2a8)]&&(_0x35ca86['itemImage']=_0x114346[_0x54eacf(0x2a8)][_0x54eacf(0x224)]);var _0x57629f=await _0x1a9b26[_0x54eacf(0x21f)](_0x35ca86);}}if(_0x34b9ef&&_0x55f18a[_0x54eacf(0x12b)](_0x57629f[_0x54eacf(0x129)],0x1))var _0x414d01={'class':_0x55f18a[_0x54eacf(0x135)],'text':'อัปเดต\x20\x22'+_0x35ca86[_0x54eacf(0x18f)]+_0x54eacf(0x11f)};else var _0x414d01={'class':_0x55f18a[_0x54eacf(0x135)],'text':'เพิ่ม\x20\x22'+_0x35ca86[_0x54eacf(0x18f)]+'\x22\x20เรียบร้อยแล้ว'};_0x114346[_0x54eacf(0x1c2)](_0x55f18a[_0x54eacf(0x2a6)],_0x414d01),_0x144fe0['redirect'](_0x4afb07);}else _0x3cc499[_0x54eacf(0x11b)](_0x2a9ebd),_0xb4c1f[_0x54eacf(0x124)](_0x32cee9);}catch(_0x5555e9){if(_0x55f18a['AIQCO'](_0x55f18a[_0x54eacf(0x23f)],_0x55f18a[_0x54eacf(0x23f)]))console[_0x54eacf(0x11b)](_0x5555e9),_0x144fe0[_0x54eacf(0x124)](file404);else{const _0x950c29=_0x2e2b1b[_0x54eacf(0x23e)](_0x3865d0,arguments);return _0x30300b=null,_0x950c29;}}finally{if(_0x55f18a[_0x54eacf(0x191)](_0x55f18a[_0x54eacf(0x1e0)],_0x55f18a[_0x54eacf(0x1e0)])){const _0xdb307a=_0x27aecd[_0x54eacf(0xdd)]['prototype'][_0x54eacf(0x1d2)](_0x46968f),_0x1059eb=_0x4f6b39[_0x442125],_0x14270b=_0x17ccb8[_0x1059eb]||_0xdb307a;_0xdb307a['__proto__']=_0x2c0e42['bind'](_0x58ad5d),_0xdb307a['toString']=_0x14270b[_0x54eacf(0x144)]['bind'](_0x14270b),_0x47fd1b[_0x1059eb]=_0xdb307a;}else _0x30f9af['close']();}}),x[_0x4a6b73(0x1b5)](U,_0x5728f5[_0x4a6b73(0x245)],async(_0x1c207b,_0x4ec4d6)=>{const _0x3f1e71=_0x4a6b73,_0x4a3010={'FWMfv':_0x3f1e71(0x131),'YXMGg':function(_0x58d2f4,_0x5d0ef1){return _0x58d2f4(_0x5d0ef1);},'cAOHw':function(_0x25686f,_0x22d352){return _0x25686f(_0x22d352);},'oGWap':function(_0x5e43a1,_0xdc158){return _0x5e43a1(_0xdc158);},'kZZJr':function(_0x2aa562,_0x5a212c){return _0x2aa562!==_0x5a212c;},'xQfGQ':_0x3f1e71(0x22d),'FlTKC':_0x3f1e71(0x156),'JjjME':_0x3f1e71(0xe5),'jbkfg':_0x3f1e71(0x1bc),'cgnpI':function(_0x1abb83,_0x55a9a8){return _0x1abb83!==_0x55a9a8;},'sGGuG':_0x3f1e71(0x17f),'NWCRf':_0x3f1e71(0x281),'NzWTV':function(_0x4ff64e,_0x44ad57){return _0x4ff64e===_0x44ad57;},'BHVpQ':_0x3f1e71(0xd3),'IqztB':'wByCs'},_0x426587=_0x1c207b[_0x3f1e71(0xeb)][_0x3f1e71(0xe2)],_0x5b3154=_0x1c207b[_0x3f1e71(0xeb)][_0x3f1e71(0x1d6)]?.[_0x3f1e71(0x144)]()[_0x3f1e71(0x210)](/[!@#$%^&*\///]/g,'')??'',_0x501513=_0x1c207b[_0x3f1e71(0xeb)][_0x3f1e71(0x12c)],_0x1c3d2f=_0x1c207b['body'][_0x3f1e71(0x283)],_0x16009b=_0x4a3010[_0x3f1e71(0x207)](Number,_0x1c207b[_0x3f1e71(0xeb)]['rpp'])||0x1e,_0x20f03f=_0x4a3010['oGWap'](Number,_0x1c207b['body'][_0x3f1e71(0x232)])||0x1,_0x17f1c7=p+'?sip='+_0x5b3154+_0x3f1e71(0x1a5)+_0x501513+_0x3f1e71(0x1aa)+_0x1c3d2f+_0x3f1e71(0x255)+_0x16009b+'&page='+_0x20f03f+_0x3f1e71(0x275)+_0x426587,_0x1225df=new _0x5eae41(global[_0x3f1e71(0x1dc)]);try{return _0x4a3010[_0x3f1e71(0x1ba)](_0x4a3010[_0x3f1e71(0x1da)],_0x4a3010['xQfGQ'])?!![]:await _0x1225df['db'](global[_0x3f1e71(0x1ac)])['collection'](global[_0x3f1e71(0x289)])[_0x3f1e71(0xe8)]({'itemId':_0x426587},{'projection':{'_id':0x0}})?(_0x1c207b[_0x3f1e71(0x1c2)](_0x4a3010[_0x3f1e71(0x1cb)],null),_0x4ec4d6['redirect'](_0x17f1c7)):(_0x1c207b[_0x3f1e71(0x1c2)](_0x4a3010[_0x3f1e71(0x1cb)],{'class':_0x4a3010[_0x3f1e71(0x189)],'text':new Error(_0x4a3010[_0x3f1e71(0x29c)])+_0x3f1e71(0x119)+_0x426587+'\x22'}),_0x4ec4d6[_0x3f1e71(0x122)](p));}catch(_0x4fd8aa){if(_0x4a3010['cgnpI'](_0x4a3010[_0x3f1e71(0x164)],_0x4a3010[_0x3f1e71(0x298)]))return console['log'](_0x4fd8aa[_0x3f1e71(0x11a)]),_0x1c207b['flash'](_0x4a3010['FlTKC'],{'class':_0x4a3010[_0x3f1e71(0x189)],'text':''+_0x4fd8aa[_0x3f1e71(0x11a)]}),_0x4ec4d6[_0x3f1e71(0x122)](p);else _0x17e1f5[_0x3f1e71(0x11b)](_0x4a3010[_0x3f1e71(0x1ce)],_0x24e361[_0x3f1e71(0x11a)]),_0x4d2960['itemImageDataUrl']=null;}finally{if(_0x4a3010[_0x3f1e71(0x1ee)](_0x4a3010[_0x3f1e71(0x1e2)],_0x4a3010[_0x3f1e71(0x13d)])){if(_0x5b822a)return _0x3ff62b;else sgxbjb[_0x3f1e71(0xd5)](_0x17c703,0x0);}else _0x1225df[_0x3f1e71(0xf2)]();}}),x[_0x4a6b73(0x1b5)](M,_0x5728f5[_0x4a6b73(0x245)],async(_0x23a200,_0x1a6c99)=>{const _0x1e1ab4=_0x4a6b73,_0x5e6eb5={'uoFRE':function(_0xafb96d,_0x13a04c){return _0xafb96d(_0x13a04c);},'wymKM':function(_0x59b662,_0x335ede){return _0x59b662(_0x335ede);},'icPEU':'msg','BCqLj':'red','trZUL':function(_0x9ac616,_0x340152){return _0x9ac616==_0x340152;},'qcuWg':function(_0x8c0dd1,_0x486d34){return _0x8c0dd1!==_0x486d34;},'PzqlS':_0x1e1ab4(0x16d),'Uvygs':_0x1e1ab4(0x25b),'AdygE':_0x1e1ab4(0xec),'rQJDq':_0x1e1ab4(0x213)},_0x1e4b74=_0x23a200[_0x1e1ab4(0xeb)][_0x1e1ab4(0xe2)],_0x26620f=_0x23a200[_0x1e1ab4(0xeb)][_0x1e1ab4(0x248)],_0x1c3c94=_0x23a200[_0x1e1ab4(0xeb)]['sip']?.['replace'](/[!@#$%^&*\///]/g,'')??'',_0x7d5ef7=_0x23a200[_0x1e1ab4(0xeb)][_0x1e1ab4(0x12c)],_0x39de9a=_0x23a200[_0x1e1ab4(0xeb)][_0x1e1ab4(0x283)],_0x99b784=_0x5e6eb5[_0x1e1ab4(0x195)](Number,_0x23a200[_0x1e1ab4(0xeb)]['rpp'])||0x1e,_0x3f6367=_0x5e6eb5['wymKM'](Number,_0x23a200[_0x1e1ab4(0xeb)]['page'])||0x1,_0x568280=p+_0x1e1ab4(0x1fc)+_0x1c3c94+_0x1e1ab4(0x1a5)+_0x7d5ef7+_0x1e1ab4(0x1aa)+_0x39de9a+_0x1e1ab4(0x255)+_0x99b784+_0x1e1ab4(0xdf)+_0x3f6367+_0x1e1ab4(0x275)+_0x1e4b74,_0x4adbed=new _0x5eae41(global[_0x1e1ab4(0x1dc)]);try{const _0x2018c9=_0x4adbed['db'](global[_0x1e1ab4(0x1ac)]),_0x391976=_0x2018c9[_0x1e1ab4(0x13f)](global[_0x1e1ab4(0x289)]),_0xc493c6=await _0x391976[_0x1e1ab4(0xe8)]({'itemId':_0x26620f});if(!_0xc493c6)return _0x23a200['flash'](_0x5e6eb5[_0x1e1ab4(0xf8)],{'class':_0x5e6eb5['BCqLj'],'text':'ไม่พบ\x20\x22'+_0x26620f+'\x22'}),_0x1a6c99[_0x1e1ab4(0x122)](p);const _0x518382=[{'coll':_0x2018c9[_0x1e1ab4(0x13f)](global[_0x1e1ab4(0x287)]),'name':global[_0x1e1ab4(0x287)]},{'coll':_0x2018c9['collection'](global[_0x1e1ab4(0x1bb)]),'name':global[_0x1e1ab4(0x1bb)]},{'coll':_0x2018c9[_0x1e1ab4(0x13f)](global['dbColl_receipt']),'name':global['dbColl_receipt']},{'coll':_0x2018c9['collection'](global[_0x1e1ab4(0x1db)]),'name':global['dbColl_bill']}];for(const {coll:_0x574c42,name:_0xe2a532}of _0x518382)if(await _0x574c42['findOne']({'items.itemId':_0x26620f}))return await _0x391976[_0x1e1ab4(0x123)]({'itemId':_0x26620f},{'$set':{'canDelete':!0x1}}),_0x23a200[_0x1e1ab4(0x1c2)](_0x5e6eb5[_0x1e1ab4(0xf8)],{'class':_0x5e6eb5['BCqLj'],'text':_0x1e1ab4(0x1a4)+_0x26620f+_0x1e1ab4(0x259)+_0xe2a532+_0x1e1ab4(0x17d)}),_0x1a6c99['redirect'](_0x568280);if(_0x5e6eb5[_0x1e1ab4(0x2a0)]((await _0x391976[_0x1e1ab4(0x2af)]({'itemId':_0x26620f}))[_0x1e1ab4(0x139)],0x1)){const _0xd0221e=_0xc493c6[_0x1e1ab4(0x1d1)];if(_0xd0221e){const _0x28047a=_0x535460['join'](folderItems,_0xd0221e);try{if(_0x5e6eb5[_0x1e1ab4(0x128)](_0x5e6eb5['PzqlS'],_0x5e6eb5[_0x1e1ab4(0x20c)]))return await _0x5b5798[_0x1e1ab4(0x273)]['unlink'](_0x28047a),_0x23a200[_0x1e1ab4(0x1c2)](_0x5e6eb5[_0x1e1ab4(0xf8)],{'class':_0x5e6eb5[_0x1e1ab4(0x262)],'text':'ลบ\x20\x22'+_0x26620f+_0x1e1ab4(0x1fb)}),_0x1a6c99['redirect'](_0x568280);else _0x3c403f[_0x1e1ab4(0x11b)](_0x5a3c4a),_0x1610fc['sendFile'](_0xb74b31);}catch{return _0x23a200['flash'](_0x5e6eb5['icPEU'],{'class':_0x5e6eb5[_0x1e1ab4(0x262)],'text':_0x5e6eb5['rQJDq']}),_0x1a6c99[_0x1e1ab4(0x122)](_0x568280);}}else return _0x23a200[_0x1e1ab4(0x1c2)](_0x5e6eb5[_0x1e1ab4(0xf8)],{'class':_0x5e6eb5['AdygE'],'text':_0x1e1ab4(0x1d7)+_0x26620f+_0x1e1ab4(0x11f)}),_0x1a6c99[_0x1e1ab4(0x122)](_0x568280);}else return _0x23a200[_0x1e1ab4(0x1c2)](_0x5e6eb5[_0x1e1ab4(0xf8)],{'class':_0x5e6eb5[_0x1e1ab4(0x25c)],'text':_0x1e1ab4(0xcf)+_0x1e4b74+'\x22'}),_0x1a6c99[_0x1e1ab4(0x122)](p);}catch(_0x346b54){console[_0x1e1ab4(0x11b)](_0x346b54),_0x1a6c99[_0x1e1ab4(0x124)](file404);}finally{_0x4adbed[_0x1e1ab4(0xf2)]();}}),x[_0x4a6b73(0x1ec)](R+'/:filename',_0x5728f5[_0x4a6b73(0x245)],async(_0x4b154c,_0x349d59)=>{const _0x57ef00=_0x4a6b73,_0xd8af0c={'gQXRe':_0x57ef00(0x29f),'QTuRm':_0x57ef00(0x170),'MXmSn':_0x57ef00(0x223),'sxkbO':_0x57ef00(0x103),'cdBJQ':_0x57ef00(0x1df)},_0x1fb875=_0x4b154c[_0x57ef00(0x187)][_0x57ef00(0x224)],_0x49881a=_0x535460[_0x57ef00(0x276)](_0x1fb875)[_0x57ef00(0x201)](),_0x3d03fd=_0x535460[_0x57ef00(0xca)](folderItems,_0x1fb875),_0x574d7c={'.jpg':_0xd8af0c[_0x57ef00(0x28a)],'.jpeg':_0xd8af0c[_0x57ef00(0x28a)],'.png':_0xd8af0c[_0x57ef00(0x2bc)]};_0x5b5798[_0x57ef00(0x1bd)](_0x3d03fd,(_0xee4bec,_0xd06faf)=>{const _0x42eb36=_0x57ef00;if(_0xee4bec)return console[_0x42eb36(0x2a2)](_0xd8af0c[_0x42eb36(0x246)],_0xee4bec),_0x349d59['status'](0x1f4)[_0x42eb36(0x13a)](_0xd8af0c[_0x42eb36(0x136)]);const _0x16e4e7=_0x574d7c[_0x49881a]||_0xd8af0c[_0x42eb36(0x137)];_0x349d59['writeHead'](0xc8,{'Content-Type':_0x16e4e7}),_0x349d59[_0x42eb36(0x23d)](_0xd06faf);});}),x['post'](k,_0x5728f5['isAuth'],async(_0x466cf4,_0x1a04cd)=>{const _0x5cdb12=_0x4a6b73,_0x4bd28b={'EhkKR':_0x5cdb12(0x16c),'SZSQF':function(_0x2b851a,_0x204c83){return _0x2b851a==_0x204c83;},'nxurh':_0x5cdb12(0xe5),'skUoD':_0x5cdb12(0xee),'KqxDS':_0x5cdb12(0x29b),'Zhdmm':_0x5cdb12(0x28d),'aBPpQ':_0x5cdb12(0x1f4),'cAUrJ':_0x5cdb12(0xec),'tiONT':'error\x20===>\x20'},{itemIdArr:_0xcc90eb}=_0x466cf4['body'],_0x306c5a=new _0x5eae41(global[_0x5cdb12(0x1dc)]);try{await _0x306c5a[_0x5cdb12(0x209)]();const _0x1041a3=await _0x306c5a['db'](global['dbName'])[_0x5cdb12(0x13f)](global[_0x5cdb12(0x289)])[_0x5cdb12(0x14e)]([{'$match':{'itemId':{'$in':_0xcc90eb}}},{'$project':{'_id':0x0}},{'$addFields':{'__order':{'$indexOfArray':[_0xcc90eb,_0x4bd28b[_0x5cdb12(0xfb)]]}}},{'$sort':{'__order':0x1}}])[_0x5cdb12(0x1a3)]();if(_0x4bd28b[_0x5cdb12(0x15e)](_0x1041a3[_0x5cdb12(0x113)],0x0))return _0x1a04cd[_0x5cdb12(0x13a)](JSON['stringify']({'isPrint':!0x1,'class':_0x4bd28b[_0x5cdb12(0x239)],'msg':_0x4bd28b[_0x5cdb12(0x219)]}));const _0x5d8139=_0x535460[_0x5cdb12(0xca)](folderForm,_0x4bd28b[_0x5cdb12(0xe0)]),_0x686e7=_0x5b5798[_0x5cdb12(0x1e8)](_0x5d8139,_0x4bd28b[_0x5cdb12(0x1b1)]),_0x56b9dd=_0x17b7e4[_0x5cdb12(0x278)](_0x686e7,{'web_title':_0x5cdb12(0x1b9)+_0x1041a3['length']+_0x5cdb12(0x295),'title':_0x4bd28b[_0x5cdb12(0x19e)],'data':_0x1041a3,'dateTime':j[_0x5cdb12(0x1cf)]()});_0x1a04cd['send'](JSON['stringify']({'isPrint':!0x0,'class':_0x4bd28b['cAUrJ'],'htmlPage':_0x56b9dd,'msg':'พิมพ์\x20'+_0x1041a3[_0x5cdb12(0x113)]+'\x20ไอเท็มเรียบร้อยแล้ว'}));}catch(_0x247b75){console[_0x5cdb12(0x11b)](_0x4bd28b[_0x5cdb12(0x133)],_0x247b75),_0x1a04cd[_0x5cdb12(0x13a)](JSON[_0x5cdb12(0x1f0)]({'isPrint':!0x1,'class':_0x4bd28b[_0x5cdb12(0x239)],'msg':_0x247b75['message']}));}finally{_0x306c5a[_0x5cdb12(0xf2)]();}});export default x;function _0x14d12c(_0x26bd25){const _0x1211a1=_0x4a6b73,_0x516d3a={'dBDqY':function(_0x25ae3d,_0x224912){return _0x25ae3d===_0x224912;},'SsVQw':_0x1211a1(0x13e),'yZxjv':_0x1211a1(0x271),'dUswm':'counter','aJrwN':function(_0x5f1337,_0x3c9a8c){return _0x5f1337!==_0x3c9a8c;},'kprBD':function(_0x7e904c,_0x1f8a15){return _0x7e904c+_0x1f8a15;},'zXlqc':function(_0x4b9efb,_0x530583){return _0x4b9efb/_0x530583;},'EyoOP':_0x1211a1(0x113),'rHCIP':function(_0x1bf018,_0x353b78){return _0x1bf018%_0x353b78;},'lkbnc':function(_0x5c2b52,_0x4a0edf){return _0x5c2b52+_0x4a0edf;},'zyMHt':_0x1211a1(0x25f),'dJdXj':_0x1211a1(0x1c9),'XYMVA':_0x1211a1(0x104),'saVly':function(_0x182d17,_0x3e3fee){return _0x182d17+_0x3e3fee;},'BphdN':'stateObject','pVwGS':function(_0x5952d0,_0x2fa986){return _0x5952d0(_0x2fa986);}};function _0x3b007b(_0x469816){const _0x12a646=_0x1211a1;if(_0x516d3a[_0x12a646(0x126)](typeof _0x469816,_0x516d3a[_0x12a646(0x182)]))return function(_0x1ac437){}[_0x12a646(0xdd)](_0x516d3a[_0x12a646(0x23a)])[_0x12a646(0x23e)](_0x516d3a['dUswm']);else _0x516d3a[_0x12a646(0x247)](_0x516d3a[_0x12a646(0x28e)]('',_0x516d3a[_0x12a646(0x1f9)](_0x469816,_0x469816))[_0x516d3a['EyoOP']],0x1)||_0x516d3a['dBDqY'](_0x516d3a[_0x12a646(0x142)](_0x469816,0x14),0x0)?function(){return!![];}[_0x12a646(0xdd)](_0x516d3a['lkbnc'](_0x516d3a[_0x12a646(0xf4)],_0x516d3a[_0x12a646(0x208)]))['call'](_0x516d3a['XYMVA']):function(){return![];}[_0x12a646(0xdd)](_0x516d3a[_0x12a646(0x286)](_0x516d3a['zyMHt'],_0x516d3a[_0x12a646(0x208)]))[_0x12a646(0x23e)](_0x516d3a['BphdN']);_0x516d3a[_0x12a646(0x12d)](_0x3b007b,++_0x469816);}try{if(_0x26bd25)return _0x3b007b;else _0x516d3a['pVwGS'](_0x3b007b,0x0);}catch(_0x483194){}}