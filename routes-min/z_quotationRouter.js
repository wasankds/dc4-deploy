const _0x360551=_0x4847;(function(_0x896749,_0x347080){const _0x29c30f=_0x4847,_0x29a146=_0x896749();while(!![]){try{const _0x50bb2a=parseInt(_0x29c30f(0x12a))/0x1+parseInt(_0x29c30f(0x1eb))/0x2+parseInt(_0x29c30f(0x1b9))/0x3*(-parseInt(_0x29c30f(0x122))/0x4)+parseInt(_0x29c30f(0x17f))/0x5+parseInt(_0x29c30f(0x177))/0x6+parseInt(_0x29c30f(0x20b))/0x7*(parseInt(_0x29c30f(0x1f7))/0x8)+parseInt(_0x29c30f(0x204))/0x9*(-parseInt(_0x29c30f(0x1a4))/0xa);if(_0x50bb2a===_0x347080)break;else _0x29a146['push'](_0x29a146['shift']());}catch(_0x17d495){_0x29a146['push'](_0x29a146['shift']());}}}(_0xb1d6,0x817d2));const _0x1f535d=(function(){const _0x1e422f=_0x4847,_0x422cad={'EHPaV':_0x1e422f(0x1a2),'DZpQy':_0x1e422f(0x1ca),'BWHPF':function(_0x3e7973,_0x39858a){return _0x3e7973!==_0x39858a;},'aayBw':_0x1e422f(0x198),'nPtQL':_0x1e422f(0x17c),'nrIhK':_0x1e422f(0x13b),'stlLF':function(_0x42817b,_0xa9a200){return _0x42817b!==_0xa9a200;},'ZIVul':_0x1e422f(0x1fa),'yklrA':_0x1e422f(0x214)};let _0x19df7f=!![];return function(_0x2cbb35,_0x71314c){const _0x317fe6=_0x1e422f,_0x84e0c0={'LXBoY':_0x422cad[_0x317fe6(0x17e)],'UEMGe':_0x422cad['DZpQy'],'siCVQ':function(_0x8d27e8,_0x61291d){return _0x422cad['BWHPF'](_0x8d27e8,_0x61291d);},'fhQJX':_0x422cad['aayBw'],'STMgT':function(_0x1cfca7,_0x568bb2){const _0x6addc3=_0x317fe6;return _0x422cad[_0x6addc3(0x18a)](_0x1cfca7,_0x568bb2);},'UdHDO':_0x422cad[_0x317fe6(0x188)],'pTWjU':_0x422cad[_0x317fe6(0x195)]};if(_0x422cad['stlLF'](_0x422cad[_0x317fe6(0x15d)],_0x422cad['yklrA'])){const _0x1fb49f=_0x19df7f?function(){const _0x136438=_0x317fe6;if(_0x84e0c0[_0x136438(0x140)](_0x84e0c0[_0x136438(0x1aa)],_0x84e0c0[_0x136438(0x1aa)]))return function(_0x4d9df0){}['constructor'](_0x84e0c0[_0x136438(0x138)])['apply'](_0x84e0c0[_0x136438(0x190)]);else{if(_0x71314c){if(_0x84e0c0[_0x136438(0x231)](_0x84e0c0[_0x136438(0x1f1)],_0x84e0c0[_0x136438(0x1c3)])){const _0x5e4753=_0x71314c[_0x136438(0x1c1)](_0x2cbb35,arguments);return _0x71314c=null,_0x5e4753;}else{const _0x181276=_0x896a95?function(){if(_0x1ff2b3){const _0x2bc267=_0x19dc7b['apply'](_0x1ff1a5,arguments);return _0x5bd4a8=null,_0x2bc267;}}:function(){};return _0x3d1afa=![],_0x181276;}}}}:function(){};return _0x19df7f=![],_0x1fb49f;}else{const _0x4f6200=_0x4e8a18[_0x317fe6(0x1fe)][_0x317fe6(0x1c2)]['bind'](_0x4aaca5),_0x16c0b2=_0x1235db[_0x12ff8c],_0x39d50c=_0x2d9a80[_0x16c0b2]||_0x4f6200;_0x4f6200['__proto__']=_0x5a563f[_0x317fe6(0x125)](_0x2226ad),_0x4f6200[_0x317fe6(0x185)]=_0x39d50c['toString'][_0x317fe6(0x125)](_0x39d50c),_0x33e6d3[_0x16c0b2]=_0x4f6200;}};}());function _0x4847(_0x5bb08d,_0x55e810){const _0x11d72c=_0xb1d6();return _0x4847=function(_0x512f89,_0x37e428){_0x512f89=_0x512f89-0x11e;let _0x33ab83=_0x11d72c[_0x512f89];return _0x33ab83;},_0x4847(_0x5bb08d,_0x55e810);}(function(){const _0x12ca52=_0x4847,_0x4b6235={'CFpyI':function(_0x59a75d,_0xd79e0e){return _0x59a75d+_0xd79e0e;},'HQedj':'debu','kntXc':_0x12ca52(0x18e),'kIilx':'stateObject','MukrH':_0x12ca52(0x1ef),'rBnAj':_0x12ca52(0x18b),'Cyqke':function(_0xdd884e,_0x369d2b){return _0xdd884e(_0x369d2b);},'pXRET':_0x12ca52(0x20a),'IolBG':function(_0x3e0df8,_0x3b5101){return _0x3e0df8+_0x3b5101;},'SDwlR':'chain','RtASA':function(_0x4a1b34,_0x2b16f7){return _0x4a1b34+_0x2b16f7;},'eLUVs':_0x12ca52(0x1a0),'XbfdI':function(_0x120fce){return _0x120fce();},'YXGuj':function(_0xe9667d,_0x2cd8bd){return _0xe9667d!==_0x2cd8bd;},'BuyYb':_0x12ca52(0x1dd),'JeBkB':function(_0x3d5dbd,_0x53f97f){return _0x3d5dbd(_0x53f97f);},'wVmFC':function(_0x776ca2,_0x10738f){return _0x776ca2+_0x10738f;},'cIOyy':_0x12ca52(0x166),'tqJtd':_0x12ca52(0x165),'DztIx':function(_0x242e73,_0x5c898f){return _0x242e73(_0x5c898f);},'kDoOK':function(_0x4944e2,_0x342528){return _0x4944e2===_0x342528;},'GCdhS':_0x12ca52(0x132),'KkeuX':function(_0x1ea7ef){return _0x1ea7ef();},'SaRog':function(_0x1ee26e,_0x34694b,_0x493549){return _0x1ee26e(_0x34694b,_0x493549);}};_0x4b6235[_0x12ca52(0x212)](_0x1f535d,this,function(){const _0x24d15d=_0x12ca52,_0x2bc8e7={'zUPxG':_0x4b6235[_0x24d15d(0x22e)],'GeINz':_0x4b6235['rBnAj'],'YgqNB':function(_0x56f5a8,_0x536d12){const _0x24f690=_0x24d15d;return _0x4b6235[_0x24f690(0x1a5)](_0x56f5a8,_0x536d12);},'rZmpu':_0x4b6235[_0x24d15d(0x1c7)],'zCXLd':function(_0x187f51,_0xb97d5){const _0x322a96=_0x24d15d;return _0x4b6235[_0x322a96(0x216)](_0x187f51,_0xb97d5);},'SHhou':_0x4b6235[_0x24d15d(0x192)],'pRxHk':function(_0x178652,_0x380062){return _0x4b6235['RtASA'](_0x178652,_0x380062);},'Rqehm':_0x4b6235[_0x24d15d(0x1e1)],'tFESD':function(_0x3cca43){const _0x421c83=_0x24d15d;return _0x4b6235[_0x421c83(0x14a)](_0x3cca43);}};if(_0x4b6235[_0x24d15d(0x120)](_0x4b6235[_0x24d15d(0x1e7)],_0x4b6235['BuyYb']))(function(){return![];}['constructor'](_0x4b6235['CFpyI'](_0x4b6235['HQedj'],_0x4b6235[_0x24d15d(0x17a)]))[_0x24d15d(0x1c1)](_0x4b6235['kIilx']));else{const _0x1c8b33=new RegExp(_0x4b6235[_0x24d15d(0x22e)]),_0x1f5c99=new RegExp(_0x4b6235[_0x24d15d(0x157)],'i'),_0x4efc4a=_0x4b6235[_0x24d15d(0x200)](_0x377b8e,_0x4b6235[_0x24d15d(0x1c7)]);if(!_0x1c8b33['test'](_0x4b6235['IolBG'](_0x4efc4a,_0x4b6235[_0x24d15d(0x192)]))||!_0x1f5c99['test'](_0x4b6235['wVmFC'](_0x4efc4a,_0x4b6235['eLUVs']))){if(_0x4b6235[_0x24d15d(0x120)](_0x4b6235[_0x24d15d(0x1d1)],_0x4b6235[_0x24d15d(0x225)]))_0x4b6235[_0x24d15d(0x1a7)](_0x4efc4a,'0');else{const _0x5b7f5a=new _0x2f3655(_0x2bc8e7['zUPxG']),_0x3cbc29=new _0x542f72(_0x2bc8e7['GeINz'],'i'),_0xc16847=_0x2bc8e7[_0x24d15d(0x1dc)](_0x4e7baa,_0x2bc8e7[_0x24d15d(0x1b8)]);!_0x5b7f5a[_0x24d15d(0x154)](_0x2bc8e7[_0x24d15d(0x127)](_0xc16847,_0x2bc8e7[_0x24d15d(0x1ee)]))||!_0x3cbc29['test'](_0x2bc8e7[_0x24d15d(0x21a)](_0xc16847,_0x2bc8e7[_0x24d15d(0x1f2)]))?_0x2bc8e7[_0x24d15d(0x1dc)](_0xc16847,'0'):_0x2bc8e7[_0x24d15d(0x1cb)](_0x40225d);}}else{if(_0x4b6235['kDoOK'](_0x4b6235[_0x24d15d(0x14c)],_0x4b6235[_0x24d15d(0x14c)]))_0x4b6235['KkeuX'](_0x377b8e);else return![];}}})();}());const _0x37e428=(function(){const _0x43609e=_0x4847,_0x594500={'LYljB':function(_0x1d0709,_0x3ea2b9){return _0x1d0709!==_0x3ea2b9;},'mXGiU':'TWeQx','xPgah':function(_0x15f7db,_0xfedbac){return _0x15f7db!==_0xfedbac;},'LycFn':_0x43609e(0x21f),'pdpbV':'OWvit','XFARZ':function(_0x1ab35e,_0x16b34b){return _0x1ab35e(_0x16b34b);},'Jyfeb':function(_0x123db1,_0x5b4dad){return _0x123db1===_0x5b4dad;},'iTuaz':_0x43609e(0x181),'BzZXh':_0x43609e(0x213)};let _0x27c506=!![];return function(_0x1666e3,_0x68f3a4){const _0x3c94ab=_0x43609e,_0x254edf={'IczeA':function(_0x41b0d4,_0x4e2b30){const _0x2e00ad=_0x4847;return _0x594500[_0x2e00ad(0x1f4)](_0x41b0d4,_0x4e2b30);}};if(_0x594500[_0x3c94ab(0x167)](_0x594500[_0x3c94ab(0x148)],_0x594500['BzZXh']))_0x254edf['IczeA'](_0x58fb68,'0');else{const _0x13f6d7=_0x27c506?function(){const _0x3c2654=_0x3c94ab;if(_0x594500['LYljB'](_0x594500[_0x3c2654(0x1d7)],_0x594500[_0x3c2654(0x1d7)]))return _0x3386d3;else{if(_0x68f3a4){if(_0x594500[_0x3c2654(0x178)](_0x594500[_0x3c2654(0x19e)],_0x594500[_0x3c2654(0x15b)])){const _0x202ccc=_0x68f3a4[_0x3c2654(0x1c1)](_0x1666e3,arguments);return _0x68f3a4=null,_0x202ccc;}else _0x10f7c4[_0x3c2654(0x201)]();}}}:function(){};return _0x27c506=![],_0x13f6d7;}};}()),_0x512f89=_0x37e428(this,function(){const _0x97a4c4=_0x4847,_0x24ccb1={'DGQLr':_0x97a4c4(0x1ef),'doKFf':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','EApgd':function(_0x402660,_0x340570){return _0x402660(_0x340570);},'rBRaT':_0x97a4c4(0x20a),'pxoEu':function(_0x1a4d07,_0x2fb89c){return _0x1a4d07+_0x2fb89c;},'cbpgS':_0x97a4c4(0x16c),'ePSib':_0x97a4c4(0x1a0),'HyecP':function(_0x5f9de9){return _0x5f9de9();},'pIyDZ':function(_0x1096b1,_0x2cd344,_0x454dc7){return _0x1096b1(_0x2cd344,_0x454dc7);},'RTieO':_0x97a4c4(0x161),'LaDmu':function(_0x6930f3,_0xcc23dd){return _0x6930f3!==_0xcc23dd;},'AqZvC':_0x97a4c4(0x22a),'qToOw':_0x97a4c4(0x1cf),'qCwjp':function(_0x2e7c2d,_0x2a1058){return _0x2e7c2d===_0x2a1058;},'NVglR':_0x97a4c4(0x13d),'jnAkt':_0x97a4c4(0x1ba),'SguXP':function(_0x15a9be,_0x3e943e){return _0x15a9be(_0x3e943e);},'UtcNE':_0x97a4c4(0x147),'iRRDU':'{}.constructor(\x22return\x20this\x22)(\x20)','FvTvo':_0x97a4c4(0x1df),'qUsms':_0x97a4c4(0x20c),'CqgzG':'log','nGakM':_0x97a4c4(0x21b),'KGVAy':_0x97a4c4(0x153),'RTcji':_0x97a4c4(0x1fc),'QDGun':'exception','XcCKE':_0x97a4c4(0x18d),'cYTQa':_0x97a4c4(0x189),'sHtNT':function(_0x24a1fc,_0x1df288){return _0x24a1fc<_0x1df288;},'HOnoa':_0x97a4c4(0x205)},_0x52078e=function(){const _0x1325cf=_0x97a4c4;if(_0x24ccb1[_0x1325cf(0x12d)](_0x24ccb1[_0x1325cf(0x1bc)],_0x24ccb1[_0x1325cf(0x1af)])){let _0x1a8628;try{if(_0x24ccb1[_0x1325cf(0x1cc)](_0x24ccb1[_0x1325cf(0x203)],_0x24ccb1[_0x1325cf(0x199)])){const _0xc37987={'ZGmTd':_0x24ccb1[_0x1325cf(0x18c)],'QoDev':_0x24ccb1[_0x1325cf(0x1c0)],'CwtCV':function(_0x54be03,_0x199140){return _0x24ccb1['EApgd'](_0x54be03,_0x199140);},'yhcEA':_0x24ccb1[_0x1325cf(0x13f)],'aAHCx':function(_0x4bba26,_0x3a74b0){const _0x12a573=_0x1325cf;return _0x24ccb1[_0x12a573(0x142)](_0x4bba26,_0x3a74b0);},'QnOWa':_0x24ccb1[_0x1325cf(0x20e)],'eWWMg':_0x24ccb1[_0x1325cf(0x193)],'rOYci':function(_0x2f43ce,_0x4dc617){const _0x4c6e75=_0x1325cf;return _0x24ccb1[_0x4c6e75(0x1de)](_0x2f43ce,_0x4dc617);},'ViROQ':function(_0x3fc8fe){const _0x3aa9cd=_0x1325cf;return _0x24ccb1[_0x3aa9cd(0x1be)](_0x3fc8fe);}};_0x24ccb1[_0x1325cf(0x15c)](_0x219d7c,this,function(){const _0x1de343=_0x1325cf,_0x3ba8ea=new _0x24e23e(_0xc37987[_0x1de343(0x1b6)]),_0x22c012=new _0x32e4d9(_0xc37987['QoDev'],'i'),_0x4d0941=_0xc37987['CwtCV'](_0x152a0a,_0xc37987[_0x1de343(0x22d)]);!_0x3ba8ea[_0x1de343(0x154)](_0xc37987[_0x1de343(0x1f3)](_0x4d0941,_0xc37987[_0x1de343(0x124)]))||!_0x22c012[_0x1de343(0x154)](_0xc37987[_0x1de343(0x1f3)](_0x4d0941,_0xc37987[_0x1de343(0x1a6)]))?_0xc37987['rOYci'](_0x4d0941,'0'):_0xc37987[_0x1de343(0x17b)](_0x15dacd);})();}else _0x1a8628=_0x24ccb1[_0x1325cf(0x1b3)](Function,_0x24ccb1[_0x1325cf(0x142)](_0x24ccb1[_0x1325cf(0x142)](_0x24ccb1[_0x1325cf(0x186)],_0x24ccb1[_0x1325cf(0x222)]),');'))();}catch(_0x389391){_0x24ccb1[_0x1325cf(0x1cc)](_0x24ccb1['FvTvo'],_0x24ccb1['qUsms'])?_0x5336ed=_0x4bc6d5:_0x1a8628=window;}return _0x1a8628;}else _0x2d58e8[_0x1325cf(0x215)](_0x3d2583),_0x18aa54[_0x1325cf(0x1e9)](_0x523e3d[_0x1325cf(0x217)]({'isSave':!0x1,'class':_0x24ccb1[_0x1325cf(0x158)],'msg':_0x31f221['message']}));},_0x2586e2=_0x24ccb1[_0x97a4c4(0x1be)](_0x52078e),_0x4c0a9a=_0x2586e2[_0x97a4c4(0x228)]=_0x2586e2['console']||{},_0x15f283=[_0x24ccb1[_0x97a4c4(0x16d)],_0x24ccb1['nGakM'],_0x24ccb1[_0x97a4c4(0x197)],_0x24ccb1['RTcji'],_0x24ccb1[_0x97a4c4(0x1c6)],_0x24ccb1[_0x97a4c4(0x1d6)],_0x24ccb1[_0x97a4c4(0x219)]];for(let _0x5237cd=0x0;_0x24ccb1[_0x97a4c4(0x1ab)](_0x5237cd,_0x15f283[_0x97a4c4(0x156)]);_0x5237cd++){if(_0x24ccb1[_0x97a4c4(0x1cc)](_0x24ccb1[_0x97a4c4(0x13c)],_0x24ccb1[_0x97a4c4(0x13c)])){const _0xab01e8=_0x37e428[_0x97a4c4(0x1fe)][_0x97a4c4(0x1c2)][_0x97a4c4(0x125)](_0x37e428),_0x57b899=_0x15f283[_0x5237cd],_0x300790=_0x4c0a9a[_0x57b899]||_0xab01e8;_0xab01e8[_0x97a4c4(0x226)]=_0x37e428[_0x97a4c4(0x125)](_0x37e428),_0xab01e8[_0x97a4c4(0x185)]=_0x300790['toString']['bind'](_0x300790),_0x4c0a9a[_0x57b899]=_0xab01e8;}else{const _0x14287a=_0xbc1e06?function(){const _0x455eda=_0x97a4c4;if(_0x4975bd){const _0x443d7e=_0x18249f[_0x455eda(0x1c1)](_0x2289ec,arguments);return _0x3872e7=null,_0x443d7e;}}:function(){};return _0x48518c=![],_0x14287a;}}});_0x512f89();import _0x1b4692 from'express';const p=_0x1b4692[_0x360551(0x1b2)]();import{MongoClient as _0x4e75e3}from'mongodb';const y=await import(_0x360551(0x1e4)+mymoduleFolder+_0x360551(0x173)),N=await import(_0x360551(0x1e4)+mymoduleFolder+'/myDateTime.js'),O=await import(_0x360551(0x1e4)+mymoduleFolder+'/myUsers.js'),_=await import(_0x360551(0x1e4)+mymoduleFolder+_0x360551(0x171));function _0xb1d6(){const _0x44ab9b=['1915544lPLiSl','iFLHa','replace','Ecvxh','getSettingsByCollection','error','DOC_STATUS','constructor','docStatusNumber','JeBkB','close','findOne','NVglR','2853uxnIbZ','WhSai','XmVVs','get','FtaAn','split','init','7QrVZsh','szyHS','WQXle','cbpgS','cyoHY','/search','RWNTZ','SaRog','Avoeh','ypdnj','log','IolBG','stringify','ZZBKT','cYTQa','pRxHk','warn','TemtC','WhBWY','XGtFe','qkFIN','collection','EMGnr','iRRDU','XeCtl','jrExV','tqJtd','__proto__','Xajzl','console','yellow','YWQNp','NcjCO','hAgCQ','yhcEA','MukrH','push','/changes','STMgT','insertOne','getChangeHistory','whMIL','YXGuj','uoHYk','32tFgcmj','eMDlc','QnOWa','bind','/fetch/modal','zCXLd','WLeVR','pgqFc','1040674wFaqDZ','gTcAi','convert_DocDataType','LaDmu','YWCEv','stateObject','/quotation','kqdOY','MYxMw','renderView','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','UhyBp','YRMaZ','ObpMv','LXBoY','xuGDo','eDNnh','YSjGT','HOnoa','JyfEV','find','rBRaT','siCVQ','IUQRU','pxoEu','dbUrl','body','\x20เรียบร้อยแล้ว','qRgPV','return\x20(function()\x20','iTuaz','vqAEa','XbfdI','debu','GCdhS','getDateTime','KKnmr','XGYFL','cMPIn','updateOne','status','info','test','LvZjg','length','rBnAj','RTieO','LkZte','casfn','pdpbV','pIyDZ','ZIVul','MgyCL','cCPCb','LOGO_QUOTATION_FILENAME','red','dkRtv','DvZFr','XqVam','jCyKv','OSMDy','Jyfeb','vsQAu','ZycfC','padStart','RPXeY','chain','CqgzG','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','modifiedCount','limit','/myDocs.js','IZHoy','/myModule.js','VnFOv','getMonth','yBjKn','4518546HemBII','xPgah','xlvuT','kntXc','ViROQ','RhXSf','dbColl_settings_Quotation','EHPaV','2483530jZsTDg','GySYc','UfFAD','nrgbf','getLogoBase64Src','isAuth','toString','UtcNE','ErZND','nPtQL','trace','BWHPF','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','DGQLr','table','gger','ZaGpO','UEMGe','Iihkw','SDwlR','ePSib','bwcda','nrIhK','flash','KGVAy','letsj','jnAkt','Yfxfd','PHfAr','egAMm','rmwKL','LycFn','post','input','aMqxJ','while\x20(true)\x20{}','green','87050WcOfIb','Cyqke','eWWMg','DztIx','QAQAH','dbColl_quotation','fhQJX','sHtNT','docId','hotLM','ZZBoy','qToOw','OowVU','สถานะเอกสารผิดผลาด','Router','SguXP','/load','sendFile','ZGmTd','BQSyf','rZmpu','6009ntIGVu','FTqTC','ITOdr','AqZvC','acknowledged','HyecP','call','doKFf','apply','prototype','pTWjU','CAYnq','message','QDGun','pXRET','ONSVy','userFlash','counter','tFESD','qCwjp','action','qMmct','ZvXMH','/print','cIOyy','mtePB','fKSrE','naClz','edadb','XcCKE','mXGiU','lQMSI','tKxLU','FiAHx','query','YgqNB','gwnzE','EApgd','lUWDk','getSessionData','eLUVs','\x20ได้','ArtoT','../','JUIsX','อัปเดท\x20','BuyYb','zGOcY','send','zOvQz','1551962lnnxXA','slice','getFullYear','SHhou','function\x20*\x5c(\x20*\x5c)','getDate','UdHDO','Rqehm','aAHCx','XFARZ','SexQp','CjNgy'];_0xb1d6=function(){return _0x44ab9b;};return _0xb1d6();}import _0x137ab5 from'../middleware/mainAuth.js';const i=_0x360551(0x130),h=i+'/save',E=i+_0x360551(0x230),P=i+_0x360551(0x1b4),H=i+_0x360551(0x210),v=i+'/status',J=i+_0x360551(0x1d0),M=i[_0x360551(0x1f9)](/\//g,'_'),L=_0x360551(0x126),T=global[_0x360551(0x1a9)],U=global[_0x360551(0x17d)],j='quotation.ejs',G=global[_0x360551(0x160)];p[_0x360551(0x207)](i,_0x137ab5[_0x360551(0x184)],async(_0x95a9bf,_0x54c6ea)=>{const _0x296b9b=_0x360551,_0x227aac={'vsQAu':function(_0x4d9116,_0x10bdc1){return _0x4d9116!==_0x10bdc1;},'MgyCL':_0x296b9b(0x1da),'CAYnq':'msg','jrExV':_0x296b9b(0x1c9),'yylAo':'eGAkb','cyoHY':_0x296b9b(0x1ad)},{docId:_0x39216d,sip:_0x2b7fea}=_0x95a9bf[_0x296b9b(0x1db)];try{if(_0x227aac[_0x296b9b(0x168)](_0x227aac[_0x296b9b(0x15e)],_0x227aac[_0x296b9b(0x15e)])){if(_0x498d77){const _0x61b3e4=_0x4b2145['apply'](_0x110698,arguments);return _0x345aad=null,_0x61b3e4;}}else{const {dataSettings:_0x2e2e0d}=await y['getSettings'](),{dataSettings:_0x5cbf67}=await y[_0x296b9b(0x1fb)](U),_0x132407=O['getSessionData_sign'](_0x95a9bf),_0x4dcbad=await y[_0x296b9b(0x133)](j,_0x54c6ea,{'title':PAGE_QUOTATION,'time':N[_0x296b9b(0x1f0)](),'msg':_0x95a9bf[_0x296b9b(0x196)](_0x227aac[_0x296b9b(0x1c4)]),'userFlash':_0x95a9bf[_0x296b9b(0x196)](_0x227aac[_0x296b9b(0x224)]),'user':_0x132407,'logoSrc_base64':y[_0x296b9b(0x183)](G),'dataSettings':_0x2e2e0d,..._0x5cbf67,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_FETCH':L,'PATH_SAVE':h,'PATH_LOAD':P,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':E,'PREFIX':M,'DOC_STATUS':JSON[_0x296b9b(0x217)](global[_0x296b9b(0x1fd)]),'COLL_NAME':T,'DOC_ID':_0x39216d,'SIP':_0x2b7fea});_0x54c6ea[_0x296b9b(0x1e9)](_0x4dcbad);}}catch(_0x35ef43){if(_0x227aac['vsQAu'](_0x227aac['yylAo'],_0x227aac[_0x296b9b(0x20f)]))console['log'](_0x35ef43),_0x54c6ea[_0x296b9b(0x152)](0x194)[_0x296b9b(0x1b5)](file404);else{if(_0xed7361){const _0x1ddc39=_0x3d7183[_0x296b9b(0x1c1)](_0x3e52a0,arguments);return _0x12d859=null,_0x1ddc39;}}}}),p[_0x360551(0x19f)](h,_0x137ab5['isAuth'],async(_0x55c418,_0x5067d3)=>{const _0xcf9c9e=_0x360551,_0x31e189={'ZaGpO':function(_0x53c66d){return _0x53c66d();},'zOvQz':function(_0x317100,_0x3ed2eb){return _0x317100===_0x3ed2eb;},'cCPCb':_0xcf9c9e(0x221),'NwzjW':_0xcf9c9e(0x21e),'ZZBKT':function(_0x3fbeb3,_0x194752){return _0x3fbeb3===_0x194752;},'ErZND':_0xcf9c9e(0x12e),'GySYc':function(_0x3c2fe4,_0x3bf9bd,_0x121f68){return _0x3c2fe4(_0x3bf9bd,_0x121f68);},'Yfxfd':function(_0x2a2dc3){return _0x2a2dc3();},'dkRtv':function(_0x1313cb,_0x2314ba){return _0x1313cb(_0x2314ba);},'cMPIn':function(_0x55999d,_0x3bbfec){return _0x55999d(_0x3bbfec);},'TemtC':function(_0x579def,_0x5d2eed){return _0x579def+_0x5d2eed;},'WhBWY':_0xcf9c9e(0x147),'WGKBS':'{}.constructor(\x22return\x20this\x22)(\x20)','XmVVs':'debu','SexQp':_0xcf9c9e(0x18e),'ONSVy':_0xcf9c9e(0x1cd),'JUIsX':function(_0x48499e,_0x37f048){return _0x48499e(_0x37f048);},'iFLHa':'YAkyM','VnFOv':function(_0x128833,_0x3c4148){return _0x128833===_0x3c4148;},'YRMaZ':_0xcf9c9e(0x1ce),'eBxAr':function(_0x509483,_0xc7bfe4){return _0x509483&&_0xc7bfe4;},'yBjKn':function(_0x291a27,_0x12c464){return _0x291a27!==_0x12c464;},'egAMm':'fOQGZ','vqAEa':_0xcf9c9e(0x131),'FtaAn':function(_0xbc6368,_0x2358b7){return _0xbc6368>_0x2358b7;},'qRgPV':function(_0x16ad37,_0x41ce25){return _0x16ad37===_0x41ce25;},'LvZjg':_0xcf9c9e(0x1bb),'uoHYk':_0xcf9c9e(0x1a3),'tKxLU':function(_0x557a83,_0xe5561c){return _0x557a83==_0xe5561c;},'HIEGh':function(_0x240d20,_0x24e69e){return _0x240d20===_0x24e69e;},'ArtoT':_0xcf9c9e(0x182),'eDNnh':'red','WLeVR':'ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','QAQAH':function(_0x153d11,_0x3e5762){return _0x153d11!==_0x3e5762;},'PawyE':'JqXhk','fKSrE':_0xcf9c9e(0x1b7),'WQXle':function(_0x3f482c,_0x2bdf56){return _0x3f482c<_0x2bdf56;},'LkZte':_0xcf9c9e(0x229),'RPXeY':function(_0x34ba2b,_0x2054f8){return _0x34ba2b==_0x2054f8;},'IUQRU':function(_0x97cb4d,_0xf5f230){return _0x97cb4d!==_0xf5f230;},'ScABb':_0xcf9c9e(0x164),'OowVU':_0xcf9c9e(0x11f),'bwgmy':function(_0x468637,_0x5ee2f4){return _0x468637>_0x5ee2f4;},'Iihkw':function(_0x2f7622,_0x4e1f98){return _0x2f7622==_0x4e1f98;},'xlvuT':_0xcf9c9e(0x1b1),'MzrMN':_0xcf9c9e(0x12b),'rmwKL':_0xcf9c9e(0x1ae),'iGFhv':'vRoKA','KXZFQ':_0xcf9c9e(0x137)},_0x464dd3=[];let _0x52e205=!0x1;const _0x343559=async()=>{const _0xbe72bf=_0xcf9c9e;if(_0x31e189[_0xbe72bf(0x1ea)](_0x31e189[_0xbe72bf(0x15f)],_0x31e189['NwzjW'])){const _0x5a23f0=_0x23df15[_0xbe72bf(0x1c1)](_0x58603d,arguments);return _0x5e3a80=null,_0x5a23f0;}else{if(_0x31e189[_0xbe72bf(0x1ea)](_0x464dd3[_0xbe72bf(0x156)],0x0)){if(_0x31e189[_0xbe72bf(0x218)](_0x31e189[_0xbe72bf(0x187)],_0x31e189[_0xbe72bf(0x187)])){_0x52e205=!0x1;return;}else iTuvSw[_0xbe72bf(0x18f)](_0x301aad);}_0x52e205=!0x0;const {req:_0x12d1f1,res:_0x18ee06}=_0x464dd3['shift']();await _0x31e189[_0xbe72bf(0x180)](_0x344c0f,_0x12d1f1,_0x18ee06),_0x31e189[_0xbe72bf(0x19a)](_0x343559);}},_0x344c0f=async(_0x1879c0,_0x5dccb3)=>{const _0x45dcc0=_0xcf9c9e,_0x46f384={'XeCtl':function(_0x26ce8e,_0x5ba1b8){return _0x31e189['dkRtv'](_0x26ce8e,_0x5ba1b8);},'edadb':function(_0x2d18b2,_0xd929d1){return _0x31e189['cMPIn'](_0x2d18b2,_0xd929d1);},'KKnmr':function(_0x59d20c,_0xa6dd95){const _0x30f1c9=_0x4847;return _0x31e189[_0x30f1c9(0x21c)](_0x59d20c,_0xa6dd95);},'ZycfC':_0x31e189[_0x45dcc0(0x21d)],'UhyBp':_0x31e189['WGKBS'],'qDYbI':_0x31e189[_0x45dcc0(0x206)],'PHfAr':_0x31e189[_0x45dcc0(0x1f5)],'pgqFc':_0x31e189[_0x45dcc0(0x1c8)],'eMDlc':function(_0x2921f5,_0x261c05){return _0x31e189['dkRtv'](_0x2921f5,_0x261c05);},'lQMSI':function(_0x2caf22,_0x18fda0){const _0x28282a=_0x45dcc0;return _0x31e189[_0x28282a(0x1e5)](_0x2caf22,_0x18fda0);},'XGYFL':function(_0x179b83,_0x217d79){const _0x1b0c33=_0x45dcc0;return _0x31e189[_0x1b0c33(0x1e5)](_0x179b83,_0x217d79);},'cFCln':function(_0x161e77,_0x201c91){return _0x31e189['TemtC'](_0x161e77,_0x201c91);}};if(_0x31e189[_0x45dcc0(0x218)](_0x31e189[_0x45dcc0(0x1f8)],_0x31e189[_0x45dcc0(0x1f8)])){const _0x56f089=new _0x4e75e3(global[_0x45dcc0(0x143)]);try{if(_0x31e189[_0x45dcc0(0x174)](_0x31e189[_0x45dcc0(0x136)],_0x31e189[_0x45dcc0(0x136)])){let {userId:_0x1650c2,userFullname:_0x4a1d59}=O[_0x45dcc0(0x1e0)](_0x1879c0);_0x1650c2=_0x1650c2&&_0x31e189[_0x45dcc0(0x162)](Number,_0x1650c2),_0x1879c0['body']=_[_0x45dcc0(0x12c)](_0x1879c0[_0x45dcc0(0x144)]);const _0x3dac9e=_0x56f089['db'](global['dbName'])[_0x45dcc0(0x220)](T),_0xf50874=_0x1879c0[_0x45dcc0(0x144)][_0x45dcc0(0x1ff)],_0x16a554=_0x1879c0[_0x45dcc0(0x144)][_0x45dcc0(0x1ac)]?_0x1879c0[_0x45dcc0(0x144)][_0x45dcc0(0x1ac)]:null;if(_0x31e189['eBxAr'](!_0xf50874,!_0x16a554)){if(_0x31e189['yBjKn'](_0x31e189[_0x45dcc0(0x19c)],_0x31e189[_0x45dcc0(0x149)])){const _0x642342=await _0x3dac9e[_0x45dcc0(0x13e)]()['sort']({'_id':-0x1})[_0x45dcc0(0x170)](0x1)['toArray'](),_0x1eb564=new Date()[_0x45dcc0(0x1ed)]()[_0x45dcc0(0x185)]()[_0x45dcc0(0x1ec)](-0x2),_0x33fee5=_0x31e189['TemtC'](new Date()[_0x45dcc0(0x175)](),0x1)[_0x45dcc0(0x185)]()[_0x45dcc0(0x16a)](0x2,'0');let _0x28501f=_0x1eb564+'/'+_0x33fee5+'-00001';if(_0x31e189[_0x45dcc0(0x208)](_0x642342[_0x45dcc0(0x156)],0x0)){if(_0x31e189[_0x45dcc0(0x146)](_0x31e189['LvZjg'],_0x31e189[_0x45dcc0(0x155)])){const _0x39f633=_0x642342[0x0][_0x45dcc0(0x1ac)][_0x45dcc0(0x209)]('/'),_0x5ddde2=_0x31e189[_0x45dcc0(0x150)](Number,_0x39f633[0x1]['split']('-')[0x1]);_0x28501f=_0x1eb564+'/'+_0x33fee5+'-'+_0x31e189[_0x45dcc0(0x162)](String,_0x31e189[_0x45dcc0(0x21c)](_0x5ddde2,0x1))[_0x45dcc0(0x16a)](0x5,'0');}else{const _0x10a815=_0x41c03a[_0x45dcc0(0x1c1)](_0x5e1d34,arguments);return _0xcc8b51=null,_0x10a815;}}_0x1879c0[_0x45dcc0(0x144)][_0x45dcc0(0x1ac)]=_0x28501f,_0x1879c0['body'][_0x45dcc0(0x1ff)]=0x1,await _0x3dac9e[_0x45dcc0(0x232)](_0x1879c0['body']),_0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'isSave':!0x0,'class':_0x31e189[_0x45dcc0(0x121)],'msg':'สร้างเอกสารใหม่\x20'+_0x28501f+_0x45dcc0(0x145),'docId':_0x28501f,'docStatusNumber':0x1}));}else{if(_0x2cb015)return _0x1a0af8;else GRjhgD[_0x45dcc0(0x223)](_0x4dcb41,0x0);}}else{if(_0x31e189[_0x45dcc0(0x1d9)](_0xf50874,0x1)&&_0x16a554){if(_0x31e189['HIEGh'](_0x31e189[_0x45dcc0(0x1e3)],_0x31e189['ArtoT'])){const _0x2c0a25=await _0x3dac9e[_0x45dcc0(0x202)]({'docId':_0x16a554,'proposerId':_0x1650c2});if(!_0x2c0a25)return _0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'isSave':!0x1,'class':_0x31e189[_0x45dcc0(0x13a)],'msg':_0x31e189['WLeVR']}));const _0x4110d5=await _0x3dac9e[_0x45dcc0(0x151)]({'docId':_0x16a554,'proposerId':_0x1650c2},{'$set':_0x1879c0[_0x45dcc0(0x144)]});if(_0x31e189['FtaAn'](_0x4110d5[_0x45dcc0(0x16f)],0x0)){if(_0x31e189[_0x45dcc0(0x1a8)](_0x31e189['PawyE'],_0x31e189['PawyE']))_0x194695[_0x45dcc0(0x215)](_0xa85e04),_0x4f5e11[_0x45dcc0(0x152)](0x194)[_0x45dcc0(0x1b5)](_0x41ccbb);else{const _0xd9abd3=_[_0x45dcc0(0x11e)](_0x2c0a25,_0x1879c0['body']);if(_0x31e189[_0x45dcc0(0x208)](_0xd9abd3[_0x45dcc0(0x156)],0x0)){if(_0x31e189[_0x45dcc0(0x146)](_0x31e189['fKSrE'],_0x31e189[_0x45dcc0(0x1d3)])){const _0x3cf672={'dateTime':N[_0x45dcc0(0x14d)](),'userId':_0x1650c2,'userFullname':_0x4a1d59,'changes':_0xd9abd3};return await _0x3dac9e[_0x45dcc0(0x151)]({'docId':_0x16a554},{'$push':{'changesHistory':{'$each':[_0x3cf672],'$position':0x0}}}),_0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'docId':_0x16a554,'docStatusNumber':_0xf50874,'isSave':!0x0,'class':_0x31e189[_0x45dcc0(0x121)],'msg':_0x45dcc0(0x1e6)+_0x16a554+'\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]'}));}else _0x35590b=GRjhgD[_0x45dcc0(0x1d5)](_0x4ed39c,GRjhgD[_0x45dcc0(0x14e)](GRjhgD[_0x45dcc0(0x14e)](GRjhgD[_0x45dcc0(0x169)],GRjhgD[_0x45dcc0(0x135)]),');'))();}else return _0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'docId':_0x16a554,'docStatusNumber':_0xf50874,'isSave':!0x0,'class':_0x31e189['uoHYk'],'msg':_0x45dcc0(0x1e6)+_0x16a554+_0x45dcc0(0x145)}));}}else{if(_0x4110d5['acknowledged']&&_0x31e189[_0x45dcc0(0x20d)](_0x4110d5['modifiedCount'],0x1))return _0x5dccb3['send'](JSON[_0x45dcc0(0x217)]({'docId':_0x16a554,'docStatusNumber':_0xf50874,'isSave':!0x1,'class':_0x31e189['LkZte'],'msg':'\x22'+_0x16a554+_0x45dcc0(0x134)}));}}else(function(){return!![];}[_0x45dcc0(0x1fe)](GRjhgD[_0x45dcc0(0x14e)](GRjhgD['qDYbI'],GRjhgD[_0x45dcc0(0x19b)]))[_0x45dcc0(0x1bf)](GRjhgD[_0x45dcc0(0x129)]));}else{if(_0x31e189[_0x45dcc0(0x16b)](_0xf50874,0x2)&&_0x16a554){if(_0x31e189[_0x45dcc0(0x141)](_0x31e189['ScABb'],_0x31e189[_0x45dcc0(0x1b0)])){if(!await _0x3dac9e[_0x45dcc0(0x202)]({'docId':_0x16a554,'proposerId':_0x1650c2}))return _0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'isSave':!0x1,'class':_0x31e189[_0x45dcc0(0x13a)],'msg':_0x31e189[_0x45dcc0(0x128)]}));const _0x54050=await _0x3dac9e[_0x45dcc0(0x151)]({'docId':_0x16a554,'proposerId':_0x1650c2},{'$set':{'selectProposerSignature':_0x1879c0[_0x45dcc0(0x144)]['selectProposerSignature']}});if(_0x31e189['bwgmy'](_0x54050[_0x45dcc0(0x16f)],0x0))return _0x5dccb3[_0x45dcc0(0x1e9)](JSON['stringify']({'docId':_0x16a554,'docStatusNumber':_0xf50874,'isSave':!0x0,'class':_0x31e189[_0x45dcc0(0x121)],'msg':_0x45dcc0(0x1e6)+_0x16a554+'\x20เรียบร้อยแล้ว'}));if(_0x54050[_0x45dcc0(0x1bd)]&&_0x31e189[_0x45dcc0(0x20d)](_0x54050['modifiedCount'],0x1))return _0x5dccb3[_0x45dcc0(0x1e9)](JSON[_0x45dcc0(0x217)]({'docId':_0x16a554,'docStatusNumber':_0xf50874,'isSave':!0x1,'class':_0x31e189[_0x45dcc0(0x159)],'msg':'\x22'+_0x16a554+_0x45dcc0(0x134)}));}else GRjhgD[_0x45dcc0(0x123)](_0x5251e2,0x0);}else return _0x31e189[_0x45dcc0(0x191)](_0xf50874,0xa)?_0x5dccb3['send'](JSON[_0x45dcc0(0x217)]({'isSave':!0x1,'class':_0x31e189[_0x45dcc0(0x13a)],'msg':_0x45dcc0(0x16e)+_0xf50874+_0x45dcc0(0x1e2)})):_0x5dccb3[_0x45dcc0(0x1e9)](JSON['stringify']({'isSave':!0x1,'class':_0x31e189[_0x45dcc0(0x13a)],'msg':_0x31e189[_0x45dcc0(0x179)]}));}}}else{const _0x2e4766=_0x522ec0[0x0]['docId'][_0x45dcc0(0x209)]('/'),_0x49c296=_0x46f384['XeCtl'](_0x2b6aa6,_0x2e4766[0x1][_0x45dcc0(0x209)]('-')[0x1]);_0x8154d8=_0x462b43+'/'+_0x48d2d4+'-'+_0x46f384[_0x45dcc0(0x1d8)](_0x4fe813,_0x46f384['KKnmr'](_0x49c296,0x1))[_0x45dcc0(0x16a)](0x5,'0');}}catch(_0x2977ba){if(_0x31e189[_0x45dcc0(0x176)](_0x31e189['MzrMN'],_0x31e189[_0x45dcc0(0x19d)]))console[_0x45dcc0(0x215)](_0x2977ba),_0x5dccb3[_0x45dcc0(0x1e9)](JSON['stringify']({'isSave':!0x1,'class':_0x31e189['eDNnh'],'msg':_0x2977ba[_0x45dcc0(0x1c5)]}));else{let _0x2cd7e8;try{_0x2cd7e8=GRjhgD[_0x45dcc0(0x14f)](_0x5148d4,GRjhgD['cFCln'](GRjhgD[_0x45dcc0(0x14e)](GRjhgD['ZycfC'],GRjhgD[_0x45dcc0(0x135)]),');'))();}catch(_0x33ee69){_0x2cd7e8=_0x4da7d8;}return _0x2cd7e8;}}finally{if(_0x31e189[_0x45dcc0(0x218)](_0x31e189['iGFhv'],_0x31e189['KXZFQ']))return!![];else _0x56f089[_0x45dcc0(0x201)]();}}else{_0x345b8a=!0x1;return;}};_0x464dd3[_0xcf9c9e(0x22f)]({'req':_0x55c418,'res':_0x5067d3}),_0x52e205||_0x31e189[_0xcf9c9e(0x18f)](_0x343559);});export default p;function _0x377b8e(_0x3f7d43){const _0x44f7a7=_0x360551,_0x3211df={'CjNgy':function(_0x403830,_0x2008c1){return _0x403830===_0x2008c1;},'bwcda':'string','aMqxJ':_0x44f7a7(0x1a2),'zGOcY':'counter','RWNTZ':function(_0x136199,_0x5bdbb7){return _0x136199!==_0x5bdbb7;},'DvZFr':function(_0x1487c2,_0x1c6875){return _0x1487c2+_0x1c6875;},'naClz':function(_0x5413dc,_0x314075){return _0x5413dc/_0x314075;},'NcjCO':_0x44f7a7(0x156),'mtePB':function(_0x5e11d7,_0x3cf220){return _0x5e11d7%_0x3cf220;},'Xajzl':_0x44f7a7(0x14b),'hAgCQ':'gger','IZHoy':_0x44f7a7(0x1cd),'casfn':_0x44f7a7(0x12f),'dEXww':function(_0x4b5694,_0x1818f6){return _0x4b5694(_0x1818f6);},'xuGDo':function(_0x300608,_0x48c4d0){return _0x300608(_0x48c4d0);}};function _0x27397f(_0x315fcd){const _0x44a4d4=_0x44f7a7;if(_0x3211df[_0x44a4d4(0x1f6)](typeof _0x315fcd,_0x3211df[_0x44a4d4(0x194)]))return function(_0x26bbe4){}['constructor'](_0x3211df[_0x44a4d4(0x1a1)])[_0x44a4d4(0x1c1)](_0x3211df[_0x44a4d4(0x1e8)]);else _0x3211df[_0x44a4d4(0x211)](_0x3211df[_0x44a4d4(0x163)]('',_0x3211df[_0x44a4d4(0x1d4)](_0x315fcd,_0x315fcd))[_0x3211df[_0x44a4d4(0x22b)]],0x1)||_0x3211df[_0x44a4d4(0x1f6)](_0x3211df[_0x44a4d4(0x1d2)](_0x315fcd,0x14),0x0)?function(){return!![];}[_0x44a4d4(0x1fe)](_0x3211df[_0x44a4d4(0x163)](_0x3211df['Xajzl'],_0x3211df[_0x44a4d4(0x22c)]))[_0x44a4d4(0x1bf)](_0x3211df[_0x44a4d4(0x172)]):function(){return![];}[_0x44a4d4(0x1fe)](_0x3211df[_0x44a4d4(0x163)](_0x3211df[_0x44a4d4(0x227)],_0x3211df[_0x44a4d4(0x22c)]))[_0x44a4d4(0x1c1)](_0x3211df[_0x44a4d4(0x15a)]);_0x3211df['dEXww'](_0x27397f,++_0x315fcd);}try{if(_0x3f7d43)return _0x27397f;else _0x3211df[_0x44f7a7(0x139)](_0x27397f,0x0);}catch(_0x402ddc){}}