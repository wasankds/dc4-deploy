const _0x57dac6=_0x32c9;function _0x32c9(_0xcc07ba,_0x1e6cd6){const _0x2463f7=_0x23e5();return _0x32c9=function(_0x19a369,_0x2008fc){_0x19a369=_0x19a369-0xdd;let _0x46b2dc=_0x2463f7[_0x19a369];return _0x46b2dc;},_0x32c9(_0xcc07ba,_0x1e6cd6);}(function(_0x2c49ef,_0x386fb4){const _0x4fcb10=_0x32c9,_0x395589=_0x2c49ef();while(!![]){try{const _0x1f3988=-parseInt(_0x4fcb10(0x1ca))/0x1+-parseInt(_0x4fcb10(0x174))/0x2+parseInt(_0x4fcb10(0x1a9))/0x3+-parseInt(_0x4fcb10(0x11c))/0x4+parseInt(_0x4fcb10(0x1b2))/0x5*(-parseInt(_0x4fcb10(0x117))/0x6)+-parseInt(_0x4fcb10(0x12e))/0x7*(parseInt(_0x4fcb10(0x1d4))/0x8)+parseInt(_0x4fcb10(0x1b6))/0x9*(parseInt(_0x4fcb10(0x143))/0xa);if(_0x1f3988===_0x386fb4)break;else _0x395589['push'](_0x395589['shift']());}catch(_0x32c2f3){_0x395589['push'](_0x395589['shift']());}}}(_0x23e5,0xea0ec));const _0x1e0ec3=(function(){const _0x255837=_0x32c9,_0x251f44={'SRvsq':function(_0x3a7e07){return _0x3a7e07();},'bHFPF':function(_0x565e55,_0x478682){return _0x565e55===_0x478682;},'ZpUjL':_0x255837(0x1a6),'DEcfw':_0x255837(0x11e),'oQTOG':_0x255837(0x103),'HNIOE':function(_0xee5ede,_0x5883d5){return _0xee5ede!==_0x5883d5;},'FuKZn':_0x255837(0x10c)};let _0x107a97=!![];return function(_0x6c67bc,_0x22601b){const _0x14255e=_0x255837,_0x4d12e8={'WWrmR':function(_0x2bf4a8){const _0x2abd55=_0x32c9;return _0x251f44[_0x2abd55(0x1d6)](_0x2bf4a8);},'IsHDo':function(_0x338f17,_0x184289){return _0x251f44['bHFPF'](_0x338f17,_0x184289);},'cLmst':_0x251f44[_0x14255e(0x152)],'QZJSg':_0x251f44[_0x14255e(0x1b9)],'ECsSd':_0x251f44[_0x14255e(0x139)]};if(_0x251f44[_0x14255e(0x1ce)](_0x251f44[_0x14255e(0x17f)],_0x251f44['FuKZn'])){const _0x276bfc=_0x2bb446?function(){if(_0x2bd642){const _0x375c18=_0x113983['apply'](_0x102eda,arguments);return _0x5c5b0d=null,_0x375c18;}}:function(){};return _0x5c755d=![],_0x276bfc;}else{const _0x1c49e2=_0x107a97?function(){const _0x4a3814=_0x14255e;if(_0x4d12e8[_0x4a3814(0x197)](_0x4d12e8[_0x4a3814(0x161)],_0x4d12e8[_0x4a3814(0x17b)])){const _0xabc0d5=_0x47ae0d['apply'](_0x406113,arguments);return _0x419b32=null,_0xabc0d5;}else{if(_0x22601b){if(_0x4d12e8[_0x4a3814(0x197)](_0x4d12e8[_0x4a3814(0x1cf)],_0x4d12e8['ECsSd'])){const _0x42c324=_0x22601b[_0x4a3814(0xe8)](_0x6c67bc,arguments);return _0x22601b=null,_0x42c324;}else _0x4d12e8[_0x4a3814(0xde)](_0x4f9ffd);}}}:function(){};return _0x107a97=![],_0x1c49e2;}};}());(function(){const _0x4011aa=_0x32c9,_0x579d04={'wFbsu':_0x4011aa(0x1d9),'RgpvI':function(_0x4c9050,_0x31fa1d){return _0x4c9050(_0x31fa1d);},'wRfJi':function(_0x487160,_0x1b580c){return _0x487160!==_0x1b580c;},'IbSJn':_0x4011aa(0x104),'DaJpP':_0x4011aa(0x1e7),'PbkYB':_0x4011aa(0x1bd),'tYDOk':function(_0x38e4c8,_0x537128){return _0x38e4c8(_0x537128);},'dIHbL':_0x4011aa(0x15d),'ItMXG':function(_0x1f184b,_0x336663){return _0x1f184b+_0x336663;},'pzpwT':_0x4011aa(0x106),'hOKdC':_0x4011aa(0x144),'fXfBc':function(_0x242528,_0x595bb8){return _0x242528===_0x595bb8;},'ClSNr':_0x4011aa(0xf7),'fhRTC':_0x4011aa(0x113),'elLbY':function(_0x1bdbee,_0x21e4f4){return _0x1bdbee(_0x21e4f4);},'lvmXh':_0x4011aa(0x162),'UNHZq':'ApJaD','AEdbB':function(_0x56de41){return _0x56de41();},'sqTZv':function(_0x478032,_0x29a16e,_0x4d8057){return _0x478032(_0x29a16e,_0x4d8057);}};_0x579d04[_0x4011aa(0xf0)](_0x1e0ec3,this,function(){const _0x36ace7=_0x4011aa,_0x15ce0a={'LzkAL':function(_0x52c8f3,_0x42f04d){const _0x2e2610=_0x32c9;return _0x579d04[_0x2e2610(0x168)](_0x52c8f3,_0x42f04d);}};if(_0x579d04[_0x36ace7(0x141)](_0x579d04[_0x36ace7(0x142)],_0x579d04[_0x36ace7(0x142)]))_0x15ce0a[_0x36ace7(0xea)](_0x5330d1,0x0);else{const _0x17c017=new RegExp(_0x579d04[_0x36ace7(0x120)]),_0x139a26=new RegExp(_0x579d04[_0x36ace7(0x193)],'i'),_0x3c7f1c=_0x579d04[_0x36ace7(0x146)](_0x22b6c9,_0x579d04['dIHbL']);if(!_0x17c017[_0x36ace7(0x160)](_0x579d04[_0x36ace7(0x1e1)](_0x3c7f1c,_0x579d04['pzpwT']))||!_0x139a26['test'](_0x579d04[_0x36ace7(0x1e1)](_0x3c7f1c,_0x579d04['hOKdC']))){if(_0x579d04[_0x36ace7(0x10d)](_0x579d04[_0x36ace7(0x1c4)],_0x579d04[_0x36ace7(0x1c1)]))return![];else _0x579d04['elLbY'](_0x3c7f1c,'0');}else _0x579d04['fXfBc'](_0x579d04[_0x36ace7(0x18a)],_0x579d04[_0x36ace7(0x130)])?(_0x1a05db[_0x36ace7(0x118)](_0x44b141),_0x5df060[_0x36ace7(0x126)](_0x36ec15[_0x36ace7(0x195)]({'isSave':!0x1,'class':_0x579d04[_0x36ace7(0x1e2)],'msg':_0x13eecc[_0x36ace7(0x1a0)]}))):_0x579d04['AEdbB'](_0x22b6c9);}})();}());const _0x2008fc=(function(){const _0xcc921d=_0x32c9,_0x34c998={'Zwvpc':function(_0x659bfa,_0x468cf4){return _0x659bfa(_0x468cf4);},'DRzxb':function(_0x1d18dc,_0x2d8d7a){return _0x1d18dc+_0x2d8d7a;},'JVMUp':_0xcc921d(0x1c8),'VMrzE':_0xcc921d(0x13f),'UAhVf':function(_0x380f2d,_0x58925a){return _0x380f2d!==_0x58925a;},'MkaKD':_0xcc921d(0x148),'uOzJY':'bZzAb','ZeWxW':function(_0x157835,_0x37481c){return _0x157835===_0x37481c;},'XIdmg':'BqEfk','cXRuo':function(_0x24cd94,_0x3913fe){return _0x24cd94!==_0x3913fe;},'mDIWp':_0xcc921d(0x15e),'efMLG':_0xcc921d(0x11f)};let _0x36f5c1=!![];return function(_0x59f22a,_0x2d3bd8){const _0x4f21e9=_0xcc921d,_0xed22be={'ThOqg':function(_0x177242,_0x268ccb){const _0x42e153=_0x32c9;return _0x34c998[_0x42e153(0x16b)](_0x177242,_0x268ccb);},'RmOUK':function(_0x4067a4,_0x3a8058){const _0x42c3a9=_0x32c9;return _0x34c998[_0x42c3a9(0x10a)](_0x4067a4,_0x3a8058);},'IFDfG':_0x34c998['JVMUp'],'USVFc':_0x34c998['VMrzE'],'ORYhY':function(_0xa7ea82,_0x41c7cf){return _0x34c998['UAhVf'](_0xa7ea82,_0x41c7cf);},'AirYx':_0x34c998[_0x4f21e9(0xfc)],'AEGyk':_0x34c998[_0x4f21e9(0xdf)],'leqaE':function(_0x1abd0e,_0x512f91){const _0x2846f4=_0x4f21e9;return _0x34c998[_0x2846f4(0x122)](_0x1abd0e,_0x512f91);},'omYLF':_0x34c998['XIdmg'],'ndQXk':function(_0x2fb88b,_0x2391a6){return _0x34c998['Zwvpc'](_0x2fb88b,_0x2391a6);}};if(_0x34c998[_0x4f21e9(0xf3)](_0x34c998[_0x4f21e9(0x132)],_0x34c998['efMLG'])){const _0x100fe9=_0x36f5c1?function(){const _0x4bf386=_0x4f21e9;if(_0xed22be[_0x4bf386(0x182)](_0xed22be[_0x4bf386(0xfe)],_0xed22be['AEGyk'])){if(_0x2d3bd8){if(_0xed22be[_0x4bf386(0x1e4)](_0xed22be[_0x4bf386(0x18b)],_0xed22be[_0x4bf386(0x18b)])){const _0x462539=_0x2d3bd8['apply'](_0x59f22a,arguments);return _0x2d3bd8=null,_0x462539;}else{if(_0x2080e1){const _0x7e621c=_0xaba504[_0x4bf386(0xe8)](_0x38b4da,arguments);return _0xfec6ce=null,_0x7e621c;}}}}else _0x431137=_0xed22be['ThOqg'](_0x2acedc,_0xed22be[_0x4bf386(0x1bc)](_0xed22be['RmOUK'](_0xed22be[_0x4bf386(0x1d5)],_0xed22be['USVFc']),');'))();}:function(){};return _0x36f5c1=![],_0x100fe9;}else{const _0x3b8285=_0x3bc39b[0x0][_0x4f21e9(0x188)][_0x4f21e9(0x14a)]('/'),_0x5c9626=_0xed22be['ndQXk'](_0x31605f,_0x3b8285[0x1]['split']('-')[0x1]);_0x3c41e4=''+_0x4a69f4+_0x220326+'/'+_0x316d76+'-'+_0xed22be[_0x4f21e9(0x187)](_0x1a3fac,_0xed22be['RmOUK'](_0x5c9626,0x1))['padStart'](0x5,'0');}};}()),_0x19a369=_0x2008fc(this,function(){const _0x58dac6=_0x32c9,_0x2a473d={'omcOP':function(_0xa0307f,_0x37a82f){return _0xa0307f+_0x37a82f;},'GtApX':_0x58dac6(0x150),'GTuSa':'gger','FtCmo':'stateObject','vIIXt':function(_0x4092ff,_0x313a84){return _0x4092ff!==_0x313a84;},'FzlLY':'OmRlp','CKoIq':function(_0x37784c,_0xf628b4){return _0x37784c===_0xf628b4;},'jvcsw':_0x58dac6(0x10b),'qxZGE':'BSCqF','vCngq':function(_0x5ec018,_0x10d09b){return _0x5ec018(_0x10d09b);},'peKbo':function(_0x5e6289,_0xffe165){return _0x5e6289+_0xffe165;},'hwSxr':_0x58dac6(0x1c8),'DBQAf':'{}.constructor(\x22return\x20this\x22)(\x20)','gjOqA':_0x58dac6(0xe1),'IBnaT':_0x58dac6(0x108),'TwQKd':_0x58dac6(0x183),'eKfEy':function(_0x51f516){return _0x51f516();},'WIrvQ':_0x58dac6(0x118),'ZfsHB':_0x58dac6(0x1bf),'JeEBb':_0x58dac6(0x128),'dQDPZ':_0x58dac6(0x1b0),'rUSjf':_0x58dac6(0x134),'dEwTa':_0x58dac6(0x17c),'ycNwQ':_0x58dac6(0x1d8),'faGLy':function(_0x1a5949,_0x22674f){return _0x1a5949<_0x22674f;},'onCBM':function(_0x2d9125,_0x33f235){return _0x2d9125!==_0x33f235;},'WNjpv':_0x58dac6(0xf1)},_0x3ed488=function(){const _0x1b3d09=_0x58dac6,_0x5ad571={'JZKNd':function(_0x460aa6,_0x4633ad){const _0x2a56b3=_0x32c9;return _0x2a473d[_0x2a56b3(0x14f)](_0x460aa6,_0x4633ad);},'MVKSX':_0x2a473d[_0x1b3d09(0x124)],'psDol':_0x2a473d[_0x1b3d09(0x175)],'pEzCv':_0x2a473d['FtCmo']};if(_0x2a473d['vIIXt'](_0x2a473d[_0x1b3d09(0x19f)],_0x2a473d[_0x1b3d09(0x19f)])){const _0x328ff9=_0x2e3c20['apply'](_0x3f26cd,arguments);return _0x302643=null,_0x328ff9;}else{let _0x3942a4;try{if(_0x2a473d[_0x1b3d09(0x1af)](_0x2a473d[_0x1b3d09(0x192)],_0x2a473d[_0x1b3d09(0x191)])){const _0x45c099=_0x4e4573?function(){if(_0xcd20bf){const _0x3e0e85=_0x340daf['apply'](_0x59c8f5,arguments);return _0x4490e7=null,_0x3e0e85;}}:function(){};return _0x5060ab=![],_0x45c099;}else _0x3942a4=_0x2a473d[_0x1b3d09(0x137)](Function,_0x2a473d[_0x1b3d09(0x14f)](_0x2a473d['peKbo'](_0x2a473d[_0x1b3d09(0x14e)],_0x2a473d[_0x1b3d09(0x1c0)]),');'))();}catch(_0x39eee6){_0x2a473d[_0x1b3d09(0x1af)](_0x2a473d[_0x1b3d09(0x12c)],_0x2a473d['gjOqA'])?_0x3942a4=window:function(){return![];}[_0x1b3d09(0x145)](_0x5ad571['JZKNd'](_0x5ad571[_0x1b3d09(0xfd)],_0x5ad571['psDol']))[_0x1b3d09(0xe8)](_0x5ad571[_0x1b3d09(0x114)]);}return _0x3942a4;}},_0x190e0b=_0x2a473d[_0x58dac6(0xff)](_0x3ed488),_0x5b3531=_0x190e0b[_0x58dac6(0x17e)]=_0x190e0b[_0x58dac6(0x17e)]||{},_0x537d25=[_0x2a473d[_0x58dac6(0x151)],_0x2a473d['ZfsHB'],_0x2a473d['JeEBb'],_0x2a473d['dQDPZ'],_0x2a473d[_0x58dac6(0xf6)],_0x2a473d['dEwTa'],_0x2a473d[_0x58dac6(0x14c)]];for(let _0x458aec=0x0;_0x2a473d[_0x58dac6(0x135)](_0x458aec,_0x537d25[_0x58dac6(0x15c)]);_0x458aec++){if(_0x2a473d[_0x58dac6(0x147)](_0x2a473d[_0x58dac6(0x1db)],_0x2a473d[_0x58dac6(0x1db)]))return function(_0x41c8b2){}[_0x58dac6(0x145)](_0x2a473d[_0x58dac6(0x1e0)])[_0x58dac6(0xe8)](_0x2a473d[_0x58dac6(0x1dc)]);else{const _0x22dc84=_0x2008fc[_0x58dac6(0x145)][_0x58dac6(0x1cc)][_0x58dac6(0x16d)](_0x2008fc),_0x5cecd6=_0x537d25[_0x458aec],_0x2fcdcd=_0x5b3531[_0x5cecd6]||_0x22dc84;_0x22dc84['__proto__']=_0x2008fc[_0x58dac6(0x16d)](_0x2008fc),_0x22dc84[_0x58dac6(0x185)]=_0x2fcdcd[_0x58dac6(0x185)][_0x58dac6(0x16d)](_0x2fcdcd),_0x5b3531[_0x5cecd6]=_0x22dc84;}}});_0x19a369();import _0x487528 from'express';const p=_0x487528['Router']();import{MongoClient as _0x33c299}from'mongodb';import*as _0x27f4ee from'../mymodule/myDateTime.js';import*as _0x1fbeb4 from'../mymodule/myUsers.js';import*as _0x3661cc from'../mymodule/myModule.js';import*as _0x387239 from'../mymodule/myDocs.js';import _0x10d234 from'../middleware/mainAuth.js';function _0x23e5(){const _0x1dc387=['35LeFTaW','qHLwC','UNHZq','koXip','mDIWp','status','exception','faGLy','oSKHX','vCngq','aDtfW','oQTOG','padStart','GEJjs','BmoVV','isAuth','sendFile','{}.constructor(\x22return\x20this\x22)(\x20)','UyBex','wRfJi','IbSJn','330040buKCFt','input','constructor','tYDOk','onCBM','XDmVy','ggqCA','split','/print','ycNwQ','LOGO_BILL_FILENAME','hwSxr','omcOP','debu','WIrvQ','ZpUjL','aavgM','TfbPV','EJcXX','SEZHX','renderView','hvJVp','sort','docStatusNumber','sGSiy','length','init','xLzCO','insertOne','test','cLmst','WmXhg','hbVte','dEoou','nkPVW','replace','BZWuD','RgpvI','อัปเดท\x20','JiQNO','Zwvpc','hYrJi','bind','BtvDN','KYvnp','call','/search','UpLSX','RoRcu','1850230YsEFPp','GTuSa','jlcGs','tPIgI','ptkNd','bzuUO','EYgrg','QZJSg','table','QIXUn','console','FuKZn','dbColl_bill','FDoXB','ORYhY','counter','mrBZB','toString','flash','ThOqg','docId','__proto__','lvmXh','omYLF','IyKNf','Osxxt','zOqGS','สร้างเอกสารใหม่\x20','JRHZS','qxZGE','jvcsw','PbkYB','jNtcb','stringify','iDsYy','IsHDo','dbName','nyBEB','action','green','zDPsy','gger','vlmyx','FzlLY','message','XOTwg','ovOAG','JgFux','gGupi','สถานะเอกสารผิดผลาด','pZrBr','BLqKV','getChangeHistory','3710946hcHVKI','OybAq','string','toArray','FHMCd','vDrVW','CKoIq','error','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','5FnWvFr','BEVmB','ekdUc','JMFhs','1413ZyzNBB','MWYNJ','bill.ejs','DEcfw','modifiedCount','Zjxub','RmOUK','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','IBrbq','warn','DBQAf','fhRTC','sGcoS','Edowm','ClSNr','XUQZj','WavRJ','getSessionData','return\x20(function()\x20','OFweZ','1512060UTPiar','/changes','prototype','fHuUR','HNIOE','ECsSd','acknowledged','MegtN','getLogoBase64Src','hHqEJ','891704xbHPyG','IFDfG','SRvsq','fuUlM','trace','red','slice','WNjpv','TwQKd','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','YAqYR','body','IBnaT','ItMXG','wFbsu','Cavvb','leqaE','rbIZI','TjoiA','function\x20*\x5c(\x20*\x5c)','getFullYear','WWrmR','uOzJY','QDiZl','uHWbM','uPlrV','VlPHR','zOMZA','Xkpbu','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','EZKnN','apply','updateOne','LzkAL','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','Ixdty','RZOvn','XgLzA','VyEIj','sqTZv','rSAFU','selectProposerSignature','cXRuo','HSTnj','JzPKE','rUSjf','pSshI','userFlash','vuuKx','/status','-00001','MkaKD','MVKSX','AirYx','eKfEy','dbUrl','/save','/load','cxtrN','tyTkG','\x20ได้','chain','/fetch/modal','while\x20(true)\x20{}','tDuHy','DRzxb','bHvej','NhPtx','fXfBc','SeHwG','WscqJ','FnmAY','query','knsCC','qYwZd','pEzCv','close','NeUUk','9526362GXrWZK','log','UoIVz','find','zuJev','3510772Rybrgw','iquHH','ugUEy','twkRL','DaJpP','findOne','ZeWxW','rEJjz','GtApX','XGLCT','send','JsMif','info','push','FVBsC','\x20เรียบร้อยแล้ว','gjOqA','VyHif'];_0x23e5=function(){return _0x1dc387;};return _0x23e5();}const i='/bill',D=i+_0x57dac6(0x101),P=i+_0x57dac6(0x1cb),F=i+_0x57dac6(0x102),H=i+_0x57dac6(0x171),v=i+_0x57dac6(0xfa),J=i+_0x57dac6(0x14b),M=i[_0x57dac6(0x166)](/\//g,'_'),B=_0x57dac6(0x107),$=global[_0x57dac6(0x180)],G=global['dbColl_settings_Bill'],R=_0x57dac6(0x1b8),Q=global[_0x57dac6(0x14d)];p['get'](i,_0x10d234[_0x57dac6(0x13d)],async(_0x44be92,_0x29fca3)=>{const _0x244813=_0x57dac6,_0x4f62fb={'iquHH':function(_0x4351ec,_0xd77335){return _0x4351ec(_0xd77335);},'hbVte':_0x244813(0x1e7),'jNtcb':_0x244813(0x1bd),'lHBGT':'init','nkPVW':function(_0x1c52aa,_0x3464b9){return _0x1c52aa+_0x3464b9;},'tDuHy':_0x244813(0x106),'Edowm':_0x244813(0x144),'krkCe':function(_0x263f33,_0x9bc90b){return _0x263f33(_0x9bc90b);},'BmoVV':function(_0x5c9230){return _0x5c9230();},'fHuUR':function(_0x197c30,_0x4d8268){return _0x197c30!==_0x4d8268;},'iDsYy':_0x244813(0x179),'BtvDN':'msg','Xgwsp':_0x244813(0xf8),'mrBZB':_0x244813(0x1c2)},{docId:_0x4c764e,sip:_0x9ef34c}=_0x44be92[_0x244813(0x111)];try{if(_0x4f62fb[_0x244813(0x1cd)](_0x4f62fb[_0x244813(0x196)],_0x4f62fb['iDsYy']))UXAFan[_0x244813(0x11d)](_0x4ff9e2,'0');else{const {dataSettings:_0x34260c}=await _0x3661cc['getSettings'](),{dataSettings:_0x1c226b}=await _0x3661cc['getSettingsByCollection'](G),_0x110c23=_0x1fbeb4['getSessionData_sign'](_0x44be92),_0x2bd2d1=await _0x3661cc[_0x244813(0x157)](R,_0x29fca3,{'title':PAGE_BILL,'time':_0x27f4ee['formatDate'](new Date()),'msg':_0x44be92['flash'](_0x4f62fb[_0x244813(0x16e)]),'userFlash':_0x44be92[_0x244813(0x186)](_0x4f62fb['Xgwsp']),..._0x110c23,'logoSrc_base64':_0x3661cc[_0x244813(0x1d2)](global[_0x244813(0x14d)]),'dataSettings':_0x34260c,..._0x1c226b,'COLL_NAME':$,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_FETCH':B,'PATH_SAVE':D,'PATH_LOAD':F,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':P,'PREFIX':M,'DOC_STATUS':JSON[_0x244813(0x195)](global['DOC_STATUS']),'DOC_ID':_0x4c764e,'SIP':_0x9ef34c});_0x29fca3[_0x244813(0x126)](_0x2bd2d1);}}catch(_0x11ed00){if(_0x4f62fb[_0x244813(0x1cd)](_0x4f62fb['mrBZB'],_0x4f62fb[_0x244813(0x184)])){const _0x23482a=new _0x184194(UXAFan[_0x244813(0x163)]),_0x3d4365=new _0x15efe6(UXAFan[_0x244813(0x194)],'i'),_0x4fc4d5=UXAFan[_0x244813(0x11d)](_0x110cec,UXAFan['lHBGT']);!_0x23482a[_0x244813(0x160)](UXAFan[_0x244813(0x165)](_0x4fc4d5,UXAFan[_0x244813(0x109)]))||!_0x3d4365['test'](UXAFan[_0x244813(0x165)](_0x4fc4d5,UXAFan[_0x244813(0x1c3)]))?UXAFan['krkCe'](_0x4fc4d5,'0'):UXAFan[_0x244813(0x13c)](_0x14d3a8);}else console[_0x244813(0x118)](_0x11ed00),_0x29fca3[_0x244813(0x133)](0x194)[_0x244813(0x13e)](file404);}}),p['post'](D,_0x10d234[_0x57dac6(0x13d)],async(_0x326e98,_0x5996d9)=>{const _0x4a0628=_0x57dac6,_0x1fa9bc={'RoRcu':function(_0x1df055,_0x580ba0){return _0x1df055!==_0x580ba0;},'Zjxub':'ASqaQ','OFweZ':function(_0x5c3595,_0x54588f){return _0x5c3595===_0x54588f;},'WscqJ':function(_0x89a5d0,_0x158fd5){return _0x89a5d0!==_0x158fd5;},'FHMCd':'Yccmi','JzPKE':function(_0x4847e7,_0xcc7fdd,_0x14c485){return _0x4847e7(_0xcc7fdd,_0x14c485);},'IBrbq':function(_0x5cbd49){return _0x5cbd49();},'IyKNf':function(_0x376fd6,_0x235bd6){return _0x376fd6(_0x235bd6);},'KYvnp':function(_0x49bff1,_0x5615cb){return _0x49bff1+_0x5615cb;},'JgFux':function(_0x235269,_0x2c92a3){return _0x235269+_0x2c92a3;},'WavRJ':'return\x20(function()\x20','Cavvb':'{}.constructor(\x22return\x20this\x22)(\x20)','aymTJ':function(_0x9e5068,_0x519642){return _0x9e5068+_0x519642;},'JRHZS':'debu','VyEIj':_0x4a0628(0x19d),'QDiZl':_0x4a0628(0x19a),'JXMpQ':_0x4a0628(0x1e7),'zOMZA':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','EZKnN':function(_0x49be71,_0x1b8a29){return _0x49be71(_0x1b8a29);},'TfbPV':_0x4a0628(0x15d),'wWznc':'chain','aavgM':_0x4a0628(0x144),'Nktwn':function(_0x3ee3bf,_0x12fbad){return _0x3ee3bf!==_0x12fbad;},'rEJjz':'bWopV','wYhMi':_0x4a0628(0x12d),'FDoXB':_0x4a0628(0x17d),'MegtN':_0x4a0628(0x13b),'NeUUk':function(_0xba87a0,_0xa51ec0){return _0xba87a0&&_0xa51ec0;},'zOqGS':function(_0x12fe9c,_0x128916){return _0x12fe9c===_0x128916;},'Ixdty':'SQrWk','sGSiy':function(_0x1eef77,_0x2bdf00){return _0x1eef77+_0x2bdf00;},'xKasn':function(_0x466e79,_0x3e788d){return _0x466e79>_0x3e788d;},'HSTnj':function(_0x131db7,_0xb79b80){return _0x131db7===_0xb79b80;},'JiQNO':'jOyQa','vlmyx':_0x4a0628(0x1b5),'fuUlM':function(_0x8c0113,_0x538050){return _0x8c0113(_0x538050);},'nQeRZ':function(_0x3c194f,_0x16112d){return _0x3c194f+_0x16112d;},'oSKHX':_0x4a0628(0x19b),'BZWuD':function(_0xd2ac52,_0x109926){return _0xd2ac52==_0x109926;},'hrquG':'BNqPS','XGLCT':_0x4a0628(0xe3),'hHqEJ':_0x4a0628(0x1d9),'SEZHX':_0x4a0628(0x1b1),'BEVmB':function(_0x12a588,_0x53f71b){return _0x12a588>_0x53f71b;},'RZOvn':function(_0x184407,_0x1ad825){return _0x184407!==_0x1ad825;},'SeHwG':_0x4a0628(0x176),'dEoou':_0x4a0628(0x1aa),'BLqKV':function(_0x46dd3b,_0x31aa53){return _0x46dd3b>_0x31aa53;},'hvJVp':function(_0x1aee12,_0x62283){return _0x1aee12!==_0x62283;},'MWYNJ':_0x4a0628(0x177),'Osxxt':function(_0x2bb582,_0x9079db){return _0x2bb582<_0x9079db;},'zuJev':'yellow','gXqTP':function(_0x5c0bd6,_0x5d1fba){return _0x5c0bd6==_0x5d1fba;},'XUQZj':function(_0x262473,_0x38cee1){return _0x262473!==_0x38cee1;},'koXip':_0x4a0628(0xe5),'ovOAG':_0x4a0628(0x138),'FnmAY':function(_0x48e305,_0x10d71a){return _0x48e305<_0x10d71a;},'ekdUc':function(_0x5d99e1,_0x2954fe){return _0x5d99e1==_0x2954fe;},'knsCC':_0x4a0628(0x1a5),'XgLzA':_0x4a0628(0x140),'EJcXX':_0x4a0628(0x178),'azcwO':function(_0xd41e55,_0x40b9fb){return _0xd41e55===_0x40b9fb;},'hYrJi':_0x4a0628(0x17a),'EUhBV':function(_0x3d95cc){return _0x3d95cc();}},_0x1fb5bd=[];let _0x2f2454=!0x1;const _0x3f1331=async()=>{const _0x9e3379=_0x4a0628;if(_0x1fa9bc[_0x9e3379(0x173)](_0x1fa9bc[_0x9e3379(0x1bb)],_0x1fa9bc['Zjxub']))return _0x4ee540;else{if(_0x1fa9bc[_0x9e3379(0x1c9)](_0x1fb5bd[_0x9e3379(0x15c)],0x0)){if(_0x1fa9bc[_0x9e3379(0x10f)](_0x1fa9bc['FHMCd'],_0x1fa9bc[_0x9e3379(0x1ad)])){const _0x59530d=_0x15be8b[_0x9e3379(0x145)][_0x9e3379(0x1cc)][_0x9e3379(0x16d)](_0x1c5de7),_0x2d4695=_0x48e0eb[_0x418eae],_0x2a241b=_0x265694[_0x2d4695]||_0x59530d;_0x59530d[_0x9e3379(0x189)]=_0x47dc62[_0x9e3379(0x16d)](_0x45ea5b),_0x59530d[_0x9e3379(0x185)]=_0x2a241b[_0x9e3379(0x185)][_0x9e3379(0x16d)](_0x2a241b),_0x525627[_0x2d4695]=_0x59530d;}else{_0x2f2454=!0x1;return;}}_0x2f2454=!0x0;const {req:_0x2e2cf1,res:_0xd10fe0}=_0x1fb5bd['shift']();await _0x1fa9bc['JzPKE'](_0x1d9700,_0x2e2cf1,_0xd10fe0),_0x1fa9bc[_0x9e3379(0x1be)](_0x3f1331);}},_0x1d9700=async(_0x125692,_0x468c54)=>{const _0x502077=_0x4a0628,_0x3a9533={'rbIZI':function(_0xbf6c14,_0x2a0a6){const _0x446522=_0x32c9;return _0x1fa9bc[_0x446522(0x18c)](_0xbf6c14,_0x2a0a6);}};if(_0x1fa9bc['Nktwn'](_0x1fa9bc[_0x502077(0x123)],_0x1fa9bc['wYhMi'])){const _0x45671a=new _0x33c299(global[_0x502077(0x100)]);try{if(_0x1fa9bc[_0x502077(0x1c9)](_0x1fa9bc[_0x502077(0x181)],_0x1fa9bc[_0x502077(0x1d1)])){_0x2d2336=!0x1;return;}else{let {userId:_0x2899cd,userFullname:_0x4435be}=_0x1fbeb4[_0x502077(0x1c7)](_0x125692);_0x2899cd=_0x2899cd&&_0x1fa9bc[_0x502077(0xe7)](Number,_0x2899cd),_0x125692[_0x502077(0x1df)]=_0x387239['convert_DocDataType'](_0x125692[_0x502077(0x1df)]);const _0x582b61=_0x45671a['db'](global[_0x502077(0x198)])['collection']($),_0x283ed8=_0x125692[_0x502077(0x1df)][_0x502077(0x15a)],_0x5317b2=_0x125692[_0x502077(0x1df)][_0x502077(0x188)]?_0x125692['body'][_0x502077(0x188)]:null;if(_0x1fa9bc[_0x502077(0x116)](!_0x283ed8,!_0x5317b2)){if(_0x1fa9bc[_0x502077(0x18e)](_0x1fa9bc['Ixdty'],_0x1fa9bc[_0x502077(0xec)])){const _0x4ad4ed=await _0x582b61[_0x502077(0x11a)]()[_0x502077(0x159)]({'_id':-0x1})['limit'](0x1)[_0x502077(0x1ac)](),_0x17546c=new Date()[_0x502077(0xdd)]()[_0x502077(0x185)]()[_0x502077(0x1da)](-0x2),_0x2daebb=_0x1fa9bc[_0x502077(0x15b)](new Date()['getMonth'](),0x1)['toString']()[_0x502077(0x13a)](0x2,'0'),_0x221369='B';let _0x2dc5e3=''+_0x221369+_0x17546c+'/'+_0x2daebb+_0x502077(0xfb);if(_0x1fa9bc['xKasn'](_0x4ad4ed[_0x502077(0x15c)],0x0)){if(_0x1fa9bc[_0x502077(0xf4)](_0x1fa9bc[_0x502077(0x16a)],_0x1fa9bc[_0x502077(0x19e)])){if(_0x5c2750)return _0x1ca85d;else QxytSe[_0x502077(0x1e5)](_0x3b29c7,0x0);}else{const _0x313dce=_0x4ad4ed[0x0][_0x502077(0x188)][_0x502077(0x14a)]('/'),_0x11de1a=_0x1fa9bc[_0x502077(0x18c)](Number,_0x313dce[0x1][_0x502077(0x14a)]('-')[0x1]);_0x2dc5e3=''+_0x221369+_0x17546c+'/'+_0x2daebb+'-'+_0x1fa9bc[_0x502077(0x1d7)](String,_0x1fa9bc['nQeRZ'](_0x11de1a,0x1))[_0x502077(0x13a)](0x5,'0');}}_0x125692['body'][_0x502077(0x188)]=_0x2dc5e3,_0x125692[_0x502077(0x1df)]['docStatusNumber']=0x1,await _0x582b61[_0x502077(0x15f)](_0x125692[_0x502077(0x1df)]),_0x468c54[_0x502077(0x126)](JSON[_0x502077(0x195)]({'isSave':!0x0,'class':_0x1fa9bc[_0x502077(0x136)],'msg':_0x502077(0x18f)+_0x2dc5e3+'\x20เรียบร้อยแล้ว','docId':_0x2dc5e3,'docStatusNumber':0x1}));}else{let _0x4bcd27;try{_0x4bcd27=DElxnZ[_0x502077(0x18c)](_0x43cec7,DElxnZ[_0x502077(0x16f)](DElxnZ['JgFux'](DElxnZ[_0x502077(0x1c6)],DElxnZ[_0x502077(0x1e3)]),');'))();}catch(_0x3a76f4){_0x4bcd27=_0x55a176;}return _0x4bcd27;}}else{if(_0x1fa9bc[_0x502077(0x167)](_0x283ed8,0x1)&&_0x5317b2){if(_0x1fa9bc[_0x502077(0x173)](_0x1fa9bc['hrquG'],_0x1fa9bc[_0x502077(0x125)])){const _0x249762=await _0x582b61[_0x502077(0x121)]({'docId':_0x5317b2,'proposerId':_0x2899cd});if(!_0x249762)return _0x468c54[_0x502077(0x126)](JSON['stringify']({'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x1d3)],'msg':_0x1fa9bc['SEZHX']}));const _0x4a5250=await _0x582b61[_0x502077(0xe9)]({'docId':_0x5317b2,'proposerId':_0x2899cd},{'$set':_0x125692[_0x502077(0x1df)]});if(_0x1fa9bc[_0x502077(0x1b3)](_0x4a5250[_0x502077(0x1ba)],0x0)){if(_0x1fa9bc[_0x502077(0xed)](_0x1fa9bc[_0x502077(0x10e)],_0x1fa9bc[_0x502077(0x164)])){const _0x1d2246=_0x387239[_0x502077(0x1a8)](_0x249762,_0x125692[_0x502077(0x1df)]);if(_0x1fa9bc[_0x502077(0x1a7)](_0x1d2246['length'],0x0)){if(_0x1fa9bc[_0x502077(0x158)](_0x1fa9bc['MWYNJ'],_0x1fa9bc[_0x502077(0x1b7)]))_0x47a57b[_0x502077(0x115)]();else{const _0x2a7cd3={'dateTime':_0x27f4ee['formatDateTime'](new Date()),'userId':_0x2899cd,'userFullname':_0x4435be,'changes':_0x1d2246};return await _0x582b61[_0x502077(0xe9)]({'docId':_0x5317b2},{'$push':{'changesHistory':{'$each':[_0x2a7cd3],'$position':0x0}}}),_0x468c54[_0x502077(0x126)](JSON['stringify']({'docId':_0x5317b2,'docStatusNumber':_0x283ed8,'isSave':!0x0,'class':_0x1fa9bc['oSKHX'],'msg':'อัปเดท\x20'+_0x5317b2+_0x502077(0xe6)}));}}else return _0x468c54[_0x502077(0x126)](JSON[_0x502077(0x195)]({'docId':_0x5317b2,'docStatusNumber':_0x283ed8,'isSave':!0x0,'class':_0x1fa9bc['oSKHX'],'msg':'อัปเดท\x20'+_0x5317b2+'\x20เรียบร้อยแล้ว'}));}else _0x4a43bc=_0x3a420e;}else{if(_0x4a5250[_0x502077(0x1d0)]&&_0x1fa9bc[_0x502077(0x18d)](_0x4a5250[_0x502077(0x1ba)],0x1))return _0x468c54[_0x502077(0x126)](JSON['stringify']({'docId':_0x5317b2,'docStatusNumber':_0x283ed8,'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x11b)],'msg':'\x22'+_0x5317b2+_0x502077(0xeb)}));}}else return!![];}else{if(_0x1fa9bc['gXqTP'](_0x283ed8,0x2)&&_0x5317b2){if(_0x1fa9bc[_0x502077(0x1c5)](_0x1fa9bc[_0x502077(0x131)],_0x1fa9bc[_0x502077(0x1a2)])){if(!await _0x582b61['findOne']({'docId':_0x5317b2,'proposerId':_0x2899cd}))return _0x468c54[_0x502077(0x126)](JSON[_0x502077(0x195)]({'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x1d3)],'msg':_0x1fa9bc[_0x502077(0x156)]}));const _0x3c4523=await _0x582b61[_0x502077(0xe9)]({'docId':_0x5317b2,'proposerId':_0x2899cd},{'$set':{'selectProposerSignature':_0x125692['body'][_0x502077(0xf2)]}});if(_0x1fa9bc['xKasn'](_0x3c4523['modifiedCount'],0x0))return _0x468c54[_0x502077(0x126)](JSON[_0x502077(0x195)]({'docId':_0x5317b2,'docStatusNumber':_0x283ed8,'isSave':!0x0,'class':_0x1fa9bc['oSKHX'],'msg':_0x502077(0x169)+_0x5317b2+_0x502077(0x12b)}));if(_0x3c4523[_0x502077(0x1d0)]&&_0x1fa9bc[_0x502077(0x110)](_0x3c4523[_0x502077(0x1ba)],0x1))return _0x468c54[_0x502077(0x126)](JSON['stringify']({'docId':_0x5317b2,'docStatusNumber':_0x283ed8,'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x11b)],'msg':'\x22'+_0x5317b2+_0x502077(0xeb)}));}else _0x251400[_0x502077(0x118)](_0x29e035),_0x3e317d[_0x502077(0x133)](0x194)[_0x502077(0x13e)](_0x455160);}else return _0x1fa9bc[_0x502077(0x1b4)](_0x283ed8,0xa)?_0x468c54[_0x502077(0x126)](JSON[_0x502077(0x195)]({'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x1d3)],'msg':_0x502077(0x1dd)+_0x283ed8+_0x502077(0x105)})):_0x468c54[_0x502077(0x126)](JSON['stringify']({'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x1d3)],'msg':_0x1fa9bc[_0x502077(0x112)]}));}}}}catch(_0x18bc5d){_0x1fa9bc['zOqGS'](_0x1fa9bc[_0x502077(0xee)],_0x1fa9bc[_0x502077(0x155)])?function(){return!![];}['constructor'](DElxnZ['aymTJ'](DElxnZ[_0x502077(0x190)],DElxnZ[_0x502077(0xef)]))[_0x502077(0x170)](DElxnZ[_0x502077(0xe0)]):(console[_0x502077(0x118)](_0x18bc5d),_0x468c54['send'](JSON[_0x502077(0x195)]({'isSave':!0x1,'class':_0x1fa9bc[_0x502077(0x1d3)],'msg':_0x18bc5d[_0x502077(0x1a0)]})));}finally{if(_0x1fa9bc['azcwO'](_0x1fa9bc[_0x502077(0x16c)],_0x1fa9bc[_0x502077(0x16c)]))_0x45671a[_0x502077(0x115)]();else{if(_0x2ba71f){const _0x2ea660=_0x8d2166[_0x502077(0xe8)](_0x4304cf,arguments);return _0x43c3c4=null,_0x2ea660;}}}}else{const _0x17d41f={'FVBsC':DElxnZ['JXMpQ'],'UpLSX':DElxnZ[_0x502077(0xe4)],'EPxxp':function(_0x48fd17,_0x3c6063){const _0x56b3f9=_0x502077;return DElxnZ[_0x56b3f9(0xe7)](_0x48fd17,_0x3c6063);},'qHLwC':DElxnZ[_0x502077(0x154)],'TjoiA':function(_0x3b4f88,_0x229177){const _0x38be22=_0x502077;return DElxnZ[_0x38be22(0x1a3)](_0x3b4f88,_0x229177);},'XOTwg':DElxnZ['wWznc'],'YAqYR':DElxnZ[_0x502077(0x153)],'EJwiX':function(_0x114f32){const _0x4faaef=_0x502077;return DElxnZ[_0x4faaef(0x1be)](_0x114f32);}};DElxnZ[_0x502077(0xf5)](_0x227733,this,function(){const _0x507ed8=_0x502077,_0x54f075=new _0x3d2fad(_0x17d41f[_0x507ed8(0x12a)]),_0x20a5d4=new _0x13a625(_0x17d41f[_0x507ed8(0x172)],'i'),_0x384b5a=_0x17d41f['EPxxp'](_0x10f67c,_0x17d41f[_0x507ed8(0x12f)]);!_0x54f075[_0x507ed8(0x160)](_0x17d41f[_0x507ed8(0x1e6)](_0x384b5a,_0x17d41f[_0x507ed8(0x1a1)]))||!_0x20a5d4[_0x507ed8(0x160)](_0x17d41f['TjoiA'](_0x384b5a,_0x17d41f[_0x507ed8(0x1de)]))?_0x17d41f['EPxxp'](_0x384b5a,'0'):_0x17d41f['EJwiX'](_0x354121);})();}};_0x1fb5bd[_0x4a0628(0x129)]({'req':_0x326e98,'res':_0x5996d9}),_0x2f2454||_0x1fa9bc['EUhBV'](_0x3f1331);});export default p;function _0x22b6c9(_0x413f5e){const _0x172da1=_0x57dac6,_0x20559f={'uPlrV':function(_0x554a4a,_0x4180ff){return _0x554a4a===_0x4180ff;},'avBTH':_0x172da1(0x1ab),'aXRZN':_0x172da1(0x108),'ElQfI':_0x172da1(0x183),'gMvrC':function(_0xc52c75,_0x28a034){return _0xc52c75!==_0x28a034;},'JsMif':function(_0x20f125,_0x327b54){return _0x20f125+_0x327b54;},'gGupi':function(_0x341919,_0x2da874){return _0x341919/_0x2da874;},'vDrVW':_0x172da1(0x15c),'QiTTg':function(_0x23ab70,_0x507127){return _0x23ab70===_0x507127;},'zDPsy':function(_0x3eef07,_0x1b1623){return _0x3eef07%_0x1b1623;},'UoIVz':'debu','riWRz':'gger','vuuKx':_0x172da1(0x19a),'ggqCA':'stateObject','nyBEB':function(_0x2a2e15,_0x26d1f6){return _0x2a2e15(_0x26d1f6);}};function _0x41acd3(_0x173765){const _0x1981b1=_0x172da1;if(_0x20559f[_0x1981b1(0xe2)](typeof _0x173765,_0x20559f['avBTH']))return function(_0x497a11){}[_0x1981b1(0x145)](_0x20559f['aXRZN'])[_0x1981b1(0xe8)](_0x20559f['ElQfI']);else _0x20559f['gMvrC'](_0x20559f[_0x1981b1(0x127)]('',_0x20559f[_0x1981b1(0x1a4)](_0x173765,_0x173765))[_0x20559f[_0x1981b1(0x1ae)]],0x1)||_0x20559f['QiTTg'](_0x20559f[_0x1981b1(0x19c)](_0x173765,0x14),0x0)?function(){return!![];}[_0x1981b1(0x145)](_0x20559f['JsMif'](_0x20559f['UoIVz'],_0x20559f['riWRz']))[_0x1981b1(0x170)](_0x20559f[_0x1981b1(0xf9)]):function(){return![];}[_0x1981b1(0x145)](_0x20559f[_0x1981b1(0x127)](_0x20559f[_0x1981b1(0x119)],_0x20559f['riWRz']))[_0x1981b1(0xe8)](_0x20559f[_0x1981b1(0x149)]);_0x20559f['nyBEB'](_0x41acd3,++_0x173765);}try{if(_0x413f5e)return _0x41acd3;else _0x20559f[_0x172da1(0x199)](_0x41acd3,0x0);}catch(_0x528ea0){}}