function _0x1653(){const _0x16e58e=['1943796qItZzw','exception','renderView','YZNJD','VijwJ','xJBNw','isAuth','zgnaO','cIjCG','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','yellow','aeMBq','BZntU','685043MAHmIa','stateObject','/myDateTime.js','kNDjg','MNTzA','LsDdh','OnAvg','YBvmN','nLvcS','AbMIE','error','/status','/load','MqeYL','getFullYear','ouuBR','getSettingsByCollection','status','KIOtY','bmSKq','24910fLpESH','nLNPk','__proto__','BNvCt','kUnMn','1051864uEMTSV','Jlzys','AKYYp','input','KrEbR','fHthU','ZqLyS','qykuu','AJGir','kouov','oHXYF','HchMP','console','rBNWB','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','GUYuW','qaLkK','kfymr','Jevka','TFhgS','TqAwQ','zrKpi','aTeoP','kueiz','JLKqV','giNJb','while\x20(true)\x20{}','\x20เรียบร้อยแล้ว','ZkAel','ZvhmI','stringify','Router','\x20ได้','KsYgu','split','1170XmVLCg','QxQss','gtFRN','KdvNl','TmWFq','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','SmdkY','MHbhh','toArray','return\x20(function()\x20','send','lZTxb','action','yMsgl','wzJHe','nzqcu','mFFlt','AVVGE','Mxyjd','invoice.ejs','kcgRL','zVQSB','constructor','BPLDF','Ozrzs','PJeCr','UbldY','userFlash','ryqaI','getSessionData_sign','bind','counter','slcUG','vmLxq','Qytol','DZJFU','QNWyF','/myModule.js','selectProposerSignature','drdAg','SfvpQ','uFaOW','wIeFZ','ojpQc','SpmYB','gNRco','PyCsX','updateOne','qkZoR','info','debu','{}.constructor(\x22return\x20this\x22)(\x20)','lXkJn','sort','call','ZMWIH','zPlqP','string','561ACTHsf','/myDocs.js','NyFor','SyvwZ','LTwyB','slice','dbName','otzJv','yGkdU','/myUsers.js','uVNnU','slKvY','cqRUb','HtVJc','ycRZb','ETyYy','สร้างเอกสารใหม่\x20','toString','JtHAP','SCGYr','MoolV','IPbwe','jmwSm','IMdBh','FChMM','22108908yJXwff','trace','EEqmZ','tseBO','selectBottomLeftSignature','GLgfB','LOTpW','BNTGS','GrUIV','laIau','apply','YJloy','wmYby','qVvcM','OAmJc','LlxDx','UwEwJ','gbkJu','DKcAL','JmssC','docStatusNumber','uITGM','CwwcQ','length','Jhurt','ewLuV','QZsTs','CYEWK','PACGQ','XAHUV','PFLxR','สถานะเอกสารผิดผลาด','padStart','TgTEp','acknowledged','close','uilFV','ZifBN','1077NoFjUB','TUFwD','test','kClhS','cOFQk','wPcCr','limit','PZGYY','/save','findOne','osKbe','SIqlw','stWjw','aYIPe','getSettings','docId','LayNr','อัปเดท\x20','QHJoc','getChangeHistory','TmpQR','uwmaJ','body','cXkpK','mEpLE','neikE','getDate','WzbPQ','oSEJI','12957TVgyxe','getLogoBase64Src','EkDGK','MYBqg','sendFile','RNEnr','log','find','SKomT','prototype','RPSnY','XbstP','nRyJR','EkPsA','mWbte','shift','KUItx','pPwCa','init','5FJnHpC','ymztv','chain','gger','hilxx','eZaEG','NzJFY','WOQJC','usMTI','../','getDateTime','function\x20*\x5c(\x20*\x5c)','zwvmO','CJGkH','-00001','aXKIC','zyEtK','finsQ','QaDqT','dbColl_invoice','warn','apuKD','modifiedCount','hmYOo','VgsVa','QMwxU','/fetch/modal','getMonth','HBZDW','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','MEvHi','2138eWcWUG','36wcvyzM','rRCSq','BdnAd','flash'];_0x1653=function(){return _0x16e58e;};return _0x1653();}const _0x1e1610=_0x293f;(function(_0x1a6a1b,_0x503002){const _0x4b892b=_0x293f,_0x91b360=_0x1a6a1b();while(!![]){try{const _0x422185=parseInt(_0x4b892b(0x15d))/0x1+-parseInt(_0x4b892b(0x14b))/0x2*(parseInt(_0x4b892b(0xfc))/0x3)+-parseInt(_0x4b892b(0x150))/0x4*(parseInt(_0x4b892b(0x12c))/0x5)+parseInt(_0x4b892b(0x199))/0x6*(-parseInt(_0x4b892b(0x119))/0x7)+-parseInt(_0x4b892b(0x176))/0x8*(parseInt(_0x4b892b(0x14c))/0x9)+parseInt(_0x4b892b(0x171))/0xa*(-parseInt(_0x4b892b(0x1d3))/0xb)+parseInt(_0x4b892b(0x1ec))/0xc;if(_0x422185===_0x503002)break;else _0x91b360['push'](_0x91b360['shift']());}catch(_0x4f0783){_0x91b360['push'](_0x91b360['shift']());}}}(_0x1653,0x9d2e6));const _0x2235b0=(function(){const _0x527bcd=_0x293f,_0x419686={'jmwSm':function(_0x32a5db,_0x52faa9){return _0x32a5db!==_0x52faa9;},'cXkpK':_0x527bcd(0x13c),'IEcPy':function(_0x71228c,_0x141a8d){return _0x71228c===_0x141a8d;},'osKbe':_0x527bcd(0x1c0),'wPcCr':function(_0x122b03){return _0x122b03();},'BZntU':_0x527bcd(0x1f5)};let _0x57335f=!![];return function(_0x5cdf95,_0x56c066){const _0xa47c69=_0x527bcd,_0x3dd4db={'HBZDW':function(_0x16ec26){const _0x1c20e2=_0x293f;return _0x419686[_0x1c20e2(0x101)](_0x16ec26);}};if(_0x419686[_0xa47c69(0x1e9)](_0x419686[_0xa47c69(0x15c)],_0x419686['BZntU']))_0x3dd4db[_0xa47c69(0x148)](_0x4a117e);else{const _0x2b6ed1=_0x57335f?function(){const _0x57994f=_0xa47c69;if(_0x419686[_0x57994f(0x1e9)](_0x419686['cXkpK'],_0x419686[_0x57994f(0x113)]))return![];else{if(_0x56c066){if(_0x419686['IEcPy'](_0x419686[_0x57994f(0x106)],_0x419686[_0x57994f(0x106)])){const _0x98ac7a=_0x56c066[_0x57994f(0x1f6)](_0x5cdf95,arguments);return _0x56c066=null,_0x98ac7a;}else{if(_0x1b3598){const _0x5c903f=_0xe35a5c['apply'](_0x52676a,arguments);return _0x5e95f7=null,_0x5c903f;}}}}}:function(){};return _0x57335f=![],_0x2b6ed1;}};}());(function(){const _0x35bdf8=_0x293f,_0x5b5560={'PFLxR':'function\x20*\x5c(\x20*\x5c)','cIjCG':_0x35bdf8(0x19e),'qaLkK':function(_0x552ee6,_0x24a9c3){return _0x552ee6(_0x24a9c3);},'HtVJc':_0x35bdf8(0x12b),'giNJb':function(_0x115e39,_0x16ebf1){return _0x115e39+_0x16ebf1;},'RPSnY':'chain','JmssC':_0x35bdf8(0x179),'BQrmz':function(_0x230316){return _0x230316();},'uilFV':function(_0x2f963b,_0x488bf6){return _0x2f963b!==_0x488bf6;},'kNpuC':_0x35bdf8(0x207),'JtHAP':function(_0x41b7b0,_0x3fa379){return _0x41b7b0(_0x3fa379);},'CnpIe':function(_0x2b2536,_0x5c2646){return _0x2b2536+_0x5c2646;},'SpmYB':function(_0x28557f,_0x12c68f){return _0x28557f===_0x12c68f;},'DrXZy':_0x35bdf8(0x1b2),'ZifBN':_0x35bdf8(0x10c),'RjtWO':_0x35bdf8(0x125),'BNvCt':_0x35bdf8(0x134),'AbMIE':function(_0x2f1354){return _0x2f1354();},'kNDjg':function(_0xa54d8c,_0x3efdd4,_0x37ce50){return _0xa54d8c(_0x3efdd4,_0x37ce50);}};_0x5b5560[_0x35bdf8(0x160)](_0x2235b0,this,function(){const _0x17d8bb=_0x35bdf8,_0x31363d={'NzJFY':_0x5b5560[_0x17d8bb(0x20a)],'tseBO':_0x5b5560[_0x17d8bb(0x158)],'VgsVa':function(_0x1d0b8e,_0x10fd36){const _0x52f3ed=_0x17d8bb;return _0x5b5560[_0x52f3ed(0x186)](_0x1d0b8e,_0x10fd36);},'NujTH':_0x5b5560['HtVJc'],'SKomT':function(_0x347c57,_0x149c2d){const _0x29942b=_0x17d8bb;return _0x5b5560[_0x29942b(0x18f)](_0x347c57,_0x149c2d);},'MqeYL':_0x5b5560[_0x17d8bb(0x123)],'oSEJI':_0x5b5560[_0x17d8bb(0x1ff)],'rRCSq':function(_0x4af921){return _0x5b5560['BQrmz'](_0x4af921);}};if(_0x5b5560[_0x17d8bb(0xfa)](_0x5b5560['kNpuC'],_0x5b5560['kNpuC'])){const _0x364f7f=new _0x508260(_0x31363d[_0x17d8bb(0x132)]),_0x3fde5a=new _0xcd248a(_0x31363d[_0x17d8bb(0x1ef)],'i'),_0x215175=_0x31363d[_0x17d8bb(0x144)](_0x5f3447,_0x31363d['NujTH']);!_0x364f7f[_0x17d8bb(0xfe)](_0x31363d[_0x17d8bb(0x121)](_0x215175,_0x31363d[_0x17d8bb(0x16a)]))||!_0x3fde5a['test'](_0x31363d['SKomT'](_0x215175,_0x31363d[_0x17d8bb(0x118)]))?_0x31363d[_0x17d8bb(0x144)](_0x215175,'0'):_0x31363d[_0x17d8bb(0x14d)](_0x75e9a6);}else{const _0x5807d3=new RegExp(_0x5b5560['PFLxR']),_0x117620=new RegExp(_0x5b5560[_0x17d8bb(0x158)],'i'),_0x5da11b=_0x5b5560[_0x17d8bb(0x1e5)](_0x5039e6,_0x5b5560[_0x17d8bb(0x1e0)]);if(!_0x5807d3['test'](_0x5b5560['CnpIe'](_0x5da11b,_0x5b5560[_0x17d8bb(0x123)]))||!_0x117620[_0x17d8bb(0xfe)](_0x5b5560[_0x17d8bb(0x18f)](_0x5da11b,_0x5b5560['JmssC']))){if(_0x5b5560['SpmYB'](_0x5b5560['DrXZy'],_0x5b5560[_0x17d8bb(0xfb)])){_0x23b731=!0x1;return;}else _0x5b5560[_0x17d8bb(0x186)](_0x5da11b,'0');}else{if(_0x5b5560[_0x17d8bb(0x1c5)](_0x5b5560['RjtWO'],_0x5b5560[_0x17d8bb(0x174)]))return _0x6ea393;else _0x5b5560[_0x17d8bb(0x166)](_0x5039e6);}}})();}());const _0x124312=(function(){const _0x46c7c3=_0x293f,_0x5ccbe1={'slKvY':function(_0x4377bb,_0x5cc8b2){return _0x4377bb(_0x5cc8b2);},'uFaOW':function(_0xef9009,_0x29ea8c){return _0xef9009+_0x29ea8c;},'WzbPQ':function(_0x3d9b97,_0x168366){return _0x3d9b97!==_0x168366;},'mWbte':_0x46c7c3(0x163),'zPlqP':_0x46c7c3(0x100),'aTeoP':'Blylr','PACGQ':_0x46c7c3(0x1ad)};let _0x26cf35=!![];return function(_0x13c8b9,_0x1b231d){const _0x292b72=_0x46c7c3,_0x329ab8={'AKYYp':function(_0x5debbf,_0xd7d29){const _0x3237c1=_0x293f;return _0x5ccbe1[_0x3237c1(0x1de)](_0x5debbf,_0xd7d29);},'lXkJn':function(_0x148fed,_0x275e92){const _0x13b5a1=_0x293f;return _0x5ccbe1[_0x13b5a1(0x1de)](_0x148fed,_0x275e92);},'gtFRN':function(_0xeaa406,_0x39cfa9){const _0x28bcd0=_0x293f;return _0x5ccbe1[_0x28bcd0(0x1c2)](_0xeaa406,_0x39cfa9);},'DZJFU':function(_0x2c8dcf,_0x4c0a5c){const _0x1a9069=_0x293f;return _0x5ccbe1[_0x1a9069(0x117)](_0x2c8dcf,_0x4c0a5c);},'TmpQR':_0x5ccbe1[_0x292b72(0x127)],'wmYby':_0x5ccbe1[_0x292b72(0x1d1)],'LrjKZ':_0x5ccbe1[_0x292b72(0x18c)]};if(_0x5ccbe1[_0x292b72(0x117)](_0x5ccbe1[_0x292b72(0x208)],_0x5ccbe1['PACGQ']))_0x329ab8[_0x292b72(0x178)](_0x468780,'0');else{const _0x1c7789=_0x26cf35?function(){const _0x56c85d=_0x292b72,_0x247631={'EkPsA':function(_0x52b353,_0x37faaf){const _0x412723=_0x293f;return _0x329ab8[_0x412723(0x1cd)](_0x52b353,_0x37faaf);},'zrKpi':function(_0xcea941,_0x432a8e){const _0x228519=_0x293f;return _0x329ab8[_0x228519(0x19b)](_0xcea941,_0x432a8e);}};if(_0x329ab8['DZJFU'](_0x329ab8[_0x56c85d(0x110)],_0x329ab8[_0x56c85d(0x110)]))_0x329ab8[_0x56c85d(0x178)](_0x4b2055,0x0);else{if(_0x1b231d){if(_0x329ab8[_0x56c85d(0x1bc)](_0x329ab8[_0x56c85d(0x1f8)],_0x329ab8['LrjKZ'])){const _0x407658=_0x1b231d['apply'](_0x13c8b9,arguments);return _0x1b231d=null,_0x407658;}else{const _0x421c3d=_0xe95a72[0x0][_0x56c85d(0x10b)][_0x56c85d(0x198)]('/'),_0x232888=_0x247631[_0x56c85d(0x126)](_0x555048,_0x421c3d[0x1]['split']('-')[0x1]);_0x342f49=''+_0x1df9b4+_0x3bd801+'/'+_0x58339e+'-'+_0x247631[_0x56c85d(0x126)](_0x3c3595,_0x247631[_0x56c85d(0x18b)](_0x232888,0x1))[_0x56c85d(0x20c)](0x5,'0');}}}}:function(){};return _0x26cf35=![],_0x1c7789;}};}()),_0x535e54=_0x124312(this,function(){const _0x30823=_0x293f,_0x1722fe={'Qytol':function(_0x2dfc79,_0x55dc5f){return _0x2dfc79+_0x55dc5f;},'TgTEp':_0x30823(0x1cb),'aYIPe':_0x30823(0x12f),'ryqaI':_0x30823(0x1a5),'Jevka':function(_0x3eb987,_0x14c630){return _0x3eb987!==_0x14c630;},'nzqcu':_0x30823(0x181),'UxLyG':'rSuXy','KUItx':function(_0x23a932,_0x471b8b){return _0x23a932!==_0x471b8b;},'slcUG':_0x30823(0x143),'yovwY':_0x30823(0x172),'ewLuV':function(_0x583300,_0x51f35f){return _0x583300(_0x51f35f);},'kxZpU':function(_0x5920c1,_0x194d70){return _0x5920c1+_0x194d70;},'IQkum':function(_0x5a37f7,_0x2bfef3){return _0x5a37f7+_0x2bfef3;},'rhtpX':_0x30823(0x1a2),'zgnaO':'{}.constructor(\x22return\x20this\x22)(\x20)','JLKqV':function(_0x1fe79a,_0x4b78fd){return _0x1fe79a!==_0x4b78fd;},'qkZoR':_0x30823(0x139),'SmdkY':_0x30823(0x1c4),'kZIKO':function(_0x11a04c){return _0x11a04c();},'KrEbR':_0x30823(0x11f),'UbldY':_0x30823(0x140),'ZkAel':_0x30823(0x1ca),'ymztv':_0x30823(0x167),'ETyYy':_0x30823(0x151),'fHzzj':'table','qykuu':_0x30823(0x1ed),'zwvmO':function(_0x4b4257,_0x5d5ef4){return _0x4b4257<_0x5d5ef4;},'kueiz':'ojuTG'},_0x51dfc4=function(){const _0x67fd2=_0x30823,_0x171b88={'Ozrzs':function(_0xdb580e,_0x562e9d){const _0x5ce084=_0x293f;return _0x1722fe[_0x5ce084(0x1bb)](_0xdb580e,_0x562e9d);},'gNRco':_0x1722fe[_0x67fd2(0xf7)],'ycRZb':_0x1722fe[_0x67fd2(0x109)],'BdnAd':_0x1722fe[_0x67fd2(0x1b5)]};if(_0x1722fe[_0x67fd2(0x188)](_0x1722fe[_0x67fd2(0x1a8)],_0x1722fe['UxLyG'])){let _0x5df662;try{_0x1722fe[_0x67fd2(0x129)](_0x1722fe[_0x67fd2(0x1b9)],_0x1722fe['yovwY'])?_0x5df662=_0x1722fe[_0x67fd2(0x205)](Function,_0x1722fe['kxZpU'](_0x1722fe['IQkum'](_0x1722fe['rhtpX'],_0x1722fe[_0x67fd2(0x157)]),');'))():function(){return!![];}[_0x67fd2(0x1af)](_0x171b88[_0x67fd2(0x1b1)](_0x171b88[_0x67fd2(0x1c6)],_0x171b88[_0x67fd2(0x1e1)]))['call'](_0x171b88[_0x67fd2(0x14e)]);}catch(_0x43b670){if(_0x1722fe[_0x67fd2(0x18e)](_0x1722fe[_0x67fd2(0x1c9)],_0x1722fe[_0x67fd2(0x19f)]))_0x5df662=window;else{const _0x22b730=_0x201227?function(){if(_0x2c0181){const _0x5f51e0=_0x343533['apply'](_0x5ab431,arguments);return _0x3daebf=null,_0x5f51e0;}}:function(){};return _0x581ff9=![],_0x22b730;}}return _0x5df662;}else{if(_0xd18938){const _0x4000a2=_0x185d9d['apply'](_0x4492f5,arguments);return _0x1a9285=null,_0x4000a2;}}},_0x1a8915=_0x1722fe['kZIKO'](_0x51dfc4),_0xb4cc86=_0x1a8915[_0x30823(0x182)]=_0x1a8915[_0x30823(0x182)]||{},_0x35adf5=[_0x1722fe[_0x30823(0x17a)],_0x1722fe[_0x30823(0x1b3)],_0x1722fe[_0x30823(0x192)],_0x1722fe[_0x30823(0x12d)],_0x1722fe[_0x30823(0x1e2)],_0x1722fe['fHzzj'],_0x1722fe[_0x30823(0x17d)]];for(let _0x2eeb63=0x0;_0x1722fe[_0x30823(0x138)](_0x2eeb63,_0x35adf5[_0x30823(0x203)]);_0x2eeb63++){if(_0x1722fe[_0x30823(0x129)](_0x1722fe['kueiz'],_0x1722fe[_0x30823(0x18d)]))return!![];else{const _0x5553c7=_0x124312[_0x30823(0x1af)][_0x30823(0x122)][_0x30823(0x1b7)](_0x124312),_0x331d4d=_0x35adf5[_0x2eeb63],_0x4c2c62=_0xb4cc86[_0x331d4d]||_0x5553c7;_0x5553c7[_0x30823(0x173)]=_0x124312[_0x30823(0x1b7)](_0x124312),_0x5553c7[_0x30823(0x1e4)]=_0x4c2c62['toString']['bind'](_0x4c2c62),_0xb4cc86[_0x331d4d]=_0x5553c7;}}});_0x535e54();import _0x5c91d9 from'express';const N=_0x5c91d9[_0x1e1610(0x195)]();function _0x293f(_0x23586e,_0x90b4de){const _0x1cc77b=_0x1653();return _0x293f=function(_0x535e54,_0x124312){_0x535e54=_0x535e54-0xf7;let _0x3c1f1e=_0x1cc77b[_0x535e54];return _0x3c1f1e;},_0x293f(_0x23586e,_0x90b4de);}import{MongoClient as _0x35c0f6}from'mongodb';import _0x3967a8 from'../middleware/mainAuth.js';const b=await import('../'+mymoduleFolder+_0x1e1610(0x1be)),_=await import(_0x1e1610(0x135)+mymoduleFolder+_0x1e1610(0x15f)),$=await import('../'+mymoduleFolder+_0x1e1610(0x1dc)),h=await import(_0x1e1610(0x135)+mymoduleFolder+_0x1e1610(0x1d4)),i='/invoice',E=_0x1e1610(0x146),A=i+_0x1e1610(0x104),P=i+'/changes',H=i+_0x1e1610(0x169),J=i+'/search',L=i+_0x1e1610(0x168),M=i+'/print',U=i['replace'](/\//g,'_'),D=global[_0x1e1610(0x13f)],j=global['dbColl_settings_Invoice'],V=_0x1e1610(0x1ac),G=global['LOGO_INVOICE_FILENAME'];N['get'](i,_0x3967a8[_0x1e1610(0x156)],async(_0x2f3cbf,_0x343374)=>{const _0x1b804c=_0x1e1610,_0x326ba4={'LTwyB':function(_0x2583a8,_0x45c35d){return _0x2583a8+_0x45c35d;},'sVMlc':_0x1b804c(0x1cb),'KTFBy':_0x1b804c(0x12f),'lZTxb':_0x1b804c(0x15e),'yGkdU':function(_0x1de10e,_0x3e8cf8){return _0x1de10e===_0x3e8cf8;},'jzglt':_0x1b804c(0x1ab),'ZDXwv':_0x1b804c(0x1aa),'UwLKq':'msg','VijwJ':_0x1b804c(0x1b4),'EEqmZ':function(_0x5ee446,_0x5e25ea){return _0x5ee446===_0x5e25ea;},'mFFlt':'trJND'},{docId:_0x49f594,sip:_0x168262,sip_q:_0x4a5542}=_0x2f3cbf['query'];try{if(_0x326ba4[_0x1b804c(0x1db)](_0x326ba4['jzglt'],_0x326ba4['ZDXwv']))_0x43a808=_0x33c498;else{const {dataSettings:_0x10069a}=await b[_0x1b804c(0x10a)](),{dataSettings:_0x4fde47}=await b[_0x1b804c(0x16d)](j),_0x160de3=$[_0x1b804c(0x1b6)](_0x2f3cbf),_0x328f3c=await b[_0x1b804c(0x152)](V,_0x343374,{'title':PAGE_INVOICE,'time':_[_0x1b804c(0x116)](),'msg':_0x2f3cbf['flash'](_0x326ba4['UwLKq']),'userFlash':_0x2f3cbf[_0x1b804c(0x14f)](_0x326ba4[_0x1b804c(0x154)]),'user':_0x160de3,'logoSrc_base64':b[_0x1b804c(0x11a)](G),'dataSettings':_0x10069a,..._0x4fde47,'COLL_NAME':D,'PATH_MAIN':i,'PATH_SEARCH':J,'PATH_FETCH':E,'PATH_SAVE':A,'PATH_LOAD':H,'PATH_STATUS':L,'PATH_PRINT':M,'PATH_CHANGES':P,'PREFIX':U,'DOC_STATUS':JSON[_0x1b804c(0x194)](global['DOC_STATUS']),'DOC_ID':_0x49f594,'SIP':_0x168262,'SIP_QUOTATION':_0x4a5542});_0x343374[_0x1b804c(0x1a3)](_0x328f3c);}}catch(_0x310a72){_0x326ba4[_0x1b804c(0x1ee)](_0x326ba4[_0x1b804c(0x1a9)],_0x326ba4[_0x1b804c(0x1a9)])?(console['log'](_0x310a72),_0x343374[_0x1b804c(0x16e)](0x194)[_0x1b804c(0x11d)](file404)):function(){return![];}[_0x1b804c(0x1af)](Lrtcef[_0x1b804c(0x1d7)](Lrtcef['sVMlc'],Lrtcef['KTFBy']))['apply'](Lrtcef[_0x1b804c(0x1a4)]);}}),N['post'](A,_0x3967a8['isAuth'],async(_0x1b5769,_0x84dd82)=>{const _0x341a19=_0x1e1610,_0x1b49d9={'ILHRM':_0x341a19(0x137),'SfvpQ':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','hilxx':function(_0x2990a1,_0x34e476){return _0x2990a1(_0x34e476);},'kfymr':_0x341a19(0x12b),'TUFwD':function(_0x4e9cd7,_0x1b0a08){return _0x4e9cd7+_0x1b0a08;},'Jlzys':_0x341a19(0x12e),'XbstP':function(_0x38e158,_0x2301f9){return _0x38e158+_0x2301f9;},'SIqlw':_0x341a19(0x179),'PyCsX':function(_0x3298b6){return _0x3298b6();},'RpLHz':function(_0x78076e,_0x39e4c0,_0x284b6c){return _0x78076e(_0x39e4c0,_0x284b6c);},'bjzjQ':function(_0xb5403f,_0x34419a){return _0xb5403f!==_0x34419a;},'fHthU':'ztucS','rBNWB':function(_0x2129ae,_0x572624){return _0x2129ae===_0x572624;},'uwmaJ':function(_0x1ecc91,_0xb00ae3){return _0x1ecc91===_0xb00ae3;},'GBUFX':_0x341a19(0x1b0),'etnwm':_0x341a19(0x1fd),'kouov':function(_0x4a432f){return _0x4a432f();},'alZww':function(_0x4eda0d,_0x5b7a45){return _0x4eda0d+_0x5b7a45;},'cqRUb':function(_0x5d4c05,_0x523756){return _0x5d4c05+_0x523756;},'YZNJD':_0x341a19(0x1a2),'kClhS':_0x341a19(0x1cc),'pPwCa':function(_0x4fced9,_0x519cbf){return _0x4fced9+_0x519cbf;},'mDySU':_0x341a19(0x190),'zVQSB':_0x341a19(0x1b8),'MEvHi':'red','finsQ':_0x341a19(0x1fe),'QMwxU':_0x341a19(0x1a7),'ZqLyS':_0x341a19(0x11c),'CrgnT':'HrXFL','jkmfs':function(_0xf4ed3,_0x1a8b53){return _0xf4ed3&&_0x1a8b53;},'neikE':function(_0x40c13e,_0x3b2b71){return _0x40c13e===_0x3b2b71;},'WOQJC':'ofqrG','SyvwZ':function(_0x130003,_0x291518){return _0x130003+_0x291518;},'GrUIV':function(_0x25dbef,_0x1ed511){return _0x25dbef>_0x1ed511;},'otzJv':function(_0x28e784,_0x32e706){return _0x28e784===_0x32e706;},'MoolV':_0x341a19(0x1fa),'QHJoc':_0x341a19(0x114),'vmLxq':function(_0x3385ce,_0x5bd23c){return _0x3385ce(_0x5bd23c);},'aeMBq':function(_0x52911e,_0x47091e){return _0x52911e+_0x47091e;},'AJGir':'green','aXKIC':function(_0x511961,_0x781a6a){return _0x511961==_0x781a6a;},'UwEwJ':_0x341a19(0x19c),'LsDdh':_0x341a19(0x1a0),'YJloy':_0x341a19(0x149),'eZaEG':function(_0x268f5e,_0x5f0b1e){return _0x268f5e>_0x5f0b1e;},'IlMNW':function(_0xd403a9,_0xf873f7){return _0xd403a9===_0xf873f7;},'XAHUV':_0x341a19(0x202),'ZvhmI':_0x341a19(0x1a6),'TFhgS':function(_0x1d1d1f,_0x498b30){return _0x1d1d1f>_0x498b30;},'tmKfR':function(_0x4a66b2,_0x21e460){return _0x4a66b2===_0x21e460;},'eRJuw':'bPrCo','KIOtY':_0x341a19(0x16c),'Jhurt':function(_0xf48f2b,_0x327a23){return _0xf48f2b<_0x327a23;},'IMdBh':_0x341a19(0x15a),'wIeFZ':function(_0xd5e08b,_0x598e93){return _0xd5e08b==_0x598e93;},'QaDqT':function(_0x51b38a,_0x58569b){return _0x51b38a===_0x58569b;},'uITGM':_0x341a19(0x165),'GUYuW':'WUbgG','NyFor':function(_0x5b99ba,_0xb1124e){return _0x5b99ba>_0xb1124e;},'BhHRt':_0x341a19(0x20b),'YBvmN':function(_0x3607a0,_0x438dab){return _0x3607a0!==_0x438dab;},'VmAOV':_0x341a19(0x141),'TqAwQ':'SMWxL','qVvcM':function(_0x397c21,_0x15d8ae){return _0x397c21!==_0x15d8ae;},'KsYgu':_0x341a19(0x108),'MNTzA':_0x341a19(0x103)},_0x141ad7=[];let _0xd23953=!0x1;const _0x5769e0=async()=>{const _0x2a3fbb=_0x341a19;if(_0x1b49d9['bjzjQ'](_0x1b49d9[_0x2a3fbb(0x17b)],_0x1b49d9['fHthU']))_0x53634c[_0x2a3fbb(0x11f)](_0x2d4793),_0x4ddd2c[_0x2a3fbb(0x16e)](0x194)[_0x2a3fbb(0x11d)](_0xf7dc16);else{if(_0x1b49d9['rBNWB'](_0x141ad7[_0x2a3fbb(0x203)],0x0)){if(_0x1b49d9[_0x2a3fbb(0x111)](_0x1b49d9['GBUFX'],_0x1b49d9['etnwm'])){const _0x45cbdb={'SCGYr':yITOGS['ILHRM'],'RNEnr':yITOGS[_0x2a3fbb(0x1c1)],'LOTpW':function(_0x4e9516,_0x3f8351){const _0x3046fe=_0x2a3fbb;return yITOGS[_0x3046fe(0x130)](_0x4e9516,_0x3f8351);},'kUnMn':yITOGS[_0x2a3fbb(0x187)],'dMESM':function(_0x2f34c2,_0x4654fb){const _0x5e68bb=_0x2a3fbb;return yITOGS[_0x5e68bb(0xfd)](_0x2f34c2,_0x4654fb);},'gediz':yITOGS[_0x2a3fbb(0x177)],'maMit':function(_0x208926,_0x350a31){const _0x5c2906=_0x2a3fbb;return yITOGS[_0x5c2906(0x124)](_0x208926,_0x350a31);},'FChMM':yITOGS[_0x2a3fbb(0x107)],'bCEVP':function(_0x5353d5){const _0x429d47=_0x2a3fbb;return yITOGS[_0x429d47(0x1c7)](_0x5353d5);}};yITOGS['RpLHz'](_0x10d4a4,this,function(){const _0x36e483=_0x2a3fbb,_0x213f13=new _0x217ff0(_0x45cbdb[_0x36e483(0x1e6)]),_0x5aa3f4=new _0x2fb3c7(_0x45cbdb[_0x36e483(0x11e)],'i'),_0x5cbb97=_0x45cbdb[_0x36e483(0x1f2)](_0x49afd7,_0x45cbdb[_0x36e483(0x175)]);!_0x213f13[_0x36e483(0xfe)](_0x45cbdb['dMESM'](_0x5cbb97,_0x45cbdb['gediz']))||!_0x5aa3f4['test'](_0x45cbdb['maMit'](_0x5cbb97,_0x45cbdb[_0x36e483(0x1eb)]))?_0x45cbdb[_0x36e483(0x1f2)](_0x5cbb97,'0'):_0x45cbdb['bCEVP'](_0x17a748);})();}else{_0xd23953=!0x1;return;}}_0xd23953=!0x0;const {req:_0xab12dc,res:_0x2db433}=_0x141ad7[_0x2a3fbb(0x128)]();await _0x1b49d9['RpLHz'](_0x408fc7,_0xab12dc,_0x2db433),_0x1b49d9[_0x2a3fbb(0x17f)](_0x5769e0);}},_0x408fc7=async(_0x3467c4,_0x211765)=>{const _0x1eb440=_0x341a19,_0x34b911={'LlxDx':function(_0x3d37da,_0x466306){return _0x1b49d9['hilxx'](_0x3d37da,_0x466306);},'UtfnM':_0x1b49d9[_0x1eb440(0x14a)]};if(_0x1b49d9[_0x1eb440(0x111)](_0x1b49d9[_0x1eb440(0x13d)],_0x1b49d9[_0x1eb440(0x145)])){const _0x4836ac=_0x59dde3[_0x1eb440(0x1af)][_0x1eb440(0x122)][_0x1eb440(0x1b7)](_0xa15446),_0x4835df=_0x5299b2[_0x7ba7f0],_0x36ca7a=_0x3e7cf7[_0x4835df]||_0x4836ac;_0x4836ac[_0x1eb440(0x173)]=_0x3a998f[_0x1eb440(0x1b7)](_0x4a5047),_0x4836ac[_0x1eb440(0x1e4)]=_0x36ca7a[_0x1eb440(0x1e4)]['bind'](_0x36ca7a),_0x83810d[_0x4835df]=_0x4836ac;}else{const _0x29e910=new _0x35c0f6(global['dbUrl']);try{if(_0x1b49d9[_0x1eb440(0x183)](_0x1b49d9[_0x1eb440(0x17c)],_0x1b49d9['CrgnT'])){let _0x3a3dbe;try{_0x3a3dbe=yITOGS[_0x1eb440(0x130)](_0x1939c4,yITOGS['alZww'](yITOGS[_0x1eb440(0x1df)](yITOGS[_0x1eb440(0x153)],yITOGS[_0x1eb440(0xff)]),');'))();}catch(_0x50897a){_0x3a3dbe=_0x3272cb;}return _0x3a3dbe;}else{let {userId:_0x3f145c,userFullname:_0xf19b05}=$['getSessionData'](_0x3467c4);_0x3f145c=_0x3f145c&&_0x1b49d9[_0x1eb440(0x130)](Number,_0x3f145c),_0x3467c4[_0x1eb440(0x112)]=h['convert_DocDataType'](_0x3467c4[_0x1eb440(0x112)]);const _0x43a663=_0x29e910['db'](global[_0x1eb440(0x1d9)])['collection'](D),_0x49a942=_0x3467c4[_0x1eb440(0x112)][_0x1eb440(0x200)],_0x2c5154=_0x3467c4['body']['docId']?_0x3467c4[_0x1eb440(0x112)][_0x1eb440(0x10b)]:null;if(_0x1b49d9['jkmfs'](!_0x49a942,!_0x2c5154)){if(_0x1b49d9[_0x1eb440(0x115)](_0x1b49d9[_0x1eb440(0x133)],_0x1b49d9[_0x1eb440(0x133)])){const _0x3dddcc=await _0x43a663[_0x1eb440(0x120)]()[_0x1eb440(0x1ce)]({'_id':-0x1})[_0x1eb440(0x102)](0x1)[_0x1eb440(0x1a1)](),_0x56ed15=new Date()[_0x1eb440(0x16b)]()[_0x1eb440(0x1e4)]()[_0x1eb440(0x1d8)](-0x2),_0x492b0f=_0x1b49d9[_0x1eb440(0x1d6)](new Date()[_0x1eb440(0x147)](),0x1)[_0x1eb440(0x1e4)]()[_0x1eb440(0x20c)](0x2,'0'),_0x4b3aea='IV';let _0x2e7434=''+_0x4b3aea+_0x56ed15+'/'+_0x492b0f+_0x1eb440(0x13a);if(_0x1b49d9[_0x1eb440(0x1f4)](_0x3dddcc[_0x1eb440(0x203)],0x0)){if(_0x1b49d9[_0x1eb440(0x1da)](_0x1b49d9[_0x1eb440(0x1e7)],_0x1b49d9[_0x1eb440(0x10e)])){const _0x132d31=_0x590c0e[_0x1eb440(0x1f6)](_0x5874ea,arguments);return _0x2c7d2b=null,_0x132d31;}else{const _0x15b565=_0x3dddcc[0x0][_0x1eb440(0x10b)]['split']('/'),_0x32427b=_0x1b49d9[_0x1eb440(0x130)](Number,_0x15b565[0x1][_0x1eb440(0x198)]('-')[0x1]);_0x2e7434=''+_0x4b3aea+_0x56ed15+'/'+_0x492b0f+'-'+_0x1b49d9[_0x1eb440(0x1ba)](String,_0x1b49d9[_0x1eb440(0x15b)](_0x32427b,0x1))['padStart'](0x5,'0');}}_0x3467c4['body']['docId']=_0x2e7434,_0x3467c4[_0x1eb440(0x112)][_0x1eb440(0x200)]=0x1,await _0x43a663['insertOne'](_0x3467c4[_0x1eb440(0x112)]),_0x211765['send'](JSON['stringify']({'isSave':!0x0,'class':_0x1b49d9[_0x1eb440(0x17e)],'msg':_0x1eb440(0x1e3)+_0x2e7434+_0x1eb440(0x191),'docId':_0x2e7434,'docStatusNumber':0x1}));}else{if(_0x1ed7ce)return _0x401271;else dCZfFn[_0x1eb440(0x1fb)](_0x29a954,0x0);}}else{if(_0x1b49d9[_0x1eb440(0x13b)](_0x49a942,0x1)&&_0x2c5154){if(_0x1b49d9[_0x1eb440(0x183)](_0x1b49d9[_0x1eb440(0x1fc)],_0x1b49d9[_0x1eb440(0x162)])){const _0x5e866e=_0x1d7292[_0x1eb440(0x1f6)](_0xa01902,arguments);return _0x292569=null,_0x5e866e;}else{const _0x20fdb8=await _0x43a663[_0x1eb440(0x105)]({'docId':_0x2c5154,'proposerId':_0x3f145c});if(!_0x20fdb8)return _0x211765[_0x1eb440(0x1a3)](JSON['stringify']({'isSave':!0x1,'class':_0x1b49d9['MEvHi'],'msg':_0x1b49d9['YJloy']}));const _0x10932b=await _0x43a663[_0x1eb440(0x1c8)]({'docId':_0x2c5154,'proposerId':_0x3f145c},{'$set':_0x3467c4[_0x1eb440(0x112)]});if(_0x1b49d9[_0x1eb440(0x131)](_0x10932b[_0x1eb440(0x142)],0x0)){if(_0x1b49d9['IlMNW'](_0x1b49d9[_0x1eb440(0x209)],_0x1b49d9[_0x1eb440(0x193)]))_0x53ce24=yITOGS[_0x1eb440(0x130)](_0x4d5d3d,yITOGS[_0x1eb440(0x12a)](yITOGS['TUFwD'](yITOGS[_0x1eb440(0x153)],yITOGS[_0x1eb440(0xff)]),');'))();else{const _0x2260a4=h[_0x1eb440(0x10f)](_0x20fdb8,_0x3467c4[_0x1eb440(0x112)]);if(_0x1b49d9[_0x1eb440(0x189)](_0x2260a4[_0x1eb440(0x203)],0x0)){if(_0x1b49d9['tmKfR'](_0x1b49d9['eRJuw'],_0x1b49d9[_0x1eb440(0x16f)]))return function(_0x1e0886){}[_0x1eb440(0x1af)](yITOGS['mDySU'])['apply'](yITOGS[_0x1eb440(0x1ae)]);else{const _0x30f4d5={'dateTime':_[_0x1eb440(0x136)](),'userId':_0x3f145c,'userFullname':_0xf19b05,'changes':_0x2260a4};return await _0x43a663['updateOne']({'docId':_0x2c5154},{'$push':{'changesHistory':{'$each':[_0x30f4d5],'$position':0x0}}}),_0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'docId':_0x2c5154,'docStatusNumber':_0x49a942,'isSave':!0x0,'class':_0x1b49d9[_0x1eb440(0x17e)],'msg':_0x1eb440(0x10d)+_0x2c5154+'\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]'}));}}else return _0x211765[_0x1eb440(0x1a3)](JSON['stringify']({'docId':_0x2c5154,'docStatusNumber':_0x49a942,'isSave':!0x0,'class':_0x1b49d9['AJGir'],'msg':'อัปเดท\x20'+_0x2c5154+_0x1eb440(0x191)}));}}else{if(_0x10932b[_0x1eb440(0xf8)]&&_0x1b49d9['Jhurt'](_0x10932b[_0x1eb440(0x142)],0x1))return _0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'docId':_0x2c5154,'docStatusNumber':_0x49a942,'isSave':!0x1,'class':_0x1b49d9[_0x1eb440(0x1ea)],'msg':'\x22'+_0x2c5154+_0x1eb440(0x159)}));}}}else{if(_0x1b49d9[_0x1eb440(0x1c3)](_0x49a942,0x2)&&_0x2c5154){if(_0x1b49d9[_0x1eb440(0x13e)](_0x1b49d9[_0x1eb440(0x201)],_0x1b49d9[_0x1eb440(0x185)])){const _0x1197e5=_0x2e62fb?function(){const _0x567e0f=_0x1eb440;if(_0x565de2){const _0x1888c8=_0x155d92[_0x567e0f(0x1f6)](_0x544a67,arguments);return _0x2bdc7e=null,_0x1888c8;}}:function(){};return _0x5645a7=![],_0x1197e5;}else{if(!await _0x43a663['findOne']({'docId':_0x2c5154,'proposerId':_0x3f145c}))return _0x211765[_0x1eb440(0x1a3)](JSON['stringify']({'isSave':!0x1,'class':_0x1b49d9['MEvHi'],'msg':_0x1b49d9[_0x1eb440(0x1f7)]}));const _0x18631e=await _0x43a663[_0x1eb440(0x1c8)]({'docId':_0x2c5154,'proposerId':_0x3f145c},{'$set':{'selectProposerSignature':_0x3467c4['body'][_0x1eb440(0x1bf)],'selectBottomLeftSignature':_0x3467c4[_0x1eb440(0x112)][_0x1eb440(0x1f0)]}});if(_0x1b49d9[_0x1eb440(0x1d5)](_0x18631e['modifiedCount'],0x0))return _0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'docId':_0x2c5154,'docStatusNumber':_0x49a942,'isSave':!0x0,'class':_0x1b49d9[_0x1eb440(0x17e)],'msg':_0x1eb440(0x10d)+_0x2c5154+_0x1eb440(0x191)}));if(_0x18631e[_0x1eb440(0xf8)]&&_0x1b49d9[_0x1eb440(0x204)](_0x18631e[_0x1eb440(0x142)],0x1))return _0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'docId':_0x2c5154,'docStatusNumber':_0x49a942,'isSave':!0x1,'class':_0x1b49d9['IMdBh'],'msg':'\x22'+_0x2c5154+_0x1eb440(0x159)}));}}else return _0x1b49d9[_0x1eb440(0x1c3)](_0x49a942,0xa)?_0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'isSave':!0x1,'class':_0x1b49d9[_0x1eb440(0x14a)],'msg':_0x1eb440(0x184)+_0x49a942+_0x1eb440(0x196)})):_0x211765[_0x1eb440(0x1a3)](JSON[_0x1eb440(0x194)]({'isSave':!0x1,'class':_0x1b49d9[_0x1eb440(0x14a)],'msg':_0x1b49d9['BhHRt']}));}}}}catch(_0x1904e5){_0x1b49d9[_0x1eb440(0x164)](_0x1b49d9['VmAOV'],_0x1b49d9[_0x1eb440(0x18a)])?(console[_0x1eb440(0x11f)](_0x1904e5),_0x211765[_0x1eb440(0x1a3)](JSON['stringify']({'isSave':!0x1,'class':_0x1b49d9[_0x1eb440(0x14a)],'msg':_0x1904e5['message']}))):_0x25bb09['close']();}finally{_0x1b49d9[_0x1eb440(0x1f9)](_0x1b49d9[_0x1eb440(0x197)],_0x1b49d9[_0x1eb440(0x161)])?_0x29e910[_0x1eb440(0xf9)]():(_0x27c9dc['log'](_0x36924f),_0x261339[_0x1eb440(0x1a3)](_0x42c950['stringify']({'isSave':!0x1,'class':_0x34b911['UtfnM'],'msg':_0x5d3dad['message']})));}}};_0x141ad7['push']({'req':_0x1b5769,'res':_0x84dd82}),_0xd23953||_0x1b49d9[_0x341a19(0x1c7)](_0x5769e0);});export default N;function _0x5039e6(_0x3b19c4){const _0x33c7c5=_0x1e1610,_0x32395f={'TmWFq':function(_0x14e026,_0x4e246b){return _0x14e026===_0x4e246b;},'dLpjK':_0x33c7c5(0x1d2),'ZMWIH':_0x33c7c5(0x190),'oeYrU':_0x33c7c5(0x1b8),'xJBNw':function(_0x1f6b37,_0x2264a2){return _0x1f6b37!==_0x2264a2;},'EkDGK':function(_0x44527a,_0x515579){return _0x44527a+_0x515579;},'GLgfB':function(_0x230c05,_0xd15b20){return _0x230c05/_0xd15b20;},'QZsTs':_0x33c7c5(0x203),'fySoI':function(_0x184c56,_0x16d573){return _0x184c56%_0x16d573;},'oHXYF':_0x33c7c5(0x1cb),'BNTGS':'gger','IPbwe':_0x33c7c5(0x1a5),'QNWyF':function(_0x3a2cf1,_0x4ead0c){return _0x3a2cf1+_0x4ead0c;},'bmSKq':_0x33c7c5(0x15e),'QxQss':function(_0x578469,_0x35f2ef){return _0x578469(_0x35f2ef);},'uVNnU':function(_0x3c65a1,_0x61d03e){return _0x3c65a1(_0x61d03e);}};function _0x15ffed(_0x4aef2c){const _0x65f4e2=_0x33c7c5;if(_0x32395f[_0x65f4e2(0x19d)](typeof _0x4aef2c,_0x32395f['dLpjK']))return function(_0x19139e){}[_0x65f4e2(0x1af)](_0x32395f[_0x65f4e2(0x1d0)])[_0x65f4e2(0x1f6)](_0x32395f['oeYrU']);else _0x32395f[_0x65f4e2(0x155)](_0x32395f[_0x65f4e2(0x11b)]('',_0x32395f[_0x65f4e2(0x1f1)](_0x4aef2c,_0x4aef2c))[_0x32395f[_0x65f4e2(0x206)]],0x1)||_0x32395f[_0x65f4e2(0x19d)](_0x32395f['fySoI'](_0x4aef2c,0x14),0x0)?function(){return!![];}[_0x65f4e2(0x1af)](_0x32395f[_0x65f4e2(0x11b)](_0x32395f['oHXYF'],_0x32395f[_0x65f4e2(0x1f3)]))[_0x65f4e2(0x1cf)](_0x32395f[_0x65f4e2(0x1e8)]):function(){return![];}[_0x65f4e2(0x1af)](_0x32395f[_0x65f4e2(0x1bd)](_0x32395f[_0x65f4e2(0x180)],_0x32395f[_0x65f4e2(0x1f3)]))[_0x65f4e2(0x1f6)](_0x32395f[_0x65f4e2(0x170)]);_0x32395f[_0x65f4e2(0x19a)](_0x15ffed,++_0x4aef2c);}try{if(_0x3b19c4)return _0x15ffed;else _0x32395f[_0x33c7c5(0x1dd)](_0x15ffed,0x0);}catch(_0x23b022){}}